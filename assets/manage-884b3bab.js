import{u as P}from"./useData-b30b62b8.js";import{_ as V,g as q,i as s,o as j,j as R,k as G,b as u,c,d,e as t,h as r,l as f,F as b,f as w,w as L,C as K,q as S,t as h,p as U}from"./index-28ae638b.js";const H={class:"map-container"},J={class:"menu-left"},Q={class:"left-head-container"},X={class:"equipment-box"},Y={class:"content"},Z=["src"],tt={class:"item-content"},et={class:"left-head-container",style:{"margin-top":"16px"}},at={class:"title-box",style:{margin:"8px 20px 0 20px"}},it={class:"bottom-chart"},nt={class:"each-chart",ref:"echart1"},ot={class:"bottom-title"},st=["src"],lt={style:{width:"380px",height:"150px"},ref:"echart2"},ct={class:"menu-right"},dt={class:"right-head-container"},rt={class:"right-head-charts"},pt={__name:"manage",setup(mt){const{proxy:y}=q(),{getImg:a,weather:k,echarts:_,serve:D,map:x,mTime:I,store:p,pieActive:T}=P(),$=s(["全部","当日","近30天","近90天","近一年"]),E=s([{expand:!0,title:"龙泉驿区",children:[{title:"龙泉街道",expand:!1,children:[{title:"百工堰社区",children:[{title:"王文"},{title:"林山"},{title:"文华"}]},{title:"星光社区"}]},{title:"大面街道",expand:!1},{title:"十陵街道",expand:!1},{title:"同安街道",expand:!1},{title:"洛带镇",expand:!1},{title:"洪安镇",expand:!1},{title:"山泉镇",expand:!1}]}]),M=s([{img:a("yyt.png"),title:"营业厅数",num:9},{img:a("gfwd.png"),title:"镇级服务网点数",num:131},{img:a("bsc.png"),title:"村级服务代办点",num:641}]),z=s([{img:a("yydt-icon.png"),title:"营业大厅"},{img:a("fwwd-icon-map.png"),title:"服务网点"}]),C=s([{img:a("yyt-icon-menu.png"),desc:"营业厅数",total:9},{img:a("fwwd-icon-menu.png"),desc:"服务网点",total:315},{img:a("gfdbd.png"),desc:"公服代办点",total:278},{img:a("gdgj.png"),desc:"广电管家",total:107},{img:a("fwxz.png"),desc:"服务乡镇数",total:21},{img:a("fwc.png"),desc:"服务村数",total:315},{img:a("fwgz.png"),desc:"服务工作员",total:128},{img:a("dy.png"),desc:"党员人数",total:50}]),A=s([{location:"龙泉驿区",lngLat:[104.27536,30.556808],img:"yyt-image.png",phone:"15394612646",specificLocaltion:"四川省成都市龙泉驿区"},{location:"龙泉街道办",lngLat:[104.265402,30.562251],type:1,img:"yyt-image.png",phone:"15394613646",specificLocaltion:"四川省成都市龙泉街道办事处"},{location:"洛带古镇",lngLat:[104.328033,30.635452],type:0,img:"yyt-image.png",phone:"15395613646",specificLocaltion:"洛带古镇"},{location:"十陵镇",lngLat:[104.172438,30.645829],type:1,img:"yyt-image.png",phone:"15294613646",specificLocaltion:"四川省成都市十陵镇"}]),m=s({marker:"five-star.png",yydtIcon:"yydt-icon.png",fwwdIcon:"fwwd-icon-map.png"}),N=()=>{let i="",e=[];A.forEach(n=>{n.type?i=`<div><img style="width: 42px;height: 58px" src="${a(m.yydtIcon)}"/></div>`:i=`<div><img style="width: 42px;height: 58px" src="${a(m.fwwdIcon)}"/></div>`,n.location==="龙泉驿区"&&(i=`<div><img src="${a(m.marker)}"/></div>`);let o=new AMap.Marker({map:x.value,position:n.lngLat,content:i,extData:n});e.push(n),o.on("click",v=>{B(v.target)})}),p.commit("SETPOINTMARKER",e)},B=i=>{let e=i.getExtData(),n=` <div class="model">
                  <img class="pointLine" src="${a("pointLine.png")}"/>
            <div class="button" onclick="closeWindow()">
                <img src="${a("close-icon.png")}"/>
            </div>
            <div style="margin: 15px 10px">
                <div class="title">${e.location}${e.type?"营业大厅":"服务网点"}</div>
            </div>
            <img class="image" src="${a(e.img)}"/>
            <div class="location-text">
                <div>网点位置：<span>${e.specificLocaltion}</span></div>
                <div>联系电话：<span>${e.phone}</span></div>
            </div>
        </div>`,o=new AMap.InfoWindow({isCustom:!0,content:n,autoMove:!0,closeWhenClickMap:!0,offset:new AMap.Pixel(400,-172)});p.commit("SETINFOWINDOW",o),o.open(x.value,i.getPosition())},O=()=>{let i=parseInt(100*Math.random()),e={title:{text:"{a|"+i+"}{c|%}",left:"center",top:"center",textStyle:{rich:{a:{fontSize:20,color:"#29EEF3"},c:{fontSize:20,color:"#ffffff"}}}},series:[{name:"",type:"pie",radius:["72%","66%"],silent:!0,z:0,zlevel:0,label:{show:!1},data:[{value:1,name:"",itemStyle:{normal:{color:"#64dd3b"}}},{value:1,name:"",itemStyle:{normal:{color:"#173164"}}}]},{name:"",type:"pie",radius:["61%","35%"],silent:!0,startAngle:270,z:0,zlevel:0,label:{show:!1},data:[{value:i,name:"",itemStyle:{normal:{color:{colorStops:[{offset:0,color:"#00EDF3"},{offset:1,color:"#646CF9"}]}}}},{value:100-i,name:"",itemStyle:{normal:{color:"#173164"}}}]}]},n=y.$refs.echart1;_.init(n).setOption(e)},W=()=>{let i={tooltip:{show:!0},grid:{top:"6%",left:"1%",right:"1%",bottom:"8%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,axisLine:{show:!0,lineStyle:{color:"#233e64"}},axisLabel:{color:"#6a9cd5",margin:15},axisTick:{show:!1},data:["11","12","13","14","15","16","17"]}],yAxis:[{type:"value",splitNumber:7,splitLine:{lineStyle:{color:"#233e64"}},axisLine:{show:!1},axisLabel:{margin:20,color:"#6a9cd5"},axisTick:{show:!1}}],series:[{name:"服务频次",type:"line",symbolSize:0,lineStyle:{normal:{color:"#3deaff"}},areaStyle:{normal:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(61,234,255, 0.9)"},{offset:.7,color:"rgba(61,234,255, 0)"}]}}},data:[90,105,84,125,110,92,98]}]},e=_.init(y.$refs.echart2);e.setOption(i),T(e,i)},F=()=>{N(),O(),W()};return j(()=>{R(()=>{F()})}),G(()=>{clearInterval(I.value),p.dispatch("resetMap")}),(i,e)=>{const n=u("Option"),o=u("Select"),v=u("Tree");return c(),d("div",H,[t("div",J,[t("div",Q,[r(f(k)),t("div",X,[t("div",Y,[(c(!0),d(b,null,w(C,(l,g)=>(c(),d("div",{class:"item-box",key:g},[t("img",{src:l.img},null,8,Z),t("div",tt,[t("div",null,h(l.desc),1),t("div",null,h(l.total),1)])]))),128))])])]),t("div",et,[t("div",at,[e[0]||(e[0]=t("div",{class:"title-content"},[t("div",null,"服务响应"),t("div",null,"The service response")],-1)),t("div",null,[r(o,{class:"selector"},{default:L(()=>[(c(!0),d(b,null,w($,(l,g)=>(c(),U(n,{value:l,key:g},{default:L(()=>[S(h(l),1)]),_:2},1032,["value"]))),128))]),_:1})])]),t("div",it,[t("div",nt,null,512),e[1]||(e[1]=K('<div class="bottom-chart-content" data-v-ea49ecba><div class="item" data-v-ea49ecba><div class="line" data-v-ea49ecba><span data-v-ea49ecba></span><span data-v-ea49ecba></span></div><div class="title" data-v-ea49ecba> 已处理(次) </div><div class="num" data-v-ea49ecba> 841 </div></div></div><div class="bottom-chart-content" data-v-ea49ecba><div class="item" data-v-ea49ecba><div class="line" data-v-ea49ecba><span style="background:#3bdd68;" data-v-ea49ecba></span><span style="background:rgba(59, 221, 104, 0.26);" data-v-ea49ecba></span></div><div class="title" data-v-ea49ecba> 未处理 </div><div class="num" data-v-ea49ecba> 263 </div></div></div>',2))]),t("div",ot,[t("img",{src:f(a)("title-icon.png")},null,8,st),e[2]||(e[2]=S(" 近7日服务频次趋势 "))]),t("div",lt,null,512)])]),t("div",ct,[t("div",dt,[e[3]||(e[3]=t("div",{class:"title-box"},[t("div",{class:"title-content"},[t("div",null,"广电管家"),t("div",null,"Plenty of engineering")])],-1)),t("div",rt,[r(v,{data:E},null,8,["data"])])])]),r(f(D),{menuTopData:M,menuBottomLeftData:z},null,8,["menuTopData","menuBottomLeftData"])])}}},ut=V(pt,[["__scopeId","data-v-ea49ecba"]]);export{ut as default};
