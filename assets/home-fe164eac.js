import{V as I}from"./vue3-seamless-scroll.es-3d1d4aa3.js";import{u as J}from"./useData-4bd6599b.js";import{_ as K,r as g,i as u,o as Q,j as X,k as Y,b as E,c,d,e as t,h,l as m,F as v,f,w as _,m as P,t as r,p as Z,q as W,n as tt,s as et}from"./index-923de600.js";const nt={class:"menu-left"},ot={class:"left-head-container"},lt={class:"equipment-box"},st=["src"],it={class:"item-content"},at={class:"left-middle-container"},ct={class:"title-box"},rt={class:"scroll-container"},dt={class:"under-container"},ut={class:"left-head-container"},mt={class:"menu-right"},pt={class:"right-head-container"},vt={class:"right-head-charts"},ft={class:"charts"},gt={class:"chart-content-box"},ht={class:"title"},_t=["src"],yt={class:"nums"},bt=["src"],xt={class:"right-bottom-containers"},wt={class:"scroll"},kt=["src"],Dt={class:"content-box"},St={__name:"home",setup(Lt){const{getImg:o,weather:M,echarts:x,serve:O,map:w,mTime:$,store:y,pieActive:A}=J(),k=g(),D=g(),B=g(["全部","当日","近30天","近90天","近一年"]),T=u([{img:o("yyt.png"),title:"营业厅共计",num:32},{img:o("gfwd.png"),title:"公服网点共计",num:18},{img:o("bsc.png"),title:"公司办事处",num:6}]),z=u([{img:o("yyt-icon.png"),title:"营业厅"},{img:o("gfwd-icon.png"),title:"公服网点"}]),N=u([{icon:o("5g-icon.png"),title:"5G用户",num:1254,percent:12,status:1},{icon:o("tv-icon.png"),title:"有线电视用户",num:54,percent:9,status:1},{icon:o("tv-icon-2.png"),title:"地面数字电视",num:12,percent:14,status:0},{icon:o("user-icon.png"),title:"户户通用户",num:154,percent:5,status:1},{icon:o("bandwidth-icon.png"),title:"宽带用户",num:125,percent:22,status:0}]),S=u({hover:!0,direction:"up",limitScrollNum:2,step:.2,singleHeight:0}),L=g([{name:"移民村一组",type:"防火",status:1},{name:"白虎村村头",type:"雪亮",status:0},{name:"移民村二组",type:"防火",status:1},{name:"白虎村村头",type:"综治",status:1},{name:"移民村二组",type:"防火",status:1},{name:"白虎村村头",type:"综治",status:1}]),F=u([{img:o("mv-2.png"),title:"龙泉驿区204名“树长”守护蜀道翠云廊7千多棵古树",time:"2022-05-31 11:13:04"},{img:o("mv-3.png"),title:"龙泉驿区204名“树长”守护蜀道翠云廊7千多棵古树",time:"2022-05-24 11:13:04"},{img:o("mv-4.png"),title:"龙泉驿区204名“树长”守护蜀道翠云廊7千多棵古树",time:"2022-05-31 11:13:04"},{img:o("mv-5.png"),title:"龙泉驿区204名“树长”守护蜀道翠云廊7千多棵古树",time:"2022-05-22 11:13:04"}]),V=g([{img:"camera-icon.png",desc:"平安乡村设备",total:134,onlinePercent:"在线率:98%"},{img:"trumpet-icon.png",desc:"应急广播设备",total:37,onlinePercent:"在线率:96%"}]),q=u([{location:"龙泉驿区",lngLat:[104.27536,30.556808],img:"fwwd.png",phone:"15394612646",specificLocaltion:"四川省成都市龙泉驿区"},{location:"龙泉街道办",lngLat:[104.265402,30.562251],type:!0,img:"excel_11.png",phone:"15394613646",specificLocaltion:"四川省成都市龙泉街道办事处"},{location:"洛带古镇",lngLat:[104.328033,30.635452],type:!1,img:"excel_12.png",phone:"15395613646",specificLocaltion:"洛带古镇"},{location:"十陵镇",lngLat:[104.172438,30.645829],type:!0,img:"excel_13.jpg",phone:"15294613646",specificLocaltion:"四川省成都市十陵镇"}]),b=u({marker:o("five-star.png"),yytIcon:o("yyt-icon.png"),gfwdIcom:o("gfwd-icon.png")}),j=()=>{let l="",e=[];q.forEach(s=>{s.type===!0?l=`<div><img style="width: 42px;height:58px" src="${b.yytIcon}" /></div>`:l=`<div><img style="width: 42px;height:58px" src="${b.gfwdIcom}" /></div>`,s.location==="龙泉驿区"&&(l=`<div><img src="${b.marker}" /></div>`);let a=new AMap.Marker({map:w.value,position:s.lngLat,content:l,extData:s});e.push(s),a.on("click",n=>{R(n.target)})}),y.commit("SETPOINTMARKER",e)},G=()=>{j(),U(),H()},R=l=>{let e=l.getExtData(),s=`<div class="model">
                  <img class="pointLine" src="${o("pointLine.png")}"/>
            <div class="button" onclick="closeWindow()">
                <img src="${o("close-icon.png")}"/>
            </div>
            <div style="margin: 15px 10px">
                <div class="title">${e.location}${e.type?"营业厅":"公服网点"}</div>
            </div>
            <img class="image" src="${o(e.img)}"/>
            <div class="location-text">
                <div>网点位置：<span>${e.specificLocaltion}</span></div>
                <div>联系电话：<span>${e.phone}</span></div>
            </div>
        </div>`,a=new AMap.InfoWindow({isCustom:!0,content:s,autoMove:!0,closeWhenClickMap:!0,offset:new AMap.Pixel(400,-172)});y.commit("SETINFOWINDOW",a),a.open(w.value,l.getPosition())},U=()=>{let l=o("chart1-center-icon.png"),e=[{name:"IP广播（个）",value:137,color:"#00ffff"},{name:"调频广播（个）",value:56,color:"#ff5b00"}],s=[],a=["#00ffff","#ff5b00","#ffe000","#00ff00","#ffa800","#ff5b00","#ff3000"];for(let p=0;p<e.length;p++)s.push({value:e[p].value,name:e[p].name,itemStyle:{normal:{borderWidth:5,shadowBlur:20,borderColor:a[p],shadowColor:a[p]}}},{value:20,name:"",itemStyle:{normal:{color:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)",borderWidth:0}}});let i={color:a,graphic:{elements:[{type:"image",z:1,style:{image:l,width:180,height:180},left:110,top:0}]},tooltip:{show:!0},legend:{orient:"vertical",left:"right",top:"bottom",icon:"circle",show:!0,textStyle:{color:"#FFFFFF"},data:["IP广播（个）","调频广播（个）"]},series:[{name:"",type:"pie",clockWise:!1,center:["50%","45%"],radius:[70,70],label:{show:!1},labelLine:{show:!1},data:s}]},C=x.init(k.value);C.setOption(i),A(C,i)},H=()=>{for(let l=0;l<5;l++){let e=parseInt(100*Math.random()),s={title:{text:"{a|"+e+"}{c|%}",left:"center",top:"center",textStyle:{rich:{a:{fontSize:20,color:"#29EEF3"},c:{fontSize:20,color:"#ffffff"}}}},series:[{name:"",type:"pie",radius:["72%","66%"],silent:!0,clockwise:!0,z:0,label:{show:!1},data:[{value:e,name:"",itemStyle:{normal:{color:{type:"linear",colorStops:[{offset:0,color:"#A098FC"},{offset:.3,color:"#4386FA"},{offset:.6,color:"#4FADFD"},{offset:.8,color:"#0CD3DB"},{offset:1,color:"#646CF9"}]}}}},{value:100-e,name:"",label:{normal:{show:!1}},itemStyle:{normal:{color:"#173164"}}}]},{name:"",type:"pie",radius:["61%","35%"],silent:!0,clockwise:!0,startAngle:270,z:0,label:{show:!1},data:[{value:e,name:"",itemStyle:{normal:{color:{colorStops:[{offset:0,color:"#00EDF3"},{offset:1,color:"#646CF9"}]}}}},{value:100-e,name:"",label:{show:!1},itemStyle:{normal:{color:"#173164"}}}]}]},a=D.value[l];x.init(a).setOption(s)}};return Q(()=>{X(()=>{G()})}),Y(()=>{clearInterval($.value),y.dispatch("resetMap")}),(l,e)=>{const s=E("Option"),a=E("Select");return c(),d("div",null,[t("div",nt,[t("div",ot,[h(m(M)),t("div",lt,[(c(!0),d(v,null,f(V.value,(n,i)=>(c(),d("div",{class:"item-box",key:i},[t("img",{src:m(o)(n.img)},null,8,st),t("div",it,[t("div",null,r(n.desc),1),t("div",null,r(n.total),1),t("div",null,r(n.onlinePercent),1)])]))),128))])]),t("div",at,[t("div",ct,[e[0]||(e[0]=t("div",{class:"title-content"},[t("div",null,"平安新村"),t("div",null,"Peace countryside")],-1)),t("div",null,[h(a,{class:"selector"},{default:_(()=>[(c(!0),d(v,null,f(B.value,(n,i)=>(c(),Z(s,{value:n,key:i},{default:_(()=>[W(r(n),1)]),_:2},1032,["value"]))),128))]),_:1})])]),e[1]||(e[1]=t("div",{class:"table-header"},[t("div",null,"设备名称"),t("div",null,"设备类型"),t("div",null,"设备状态")],-1)),t("div",rt,[t("div",dt,[h(m(I),P({list:L.value},S),{default:_(()=>[(c(!0),d(v,null,f(L.value,(n,i)=>(c(),d("div",{class:"table-item",key:i},[t("div",null,r(n.name),1),t("div",null,r(n.type),1),t("div",null,[t("div",{class:tt(n.status?"correct":"incorrect")},null,2),W(" "+r(n.status?"在线":"离线"),1)])]))),128))]),_:1},16,["list"])])])]),t("div",ut,[e[2]||(e[2]=t("div",{class:"title-box",style:{margin:"8px 20px 0 20px"}},[t("div",{class:"title-content"},[t("div",null,"应急广播"),t("div",null,"Emergency broadcast")])],-1)),t("div",{ref_key:"echart1",ref:k,class:"left-under-chart"},null,512)])]),t("div",mt,[t("div",pt,[e[3]||(e[3]=t("div",{class:"title-box"},[t("div",{class:"title-content"},[t("div",null,"用户分布"),t("div",null,"User distribution")])],-1)),t("div",vt,[t("div",ft,[(c(),d(v,null,f(5,(n,i)=>t("div",{ref_for:!0,ref_key:"echart2",ref:D,key:i,class:"each-chart"})),64))]),t("div",gt,[(c(!0),d(v,null,f(N,(n,i)=>(c(),d("div",{key:i,class:"charts-content"},[t("div",ht,[t("img",{src:n.icon},null,8,_t),t("div",null,r(n.title),1)]),t("div",yt,[t("div",null,r(n.num),1),t("img",{src:n.status===1?m(o)("up.png"):m(o)("down.png")},null,8,bt),t("div",{class:"gain",style:et({color:n.status===1?"#ffd15c":"#3bdd68"})},r(n.percent)+"% ",5)])]))),128))])])]),t("div",xt,[e[4]||(e[4]=t("div",{class:"title-box"},[t("div",{class:"title-content"},[t("div",null,"龙泉驿区资讯"),t("div",null,"JianGe information")])],-1)),t("div",wt,[h(m(I),P({list:F},S),{default:_(()=>[(c(!0),d(v,null,f(F,(n,i)=>(c(),d("div",{key:i,class:"scroll-box"},[t("img",{src:n.img},null,8,kt),t("div",Dt,[t("div",null,r(n.title),1),t("div",null,r(n.time),1)])]))),128))]),_:1},16,["list"])])])]),h(m(O),{menuTopData:T,menuBottomLeftData:z,unit:"处"},null,8,["menuTopData","menuBottomLeftData"])])}}},Et=K(St,[["__scopeId","data-v-b1202a9d"]]);export{Et as default};
