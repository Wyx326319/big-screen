import{_ as Mb,c as Nr,d as Vr,e as st,l as dC,g as gC,F as yd,f as _d,t as vn,q as pC,B as xd,D as Sd,E as mC,u as yC,x as _C,r as xC}from"./index-28ae638b.js";function SC(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in e)){const n=Object.getOwnPropertyDescriptor(a,i);n&&Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Db=e=>new URL("../assets/imgs/"+e,import.meta.url).href;const bC={class:"weather-box"},wC={class:"icon-box"},AC=["src"],TC={__name:"weather",setup(e){return(t,r)=>(Nr(),Vr("div",bC,[r[1]||(r[1]=st("div",{class:"roll-Time"},[st("div",null,"16:24"),st("div",null,"2022-04-27")],-1)),st("div",wC,[st("img",{src:dC(Db)("weather-icon.png"),class:"icon"},null,8,AC),r[0]||(r[0]=st("div",null,"多云",-1))]),r[2]||(r[2]=st("div",{class:"location-box"},[st("div",null,"26℃"),st("div",null,[st("div",{class:"pin"}),st("div",{class:"pulse"}),st("div",{class:"location"},"成都市龙泉驿区")])],-1))]))}},CC=Mb(TC,[["__scopeId","data-v-3167959b"]]);const MC={key:0,class:"bottom-menu-container"},DC=["src"],LC={class:"item-content"},IC={class:"title"},PC={class:"num"},RC={class:"unit"},EC={key:1,class:"bottom-menu-left-container"},kC=["src"],zC={__name:"serve",props:{menuTopData:{type:Array,default:null},menuBottomLeftData:{type:Array,default:null},unit:{type:String,default:"个"}},setup(e){return gC(),(t,r)=>(Nr(),Vr("div",null,[e.menuTopData?(Nr(),Vr("div",MC,[(Nr(!0),Vr(yd,null,_d(e.menuTopData,(a,i)=>(Nr(),Vr("div",{class:"itme",key:i},[st("img",{src:a.img},null,8,DC),st("div",LC,[st("div",IC,vn(a.title),1),st("div",PC,[pC(vn(a.num),1),st("span",RC,vn(e.unit),1)])])]))),128))])):xd("",!0),e.menuBottomLeftData?(Nr(),Vr("div",EC,[(Nr(!0),Vr(yd,null,_d(e.menuBottomLeftData,(a,i)=>(Nr(),Vr("div",{class:"item",key:i},[st("img",{src:a.img},null,8,kC),st("span",null,vn(a.title),1)]))),128))])):xd("",!0)]))}},OC=Mb(zC,[["__scopeId","data-v-fd7ad16e"]]);var jc={},ve={};typeof window<"u"||typeof Sd<"u"&&Sd.__DEV__;var Ar={},NC=2311;function VC(){return NC++}var Lb=VC,Ci={};typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?Ci={browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:typeof document>"u"&&typeof self<"u"?Ci={browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:typeof navigator>"u"?Ci={browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:Ci=qC(navigator.userAgent);var BC=Ci;function qC(e){var t={},r={},a=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),n=e.match(/Edge\/([\d.]+)/),h=/micromessenger/i.test(e);return a&&(r.firefox=!0,r.version=a[1]),i&&(r.ie=!0,r.version=i[1]),n&&(r.edge=!0,r.version=n[1]),h&&(r.weChat=!0),{browser:r,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:typeof SVGRect<"u",touchEventsSupported:"ontouchstart"in window&&!r.ie&&!r.edge,pointerEventsSupported:"onpointerdown"in window&&(r.edge||r.ie&&r.version>=11)}}var lt=BC,F={},Ib={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Pb={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Bi=Object.prototype.toString,qi=Array.prototype,HC=qi.forEach,GC=qi.filter,Ii=qi.slice,FC=qi.map,$C=qi.reduce,Jc={};function UC(e,t){e==="createCanvas"&&(Hn=null),Jc[e]=t}function Va(e){if(e==null||typeof e!="object")return e;var t=e,r=Bi.call(e);if(r==="[object Array]"){if(!Ba(e)){t=[];for(var a=0,i=e.length;a<i;a++)t[a]=Va(e[a])}}else if(Pb[r]){if(!Ba(e)){var n=e.constructor;if(e.constructor.from)t=n.from(e);else{t=new n(e.length);for(var a=0,i=e.length;a<i;a++)t[a]=Va(e[a])}}}else if(!Ib[r]&&!Ba(e)&&!jn(e)){t={};for(var h in e)e.hasOwnProperty(h)&&(t[h]=Va(e[h]))}return t}function ef(e,t,r){if(!Mi(t)||!Mi(e))return r?Va(t):e;for(var a in t)if(t.hasOwnProperty(a)){var i=e[a],n=t[a];Mi(n)&&Mi(i)&&!Qn(n)&&!Qn(i)&&!jn(n)&&!jn(i)&&!gc(n)&&!gc(i)&&!Ba(n)&&!Ba(i)?ef(i,n,r):(r||!(a in e))&&(e[a]=Va(t[a]))}return e}function WC(e,t){for(var r=e[0],a=1,i=e.length;a<i;a++)r=ef(r,e[a],t);return r}function ZC(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}function Rb(e,t,r){for(var a in t)t.hasOwnProperty(a)&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a]);return e}var Eb=function(){return Jc.createCanvas()};Jc.createCanvas=function(){return document.createElement("canvas")};var Hn;function YC(){return Hn||(Hn=Eb().getContext("2d")),Hn}function XC(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,a=e.length;r<a;r++)if(e[r]===t)return r}return-1}function KC(e,t){var r=e.prototype;function a(){}a.prototype=t.prototype,e.prototype=new a;for(var i in r)e.prototype[i]=r[i];e.prototype.constructor=e,e.superClass=t}function QC(e,t,r){e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Rb(e,t,r)}function jC(e){if(e)return typeof e=="string"?!1:typeof e.length=="number"}function kb(e,t,r){if(e&&t)if(e.forEach&&e.forEach===HC)e.forEach(t,r);else if(e.length===+e.length)for(var a=0,i=e.length;a<i;a++)t.call(r,e[a],a,e);else for(var n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e)}function JC(e,t,r){if(e&&t){if(e.map&&e.map===FC)return e.map(t,r);for(var a=[],i=0,n=e.length;i<n;i++)a.push(t.call(r,e[i],i,e));return a}}function eM(e,t,r,a){if(e&&t){if(e.reduce&&e.reduce===$C)return e.reduce(t,r,a);for(var i=0,n=e.length;i<n;i++)r=t.call(a,r,e[i],i,e);return r}}function tM(e,t,r){if(e&&t){if(e.filter&&e.filter===GC)return e.filter(t,r);for(var a=[],i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)&&a.push(e[i]);return a}}function rM(e,t,r){if(e&&t){for(var a=0,i=e.length;a<i;a++)if(t.call(r,e[a],a,e))return e[a]}}function zb(e,t){var r=Ii.call(arguments,2);return function(){return e.apply(t,r.concat(Ii.call(arguments)))}}function aM(e){var t=Ii.call(arguments,1);return function(){return e.apply(this,t.concat(Ii.call(arguments)))}}function Qn(e){return Bi.call(e)==="[object Array]"}function iM(e){return typeof e=="function"}function nM(e){return Bi.call(e)==="[object String]"}function Mi(e){var t=typeof e;return t==="function"||!!e&&t=="object"}function gc(e){return!!Ib[Bi.call(e)]}function oM(e){return!!Pb[Bi.call(e)]}function jn(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function sM(e){return e!==e}function lM(e){for(var t=0,r=arguments.length;t<r;t++)if(arguments[t]!=null)return arguments[t]}function uM(e,t){return e??t}function vM(e,t,r){return e??t??r}function hM(){return Function.call.apply(Ii,arguments)}function cM(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function fM(e,t){if(!e)throw new Error(t)}function dM(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Ob="__ec_primitive__";function gM(e){e[Ob]=!0}function Ba(e){return e[Ob]}function Jn(e){var t=Qn(e),r=this;e instanceof Jn?e.each(a):e&&kb(e,a);function a(i,n){t?r.set(i,n):r.set(n,i)}}Jn.prototype={constructor:Jn,get:function(e){return this.hasOwnProperty(e)?this[e]:null},set:function(e,t){return this[e]=t},each:function(e,t){t!==void 0&&(e=zb(e,t));for(var r in this)this.hasOwnProperty(r)&&e(this[r],r)},removeKey:function(e){delete this[e]}};function pM(e){return new Jn(e)}function mM(e,t){for(var r=new e.constructor(e.length+t.length),a=0;a<e.length;a++)r[a]=e[a];var i=e.length;for(a=0;a<t.length;a++)r[a+i]=t[a];return r}function yM(){}F.$override=UC;F.clone=Va;F.merge=ef;F.mergeAll=WC;F.extend=ZC;F.defaults=Rb;F.createCanvas=Eb;F.getContext=YC;F.indexOf=XC;F.inherits=KC;F.mixin=QC;F.isArrayLike=jC;F.each=kb;F.map=JC;F.reduce=eM;F.filter=tM;F.find=rM;F.bind=zb;F.curry=aM;F.isArray=Qn;F.isFunction=iM;F.isString=nM;F.isObject=Mi;F.isBuiltInObject=gc;F.isTypedArray=oM;F.isDom=jn;F.eqNaN=sM;F.retrieve=lM;F.retrieve2=uM;F.retrieve3=vM;F.slice=hM;F.normalizeCssArray=cM;F.assert=fM;F.trim=dM;F.setAsPrimitive=gM;F.isPrimitive=Ba;F.createHashMap=pM;F.concatArray=mM;F.noop=yM;var Ce={},Nb=typeof Float32Array>"u"?Array:Float32Array;function _M(e,t){var r=new Nb(2);return e==null&&(e=0),t==null&&(t=0),r[0]=e,r[1]=t,r}function xM(e,t){return e[0]=t[0],e[1]=t[1],e}function SM(e){var t=new Nb(2);return t[0]=e[0],t[1]=e[1],t}function bM(e,t,r){return e[0]=t,e[1]=r,e}function wM(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function AM(e,t,r,a){return e[0]=t[0]+r[0]*a,e[1]=t[1]+r[1]*a,e}function TM(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function tf(e){return Math.sqrt(rf(e))}var CM=tf;function rf(e){return e[0]*e[0]+e[1]*e[1]}var MM=rf;function DM(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function LM(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function IM(e,t){return e[0]*t[0]+e[1]*t[1]}function PM(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function RM(e,t){var r=tf(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function Vb(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var EM=Vb;function Bb(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var kM=Bb;function zM(e,t){return e[0]=-t[0],e[1]=-t[1],e}function OM(e,t,r,a){return e[0]=t[0]+a*(r[0]-t[0]),e[1]=t[1]+a*(r[1]-t[1]),e}function NM(e,t,r){var a=t[0],i=t[1];return e[0]=r[0]*a+r[2]*i+r[4],e[1]=r[1]*a+r[3]*i+r[5],e}function VM(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function BM(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}Ce.create=_M;Ce.copy=xM;Ce.clone=SM;Ce.set=bM;Ce.add=wM;Ce.scaleAndAdd=AM;Ce.sub=TM;Ce.len=tf;Ce.length=CM;Ce.lenSquare=rf;Ce.lengthSquare=MM;Ce.mul=DM;Ce.div=LM;Ce.dot=IM;Ce.scale=PM;Ce.normalize=RM;Ce.distance=Vb;Ce.dist=EM;Ce.distanceSquare=Bb;Ce.distSquare=kM;Ce.negate=zM;Ce.lerp=OM;Ce.applyTransform=NM;Ce.min=VM;Ce.max=BM;function pc(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}pc.prototype={constructor:pc,_dragStart:function(e){var t=e.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(ba(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,a=e.offsetY,i=r-this._x,n=a-this._y;this._x=r,this._y=a,t.drift(i,n,e),this.dispatchToElement(ba(t,e),"drag",e.event);var h=this.findHover(r,a,t).target,d=this._dropTarget;this._dropTarget=h,t!==h&&(d&&h!==d&&this.dispatchToElement(ba(d,e),"dragleave",e.event),h&&h!==d&&this.dispatchToElement(ba(h,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(ba(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(ba(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};function ba(e,t){return{target:e,topTarget:t&&t.topTarget}}var qM=pc,HM=qM,bd=Array.prototype.slice,mc=function(){this._$handlers={}};mc.prototype={constructor:mc,one:function(e,t,r){var a=this._$handlers;if(!t||!e)return this;a[e]||(a[e]=[]);for(var i=0;i<a[e].length;i++)if(a[e][i].h===t)return this;return a[e].push({h:t,one:!0,ctx:r||this}),this},on:function(e,t,r){var a=this._$handlers;if(!t||!e)return this;a[e]||(a[e]=[]);for(var i=0;i<a[e].length;i++)if(a[e][i].h===t)return this;return a[e].push({h:t,one:!1,ctx:r||this}),this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var r=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var a=[],i=0,n=r[e].length;i<n;i++)r[e][i].h!=t&&a.push(r[e][i]);r[e]=a}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>3&&(t=bd.call(t,1));for(var a=this._$handlers[e],i=a.length,n=0;n<i;){switch(r){case 1:a[n].h.call(a[n].ctx);break;case 2:a[n].h.call(a[n].ctx,t[1]);break;case 3:a[n].h.call(a[n].ctx,t[1],t[2]);break;default:a[n].h.apply(a[n].ctx,t);break}a[n].one?(a.splice(n,1),i--):n++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments,r=t.length;r>4&&(t=bd.call(t,1,t.length-1));for(var a=t[t.length-1],i=this._$handlers[e],n=i.length,h=0;h<n;){switch(r){case 1:i[h].h.call(a);break;case 2:i[h].h.call(a,t[1]);break;case 3:i[h].h.call(a,t[1],t[2]);break;default:i[h].h.apply(a,t);break}i[h].one?(i.splice(h,1),n--):h++}}return this}};var GM=mc,ua=GM,_o=F,FM=Ce,qb=HM,Hb=ua,Gb="silent";function $M(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which}}function Fb(){}Fb.prototype.dispose=function(){};var UM=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Fa=function(e,t,r,a){Hb.call(this),this.storage=e,this.painter=t,this.painterRoot=a,r=r||new Fb,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,qb.call(this),this.setHandlerProxy(r)};Fa.prototype={constructor:Fa,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(_o.each(UM,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,r=e.zrY,a=this._hovered,i=a.target;i&&!i.__zr&&(a=this.findHover(a.x,a.y),i=a.target);var n=this._hovered=this.findHover(t,r),h=n.target,d=this.proxy;d.setCursor&&d.setCursor(h?h.cursor:"default"),i&&h!==i&&this.dispatchToElement(a,"mouseout",e),this.dispatchToElement(n,"mousemove",e),h&&h!==i&&this.dispatchToElement(n,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);var t=e.toElement||e.relatedTarget,r;do t=t&&t.parentNode;while(t&&t.nodeType!=9&&!(r=t===this.painterRoot));!r&&this.trigger("globalout",{event:e})},resize:function(e){this._hovered={}},dispatch:function(e,t){var r=this[e];r&&r.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var i="on"+t,n=$M(t,e,r);a&&(a[i]&&(n.cancelBubble=a[i].call(a,n)),a.trigger(t,n),a=a.parent,!n.cancelBubble););n.cancelBubble||(this.trigger(t,n),this.painter&&this.painter.eachOtherLayer(function(h){typeof h[i]=="function"&&h[i].call(h,n),h.trigger&&h.trigger(t,n)}))}},findHover:function(e,t,r){for(var a=this.storage.getDisplayList(),i={x:e,y:t},n=a.length-1;n>=0;n--){var h;if(a[n]!==r&&!a[n].ignore&&(h=WM(a[n],e,t))&&(!i.topTarget&&(i.topTarget=a[n]),h!==Gb)){i.target=a[n];break}}return i}};_o.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Fa.prototype[e]=function(t){var r=this.findHover(t.zrX,t.zrY),a=r.target;if(e==="mousedown")this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if(e==="mouseup")this._upEl=a;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||FM.dist(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(r,e,t)}});function WM(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var a=e,i;a;){if(a.clipPath&&!a.clipPath.contain(t,r))return!1;a.silent&&(i=!0),a=a.parent}return i?Gb:!0}return!1}_o.mixin(Fa,Hb);_o.mixin(Fa,qb);var ZM=Fa,YM=ZM,We={},XM=typeof Float32Array>"u"?Array:Float32Array;function $b(){var e=new XM(6);return Ub(e),e}function Ub(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Wb(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function KM(e,t,r){var a=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],n=t[0]*r[2]+t[2]*r[3],h=t[1]*r[2]+t[3]*r[3],d=t[0]*r[4]+t[2]*r[5]+t[4],o=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=a,e[1]=i,e[2]=n,e[3]=h,e[4]=d,e[5]=o,e}function QM(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function jM(e,t,r){var a=t[0],i=t[2],n=t[4],h=t[1],d=t[3],o=t[5],f=Math.sin(r),v=Math.cos(r);return e[0]=a*v+h*f,e[1]=-a*f+h*v,e[2]=i*v+d*f,e[3]=-i*f+v*d,e[4]=v*n+f*o,e[5]=v*o-f*n,e}function JM(e,t,r){var a=r[0],i=r[1];return e[0]=t[0]*a,e[1]=t[1]*i,e[2]=t[2]*a,e[3]=t[3]*i,e[4]=t[4]*a,e[5]=t[5]*i,e}function eD(e,t){var r=t[0],a=t[2],i=t[4],n=t[1],h=t[3],d=t[5],o=r*h-n*a;return o?(o=1/o,e[0]=h*o,e[1]=-n*o,e[2]=-a*o,e[3]=r*o,e[4]=(a*d-h*i)*o,e[5]=(n*i-r*d)*o,e):null}function tD(e){var t=$b();return Wb(t,e),t}We.create=$b;We.identity=Ub;We.copy=Wb;We.mul=KM;We.translate=QM;We.rotate=jM;We.scale=JM;We.invert=eD;We.clone=tD;var Sr=We,Zb=Ce,yc=Sr.identity,wd=5e-5;function ra(e){return e>wd||e<-wd}var xo=function(e){e=e||{},e.position||(this.position=[0,0]),e.rotation==null&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},vr=xo.prototype;vr.transform=null;vr.needLocalTransform=function(){return ra(this.rotation)||ra(this.position[0])||ra(this.position[1])||ra(this.scale[0]-1)||ra(this.scale[1]-1)};vr.updateTransform=function(){var e=this.parent,t=e&&e.transform,r=this.needLocalTransform(),a=this.transform;if(!(r||t)){a&&yc(a);return}a=a||Sr.create(),r?this.getLocalTransform(a):yc(a),t&&(r?Sr.mul(a,e.transform,a):Sr.copy(a,e.transform)),this.transform=a,this.invTransform=this.invTransform||Sr.create(),Sr.invert(this.invTransform,a)};vr.getLocalTransform=function(e){return xo.getLocalTransform(this,e)};vr.setTransform=function(e){var t=this.transform,r=e.dpr||1;t?e.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):e.setTransform(r,0,0,r,0,0)};vr.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Ad=[];vr.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Sr.mul(Ad,e.invTransform,t),t=Ad);var r=t[0]*t[0]+t[1]*t[1],a=t[2]*t[2]+t[3]*t[3],i=this.position,n=this.scale;ra(r-1)&&(r=Math.sqrt(r)),ra(a-1)&&(a=Math.sqrt(a)),t[0]<0&&(r=-r),t[3]<0&&(a=-a),i[0]=t[4],i[1]=t[5],n[0]=r,n[1]=a,this.rotation=Math.atan2(-t[1]/a,t[0]/r)}};vr.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=Math.sqrt(e[2]*e[2]+e[3]*e[3]);return e[0]<0&&(t=-t),e[3]<0&&(r=-r),[t,r]};vr.transformCoordToLocal=function(e,t){var r=[e,t],a=this.invTransform;return a&&Zb.applyTransform(r,r,a),r};vr.transformCoordToGlobal=function(e,t){var r=[e,t],a=this.transform;return a&&Zb.applyTransform(r,r,a),r};xo.getLocalTransform=function(e,t){t=t||[],yc(t);var r=e.origin,a=e.scale||[1,1],i=e.rotation||0,n=e.position||[0,0];return r&&(t[4]-=r[0],t[5]-=r[1]),Sr.scale(t,t,a),i&&Sr.rotate(t,t,i),r&&(t[4]+=r[0],t[5]+=r[1]),t[4]+=n[0],t[5]+=n[1],t};var rD=xo,af=rD,Gn={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)))},elasticOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/a)+1)},elasticInOut:function(e){var t,r=.1,a=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=a/4):t=a*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Gn.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?Gn.bounceIn(e*2)*.5:Gn.bounceOut(e*2-1)*.5+.5}},aD=Gn,iD=aD,nD=iD;function _c(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=e.loop==null?!1:e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}_c.prototype={constructor:_c,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused){this._pausedTime+=t;return}var r=(e-this._startTime-this._pausedTime)/this._life;if(!(r<0)){r=Math.min(r,1);var a=this.easing,i=typeof a=="string"?nD[a]:a,n=typeof i=="function"?i(r):r;return this.fire("frame",n),r==1?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){e="on"+e,this[e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var oD=_c,sD=oD,ut={},Yb=function(){this.head=null,this.tail=null,this._len=0},Hi=Yb.prototype;Hi.insert=function(e){var t=new Xb(e);return this.insertEntry(t),t};Hi.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++};Hi.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--};Hi.len=function(){return this._len};Hi.clear=function(){this.head=this.tail=null,this._len=0};var Xb=function(e){this.value=e,this.next,this.prev},Kb=function(e){this._list=new Yb,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},nf=Kb.prototype;nf.put=function(e,t){var r=this._list,a=this._map,i=null;if(a[e]==null){var n=r.len(),h=this._lastRemovedEntry;if(n>=this._maxSize&&n>0){var d=r.head;r.remove(d),delete a[d.key],i=d.value,this._lastRemovedEntry=d}h?h.value=t:h=new Xb(t),h.key=e,r.insertEntry(h),a[e]=h}return i};nf.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value};nf.clear=function(){this._list.clear(),this._map={}};var lD=Kb,Qb=lD,uD=Qb,Td={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Yt(e){return e=Math.round(e),e<0?0:e>255?255:e}function vD(e){return e=Math.round(e),e<0?0:e>360?360:e}function Pi(e){return e<0?0:e>1?1:e}function Yo(e){return e.length&&e.charAt(e.length-1)==="%"?Yt(parseFloat(e)/100*255):Yt(parseInt(e,10))}function $a(e){return e.length&&e.charAt(e.length-1)==="%"?Pi(parseFloat(e)/100):Pi(parseFloat(e))}function Xo(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function Gr(e,t,r){return e+(t-e)*r}function Wt(e,t,r,a,i){return e[0]=t,e[1]=r,e[2]=a,e[3]=i,e}function xc(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var jb=new uD(20),hn=null;function wa(e,t){hn&&xc(hn,t),hn=jb.put(e,hn||t.slice())}function la(e,t){if(e){t=t||[];var r=jb.get(e);if(r)return xc(t,r);e=e+"";var a=e.replace(/ /g,"").toLowerCase();if(a in Td)return xc(t,Td[a]),wa(e,t),t;if(a.charAt(0)==="#"){if(a.length===4){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=4095)){Wt(t,0,0,0,1);return}return Wt(t,(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1),wa(e,t),t}else if(a.length===7){var i=parseInt(a.substr(1),16);if(!(i>=0&&i<=16777215)){Wt(t,0,0,0,1);return}return Wt(t,(i&16711680)>>16,(i&65280)>>8,i&255,1),wa(e,t),t}return}var n=a.indexOf("("),h=a.indexOf(")");if(n!==-1&&h+1===a.length){var d=a.substr(0,n),o=a.substr(n+1,h-(n+1)).split(","),f=1;switch(d){case"rgba":if(o.length!==4){Wt(t,0,0,0,1);return}f=$a(o.pop());case"rgb":if(o.length!==3){Wt(t,0,0,0,1);return}return Wt(t,Yo(o[0]),Yo(o[1]),Yo(o[2]),f),wa(e,t),t;case"hsla":if(o.length!==4){Wt(t,0,0,0,1);return}return o[3]=$a(o[3]),Sc(o,t),wa(e,t),t;case"hsl":if(o.length!==3){Wt(t,0,0,0,1);return}return Sc(o,t),wa(e,t),t;default:return}}Wt(t,0,0,0,1)}}function Sc(e,t){var r=(parseFloat(e[0])%360+360)%360/360,a=$a(e[1]),i=$a(e[2]),n=i<=.5?i*(a+1):i+a-i*a,h=i*2-n;return t=t||[],Wt(t,Yt(Xo(h,n,r+1/3)*255),Yt(Xo(h,n,r)*255),Yt(Xo(h,n,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function hD(e){if(e){var t=e[0]/255,r=e[1]/255,a=e[2]/255,i=Math.min(t,r,a),n=Math.max(t,r,a),h=n-i,d=(n+i)/2,o,f;if(h===0)o=0,f=0;else{d<.5?f=h/(n+i):f=h/(2-n-i);var v=((n-t)/6+h/2)/h,c=((n-r)/6+h/2)/h,s=((n-a)/6+h/2)/h;t===n?o=s-c:r===n?o=1/3+v-s:a===n&&(o=2/3+c-v),o<0&&(o+=1),o>1&&(o-=1)}var l=[o*360,f,d];return e[3]!=null&&l.push(e[3]),l}}function cD(e,t){var r=la(e);if(r){for(var a=0;a<3;a++)t<0?r[a]=r[a]*(1-t)|0:r[a]=(255-r[a])*t+r[a]|0,r[a]>255?r[a]=255:e[a]<0&&(r[a]=0);return Gi(r,r.length===4?"rgba":"rgb")}}function fD(e){var t=la(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Jb(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),h=t[i],d=t[n],o=a-i;return r[0]=Yt(Gr(h[0],d[0],o)),r[1]=Yt(Gr(h[1],d[1],o)),r[2]=Yt(Gr(h[2],d[2],o)),r[3]=Pi(Gr(h[3],d[3],o)),r}}var dD=Jb;function ew(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var a=e*(t.length-1),i=Math.floor(a),n=Math.ceil(a),h=la(t[i]),d=la(t[n]),o=a-i,f=Gi([Yt(Gr(h[0],d[0],o)),Yt(Gr(h[1],d[1],o)),Yt(Gr(h[2],d[2],o)),Pi(Gr(h[3],d[3],o))],"rgba");return r?{color:f,leftIndex:i,rightIndex:n,value:a}:f}}var gD=ew;function pD(e,t,r,a){if(e=la(e),e)return e=hD(e),t!=null&&(e[0]=vD(t)),r!=null&&(e[1]=$a(r)),a!=null&&(e[2]=$a(a)),Gi(Sc(e),"rgba")}function mD(e,t){if(e=la(e),e&&t!=null)return e[3]=Pi(t),Gi(e,"rgba")}function Gi(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}ut.parse=la;ut.lift=cD;ut.toHex=fD;ut.fastLerp=Jb;ut.fastMapToColor=dD;ut.lerp=ew;ut.mapToColor=gD;ut.modifyHSL=pD;ut.modifyAlpha=mD;ut.stringify=Gi;var yD=sD,_D=ut,xD=F,eo=xD.isArrayLike,bc=Array.prototype.slice;function SD(e,t){return e[t]}function bD(e,t,r){e[t]=r}function wc(e,t,r){return(t-e)*r+e}function Cd(e,t,r){return r>.5?t:e}function Md(e,t,r,a,i){var n=e.length;if(i==1)for(var h=0;h<n;h++)a[h]=wc(e[h],t[h],r);else for(var d=n&&e[0].length,h=0;h<n;h++)for(var o=0;o<d;o++)a[h][o]=wc(e[h][o],t[h][o],r)}function Dd(e,t,r){var a=e.length,i=t.length;if(a!==i){var n=a>i;if(n)e.length=i;else for(var h=a;h<i;h++)e.push(r===1?t[h]:bc.call(t[h]))}for(var d=e[0]&&e[0].length,h=0;h<e.length;h++)if(r===1)isNaN(e[h])&&(e[h]=t[h]);else for(var o=0;o<d;o++)isNaN(e[h][o])&&(e[h][o]=t[h][o])}function wD(e,t,r){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(r===1){for(var i=0;i<a;i++)if(e[i]!==t[i])return!1}else for(var n=e[0].length,i=0;i<a;i++)for(var h=0;h<n;h++)if(e[i][h]!==t[i][h])return!1;return!0}function Ld(e,t,r,a,i,n,h,d,o){var f=e.length;if(o==1)for(var v=0;v<f;v++)d[v]=Ac(e[v],t[v],r[v],a[v],i,n,h);else for(var c=e[0].length,v=0;v<f;v++)for(var s=0;s<c;s++)d[v][s]=Ac(e[v][s],t[v][s],r[v][s],a[v][s],i,n,h)}function Ac(e,t,r,a,i,n,h){var d=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+d+o)*h+(-3*(t-r)-2*d-o)*n+d*i+t}function AD(e){if(eo(e)){var t=e.length;if(eo(e[0])){for(var r=[],a=0;a<t;a++)r.push(bc.call(e[a]));return r}return bc.call(e)}return e}function Id(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function TD(e){var t=e[e.length-1].value;return eo(t&&t[0])?2:1}function CD(e,t,r,a,i,n){var h=e._getter,d=e._setter,o=t==="spline",f=a.length;if(f){var v=a[0].value,c=eo(v),s=!1,l=!1,u=c?TD(a):0,p;a.sort(function(z,O){return z.time-O.time}),p=a[f-1].time;for(var g=[],m=[],_=a[0].value,y=!0,b=0;b<f;b++){g.push(a[b].time/p);var x=a[b].value;if(c&&wD(x,_,u)||!c&&x===_||(y=!1),_=x,typeof x=="string"){var w=_D.parse(x);w?(x=w,s=!0):l=!0}m.push(x)}if(!(!n&&y)){for(var S=m[f-1],b=0;b<f-1;b++)c?Dd(m[b],S,u):isNaN(m[b])&&!isNaN(S)&&!l&&!s&&(m[b]=S);c&&Dd(h(e._target,i),S,u);var A=0,T=0,M,C,L,I,P,R;if(s)var E=[0,0,0,0];var D=function(z,O){var N;if(O<0)N=0;else if(O<T){for(M=Math.min(A+1,f-1),N=M;N>=0&&!(g[N]<=O);N--);N=Math.min(N,f-2)}else{for(N=A;N<f&&!(g[N]>O);N++);N=Math.min(N-1,f-2)}A=N,T=O;var B=g[N+1]-g[N];if(B!==0)if(C=(O-g[N])/B,o)if(I=m[N],L=m[N===0?N:N-1],P=m[N>f-2?f-1:N+1],R=m[N>f-3?f-1:N+2],c)Ld(L,I,P,R,C,C*C,C*C*C,h(z,i),u);else{var q;if(s)q=Ld(L,I,P,R,C,C*C,C*C*C,E,1),q=Id(E);else{if(l)return Cd(I,P,C);q=Ac(L,I,P,R,C,C*C,C*C*C)}d(z,i,q)}else if(c)Md(m[N],m[N+1],C,h(z,i),u);else{var q;if(s)Md(m[N],m[N+1],C,E,1),q=Id(E);else{if(l)return Cd(m[N],m[N+1],C);q=wc(m[N],m[N+1],C)}d(z,i,q)}},k=new yD({target:e._target,life:p,loop:e._loop,delay:e._delay,onframe:D,ondestroy:r});return t&&t!=="spline"&&(k.easing=t),k}}}var tw=function(e,t,r,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=r||SD,this._setter=a||bD,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};tw.prototype={when:function(e,t){var r=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!r[a]){r[a]=[];var i=this._getter(this._target,a);if(i==null)continue;e!==0&&r[a].push({time:0,value:AD(i)})}r[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,r=0;r<t;r++)e[r].call(this)},start:function(e,t){var r=this,a=0,i=function(){a--,a||r._doneCallback()},n;for(var h in this._tracks)if(this._tracks.hasOwnProperty(h)){var d=CD(this,e,i,this._tracks[h],h,t);d&&(this._clipList.push(d),a++,this.animation&&this.animation.addClip(d),n=d)}if(n){var o=n.onframe;n.onframe=function(f,v){o(f,v);for(var c=0;c<r._onframeList.length;c++)r._onframeList[c](f,v)}}return a||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,r=this.animation,a=0;a<t.length;a++){var i=t[a];e&&i.onframe(this._target,1),r&&r.removeClip(i)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var MD=tw,rw=MD,Ka={},aw=1;typeof window<"u"&&(aw=Math.max(window.devicePixelRatio||1,1));var DD=0,LD=aw;Ka.debugMode=DD;Ka.devicePixelRatio=LD;var ID=Ka,Pd=ID.debugMode,Tc=function(){};Pd===1?Tc=function(){for(var e in arguments)throw new Error(arguments[e])}:Pd>1&&(Tc=function(){for(var e in arguments)console.log(arguments[e])});var PD=Tc,Fi=PD,RD=rw,ED=Fi,$i=F,kD=$i.isString,Ko=$i.isFunction,zD=$i.isObject,OD=$i.isArrayLike,ND=$i.indexOf,Cc=function(){this.animators=[]};Cc.prototype={constructor:Cc,animate:function(e,t){var r,a=!1,i=this,n=this.__zr;if(e){var h=e.split("."),d=i;a=h[0]==="shape";for(var o=0,f=h.length;o<f;o++)d&&(d=d[h[o]]);d&&(r=d)}else r=i;if(!r){ED('Property "'+e+'" is not existed in element '+i.id);return}var v=i.animators,c=new RD(r,t);return c.during(function(s){i.dirty(a)}).done(function(){v.splice(ND(v,c),1)}),v.push(c),n&&n.animation.addAnimator(c),c},stopAnimation:function(e){for(var t=this.animators,r=t.length,a=0;a<r;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,r,a,i,n){kD(r)?(i=a,a=r,r=0):Ko(a)?(i=a,a="linear",r=0):Ko(r)?(i=r,r=0):Ko(t)?(i=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,e,t,r);var h=this.animators.slice(),d=h.length;function o(){d--,d||i&&i()}d||i&&i();for(var f=0;f<h.length;f++)h[f].done(o).start(a,n)},_animateToShallow:function(e,t,r,a,i){var n={},h=0;for(var d in r)if(r.hasOwnProperty(d)){if(t[d]!=null)zD(r[d])&&!OD(r[d])?this._animateToShallow(e?e+"."+d:d,t[d],r[d],a,i):(n[d]=r[d],h++);else if(r[d]!=null)if(!e)this.attr(d,r[d]);else{var o={};o[e]={},o[e][d]=r[d],this.attr(o)}}return h>0&&this.animate(e,!1).when(a??500,n).delay(i||0),this}};var VD=Cc,BD=VD,qD=Lb,iw=ua,nw=af,ow=BD,So=F,Ui=function(e){nw.call(this,e),iw.call(this,e),ow.call(this,e),this.id=e.id||qD()};Ui.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=e,r[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if(e==="position"||e==="scale"||e==="origin"){if(t){var r=this[e];r||(r=this[e]=[]),r[0]=t[0],r[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(So.isObject(e))for(var r in e)e.hasOwnProperty(r)&&this.attrKV(r,e[r]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}};So.mixin(Ui,ow);So.mixin(Ui,nw);So.mixin(Ui,iw);var HD=Ui,sw=HD,GD=Ce,cn=We,fn=GD.applyTransform,dn=Math.min,gn=Math.max;function Hr(e,t,r,a){r<0&&(e=e+r,r=-r),a<0&&(t=t+a,a=-a),this.x=e,this.y=t,this.width=r,this.height=a}Hr.prototype={constructor:Hr,union:function(e){var t=dn(e.x,this.x),r=dn(e.y,this.y);this.width=gn(e.x+e.width,this.x+this.width)-t,this.height=gn(e.y+e.height,this.y+this.height)-r,this.x=t,this.y=r},applyTransform:function(){var e=[],t=[],r=[],a=[];return function(i){if(i){e[0]=r[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=r[1]=this.y+this.height,fn(e,e,i),fn(t,t,i),fn(r,r,i),fn(a,a,i),this.x=dn(e[0],t[0],r[0],a[0]),this.y=dn(e[1],t[1],r[1],a[1]);var n=gn(e[0],t[0],r[0],a[0]),h=gn(e[1],t[1],r[1],a[1]);this.width=n-this.x,this.height=h-this.y}}}(),calculateTransform:function(e){var t=this,r=e.width/t.width,a=e.height/t.height,i=cn.create();return cn.translate(i,i,[-t.x,-t.y]),cn.scale(i,i,[r,a]),cn.translate(i,i,[e.x,e.y]),i},intersect:function(e){if(!e)return!1;e instanceof Hr||(e=Hr.create(e));var t=this,r=t.x,a=t.x+t.width,i=t.y,n=t.y+t.height,h=e.x,d=e.x+e.width,o=e.y,f=e.y+e.height;return!(a<h||d<r||n<o||f<i)},contain:function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},clone:function(){return new Hr(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Hr.create=function(e){return new Hr(e.x,e.y,e.width,e.height)};var FD=Hr,Qe=FD,lw=F,uw=sw,$D=Qe,_r=function(e){e=e||{},uw.call(this,e);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};_r.prototype={constructor:_r,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,r=0;r<t.length;r++)if(t[r].name===e)return t[r]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var r=this._children,a=r.indexOf(t);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,r=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof _r&&e.addChildrenToStorage(t)),r&&r.refresh()},remove:function(e){var t=this.__zr,r=this.__storage,a=this._children,i=lw.indexOf(a,e);return i<0?this:(a.splice(i,1),e.parent=null,r&&(r.delFromStorage(e),e instanceof _r&&e.delChildrenFromStorage(r)),t&&t.refresh(),this)},removeAll:function(){var e=this._children,t=this.__storage,r,a;for(a=0;a<e.length;a++)r=e[a],t&&(t.delFromStorage(r),r instanceof _r&&r.delChildrenFromStorage(t)),r.parent=null;return e.length=0,this},eachChild:function(e,t){for(var r=this._children,a=0;a<r.length;a++){var i=r[a];e.call(t,i,a)}return this},traverse:function(e,t){for(var r=0;r<this._children.length;r++){var a=this._children[r];e.call(t,a),a.type==="group"&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.addToStorage(r),r instanceof _r&&r.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var r=this._children[t];e.delFromStorage(r),r instanceof _r&&r.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,r=new $D(0,0,0,0),a=e||this._children,i=[],n=0;n<a.length;n++){var h=a[n];if(!(h.ignore||h.invisible)){var d=h.getBoundingRect(),o=h.getLocalTransform(i);o?(r.copy(d),r.applyTransform(o),t=t||r.clone(),t.union(r)):(t=t||d.clone(),t.union(d))}}return t||r}};lw.inherits(_r,uw);var UD=_r,bo=UD,vw=32,ui=7;function WD(e){for(var t=0;e>=vw;)t|=e&1,e>>=1;return e+t}function Rd(e,t,r,a){var i=t+1;if(i===r)return 1;if(a(e[i++],e[t])<0){for(;i<r&&a(e[i],e[i-1])<0;)i++;ZD(e,t,i)}else for(;i<r&&a(e[i],e[i-1])>=0;)i++;return i-t}function ZD(e,t,r){for(r--;t<r;){var a=e[t];e[t++]=e[r],e[r--]=a}}function Ed(e,t,r,a,i){for(a===t&&a++;a<r;a++){for(var n=e[a],h=t,d=a,o;h<d;)o=h+d>>>1,i(n,e[o])<0?d=o:h=o+1;var f=a-h;switch(f){case 3:e[h+3]=e[h+2];case 2:e[h+2]=e[h+1];case 1:e[h+1]=e[h];break;default:for(;f>0;)e[h+f]=e[h+f-1],f--}e[h]=n}}function Qo(e,t,r,a,i,n){var h=0,d=0,o=1;if(n(e,t[r+i])>0){for(d=a-i;o<d&&n(e,t[r+i+o])>0;)h=o,o=(o<<1)+1,o<=0&&(o=d);o>d&&(o=d),h+=i,o+=i}else{for(d=i+1;o<d&&n(e,t[r+i-o])<=0;)h=o,o=(o<<1)+1,o<=0&&(o=d);o>d&&(o=d);var f=h;h=i-o,o=i-f}for(h++;h<o;){var v=h+(o-h>>>1);n(e,t[r+v])>0?h=v+1:o=v}return o}function jo(e,t,r,a,i,n){var h=0,d=0,o=1;if(n(e,t[r+i])<0){for(d=i+1;o<d&&n(e,t[r+i-o])<0;)h=o,o=(o<<1)+1,o<=0&&(o=d);o>d&&(o=d);var f=h;h=i-o,o=i-f}else{for(d=a-i;o<d&&n(e,t[r+i+o])>=0;)h=o,o=(o<<1)+1,o<=0&&(o=d);o>d&&(o=d),h+=i,o+=i}for(h++;h<o;){var v=h+(o-h>>>1);n(e,t[r+v])<0?o=v:h=v+1}return o}function YD(e,t){var r=ui,a,i,n=0;e.length;var h=[];a=[],i=[];function d(l,u){a[n]=l,i[n]=u,n+=1}function o(){for(;n>1;){var l=n-2;if(l>=1&&i[l-1]<=i[l]+i[l+1]||l>=2&&i[l-2]<=i[l]+i[l-1])i[l-1]<i[l+1]&&l--;else if(i[l]>i[l+1])break;v(l)}}function f(){for(;n>1;){var l=n-2;l>0&&i[l-1]<i[l+1]&&l--,v(l)}}function v(l){var u=a[l],p=i[l],g=a[l+1],m=i[l+1];i[l]=p+m,l===n-3&&(a[l+1]=a[l+2],i[l+1]=i[l+2]),n--;var _=jo(e[g],e,u,p,0,t);u+=_,p-=_,p!==0&&(m=Qo(e[u+p-1],e,g,m,m-1,t),m!==0&&(p<=m?c(u,p,g,m):s(u,p,g,m)))}function c(l,u,p,g){var m=0;for(m=0;m<u;m++)h[m]=e[l+m];var _=0,y=p,b=l;if(e[b++]=e[y++],--g===0){for(m=0;m<u;m++)e[b+m]=h[_+m];return}if(u===1){for(m=0;m<g;m++)e[b+m]=e[y+m];e[b+g]=h[_];return}for(var x=r,w,S,A;;){w=0,S=0,A=!1;do if(t(e[y],h[_])<0){if(e[b++]=e[y++],S++,w=0,--g===0){A=!0;break}}else if(e[b++]=h[_++],w++,S=0,--u===1){A=!0;break}while((w|S)<x);if(A)break;do{if(w=jo(e[y],h,_,u,0,t),w!==0){for(m=0;m<w;m++)e[b+m]=h[_+m];if(b+=w,_+=w,u-=w,u<=1){A=!0;break}}if(e[b++]=e[y++],--g===0){A=!0;break}if(S=Qo(h[_],e,y,g,0,t),S!==0){for(m=0;m<S;m++)e[b+m]=e[y+m];if(b+=S,y+=S,g-=S,g===0){A=!0;break}}if(e[b++]=h[_++],--u===1){A=!0;break}x--}while(w>=ui||S>=ui);if(A)break;x<0&&(x=0),x+=2}if(r=x,r<1&&(r=1),u===1){for(m=0;m<g;m++)e[b+m]=e[y+m];e[b+g]=h[_]}else{if(u===0)throw new Error;for(m=0;m<u;m++)e[b+m]=h[_+m]}}function s(l,u,p,g){var m=0;for(m=0;m<g;m++)h[m]=e[p+m];var _=l+u-1,y=g-1,b=p+g-1,x=0,w=0;if(e[b--]=e[_--],--u===0){for(x=b-(g-1),m=0;m<g;m++)e[x+m]=h[m];return}if(g===1){for(b-=u,_-=u,w=b+1,x=_+1,m=u-1;m>=0;m--)e[w+m]=e[x+m];e[b]=h[y];return}for(var S=r;;){var A=0,T=0,M=!1;do if(t(h[y],e[_])<0){if(e[b--]=e[_--],A++,T=0,--u===0){M=!0;break}}else if(e[b--]=h[y--],T++,A=0,--g===1){M=!0;break}while((A|T)<S);if(M)break;do{if(A=u-jo(h[y],e,l,u,u-1,t),A!==0){for(b-=A,_-=A,u-=A,w=b+1,x=_+1,m=A-1;m>=0;m--)e[w+m]=e[x+m];if(u===0){M=!0;break}}if(e[b--]=h[y--],--g===1){M=!0;break}if(T=g-Qo(e[_],h,0,g,g-1,t),T!==0){for(b-=T,y-=T,g-=T,w=b+1,x=y+1,m=0;m<T;m++)e[w+m]=h[x+m];if(g<=1){M=!0;break}}if(e[b--]=e[_--],--u===0){M=!0;break}S--}while(A>=ui||T>=ui);if(M)break;S<0&&(S=0),S+=2}if(r=S,r<1&&(r=1),g===1){for(b-=u,_-=u,w=b+1,x=_+1,m=u-1;m>=0;m--)e[w+m]=e[x+m];e[b]=h[y]}else{if(g===0)throw new Error;for(x=b-(g-1),m=0;m<g;m++)e[x+m]=h[m]}}this.mergeRuns=o,this.forceMergeRuns=f,this.pushRun=d}function XD(e,t,r,a){r||(r=0),a||(a=e.length);var i=a-r;if(!(i<2)){var n=0;if(i<vw){n=Rd(e,r,a,t),Ed(e,r,a,r+n,t);return}var h=new YD(e,t),d=WD(i);do{if(n=Rd(e,r,a,t),n<d){var o=i;o>d&&(o=d),Ed(e,r,r+o,r+n,t),n=o}h.pushRun(r,n),h.mergeRuns(),i-=n,r+=n}while(i!==0);h.forceMergeRuns()}}var of=XD,KD=F,QD=lt,Jo=bo,jD=of;function kd(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Mc=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Mc.prototype={constructor:Mc,traverse:function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,a=0,i=t.length;a<i;a++)this._updateAndAddDisplayable(t[a],null,e);r.length=this._displayListLen,QD.canvasSupported&&jD(r,kd)},_updateAndAddDisplayable:function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t?t=t.slice():t=[];for(var i=a,n=e;i;)i.parent=n,i.updateTransform(),t.push(i),n=i,i=i.clipPath}if(e.isGroup){for(var h=e._children,d=0;d<h.length;d++){var o=h[d];e.__dirty&&(o.__dirty=!0),this._updateAndAddDisplayable(o,t,r)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof Jo&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(e==null){for(var t=0;t<this._roots.length;t++){var r=this._roots[t];r instanceof Jo&&r.delChildrenFromStorage(this)}this._roots=[],this._displayList=[],this._displayListLen=0;return}if(e instanceof Array){for(var t=0,a=e.length;t<a;t++)this.delRoot(e[t]);return}var i=KD.indexOf(this._roots,e);i>=0&&(this.delFromStorage(e),this._roots.splice(i,1),e instanceof Jo&&e.delChildrenFromStorage(this))},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:kd};var JD=Mc,eL=JD,tL={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function rL(e,t,r){return tL.hasOwnProperty(t)?r*=e.dpr:r}var hw=rL,aL=hw,to=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Ri=function(e,t){this.extendFrom(e,!1),this.host=t};function iL(e,t,r){var a=t.x==null?0:t.x,i=t.x2==null?1:t.x2,n=t.y==null?0:t.y,h=t.y2==null?0:t.y2;t.global||(a=a*r.width+r.x,i=i*r.width+r.x,n=n*r.height+r.y,h=h*r.height+r.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,n=isNaN(n)?0:n,h=isNaN(h)?0:h;var d=e.createLinearGradient(a,n,i,h);return d}function nL(e,t,r){var a=r.width,i=r.height,n=Math.min(a,i),h=t.x==null?.5:t.x,d=t.y==null?.5:t.y,o=t.r==null?.5:t.r;t.global||(h=h*a+r.x,d=d*i+r.y,o=o*n);var f=e.createRadialGradient(h,d,0,h,d,o);return f}Ri.prototype={constructor:Ri,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,r){for(var a=this,i=r&&r.style,n=!i,h=0;h<to.length;h++){var d=to[h],o=d[0];(n||a[o]!==i[o])&&(e[o]=aL(e,o,a[o]||d[1]))}if((n||a.fill!==i.fill)&&(e.fillStyle=a.fill),(n||a.stroke!==i.stroke)&&(e.strokeStyle=a.stroke),(n||a.opacity!==i.opacity)&&(e.globalAlpha=a.opacity==null?1:a.opacity),(n||a.blend!==i.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var f=a.lineWidth;e.lineWidth=f/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return e!=null&&e!=="none"},hasStroke:function(){var e=this.stroke;return e!=null&&e!=="none"&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(t===!0||(t===!1?!this.hasOwnProperty(r):e[r]!=null))&&(this[r]=e[r])},set:function(e,t){typeof e=="string"?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,r){for(var a=t.type==="radial"?nL:iL,i=a(e,t,r),n=t.colorStops,h=0;h<n.length;h++)i.addColorStop(n[h].offset,n[h].color);return i}};var Dc=Ri.prototype;for(var es=0;es<to.length;es++){var ts=to[es];ts[0]in Dc||(Dc[ts[0]]=ts[1])}Ri.getGradient=Dc.getGradient;var oL=Ri,cw=oL,fw=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};fw.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var sL=fw,dw=sL,gw=F,lL=Ka,uL=lL.devicePixelRatio,vL=cw,hL=dw;function cL(){return!1}function pw(e,t,r){var a=gw.createCanvas(),i=t.getWidth(),n=t.getHeight(),h=a.style;return h&&(h.position="absolute",h.left=0,h.top=0,h.width=i+"px",h.height=n+"px",a.setAttribute("data-zr-dom-id",e)),a.width=i*r,a.height=n*r,a}var Lc=function(e,t,r){var a;r=r||uL,typeof e=="string"?a=pw(e,t,r):gw.isObject(e)&&(a=e,e=a.id),this.id=e,this.dom=a;var i=a.style;i&&(a.onselectstart=cL,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=r};Lc.prototype={constructor:Lc,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=pw("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!=1&&this.ctxBack.scale(e,e)},resize:function(e,t){var r=this.dpr,a=this.dom,i=a.style,n=this.domBack;i&&(i.width=e+"px",i.height=t+"px"),a.width=e*r,a.height=t*r,n&&(n.width=e*r,n.height=t*r,r!=1&&this.ctxBack.scale(r,r))},clear:function(e,h){var r=this.dom,a=this.ctx,i=r.width,n=r.height,h=h||this.clearColor,d=this.motionBlur&&!e,o=this.lastFrameAlpha,f=this.dpr;if(d&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,i/f,n/f)),a.clearRect(0,0,i,n),h&&h!=="transparent"){var v;h.colorStops?(v=h.__canvasGradient||vL.getGradient(a,h,{x:0,y:0,width:i,height:n}),h.__canvasGradient=v):h.image&&(v=hL.prototype.getCanvasPattern.call(h,a)),a.save(),a.fillStyle=v||h,a.fillRect(0,0,i,n),a.restore()}if(d){var c=this.domBack;a.save(),a.globalAlpha=o,a.drawImage(c,0,0,i,n),a.restore()}}};var fL=Lc,dL=fL,gL=typeof window<"u"&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},mw=gL,Tr={},Ze={},Qa={},pL=Qb,Ic=new pL(50);function mL(e){if(typeof e=="string"){var t=Ic.get(e);return t&&t.image}else return e}function yL(e,t,r,a,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var n=Ic.get(e),h={hostEl:r,cb:a,cbPayload:i};return n?(t=n.image,!yw(t)&&n.pending.push(h)):(!t&&(t=new Image),t.onload=_L,Ic.put(e,t.__cachedImgObj={image:t,pending:[h]}),t.src=t.__zrImageSrc=e),t}else return e;else return t}function _L(){var e=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function yw(e){return e&&e.width&&e.height}Qa.findExistImage=mL;Qa.createOrUpdateImage=yL;Qa.isImageReady=yw;var _w=Qe,zd=Qa,Wi=F,xL=Wi.getContext,SL=Wi.extend,aa=Wi.retrieve2,bL=Wi.retrieve3,wL=Wi.trim,pn={},rs=0,AL=5e3,as=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,sf="12px sans-serif",lf={};function TL(e,t){lf[e]=t}function lr(e,t){t=t||sf;var r=e+":"+t;if(pn[r])return pn[r];for(var a=(e+"").split(`
`),i=0,n=0,h=a.length;n<h;n++)i=Math.max(ww(a[n],t).width,i);return rs>AL&&(rs=0,pn={}),rs++,pn[r]=i,i}function CL(e,t,r,a,i,n,h){return n?DL(e,t,r,a,i,n,h):ML(e,t,r,a,i,h)}function ML(e,t,r,a,i,n){var h=Aw(e,t,i,n),d=lr(e,t);i&&(d+=i[1]+i[3]);var o=h.outerHeight,f=uf(0,d,r),v=vf(0,o,a),c=new _w(f,v,d,o);return c.lineHeight=h.lineHeight,c}function DL(e,t,r,a,i,n,h){var d=Tw(e,{rich:n,truncate:h,font:t,textAlign:r,textPadding:i}),o=d.outerWidth,f=d.outerHeight,v=uf(0,o,r),c=vf(0,f,a);return new _w(v,c,o,f)}function uf(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function vf(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function LL(e,t,r){var a=t.x,i=t.y,n=t.height,h=t.width,d=n/2,o="left",f="top";switch(e){case"left":a-=r,i+=d,o="right",f="middle";break;case"right":a+=r+h,i+=d,f="middle";break;case"top":a+=h/2,i-=r,o="center",f="bottom";break;case"bottom":a+=h/2,i+=n+r,o="center";break;case"inside":a+=h/2,i+=d,o="center",f="middle";break;case"insideLeft":a+=r,i+=d,f="middle";break;case"insideRight":a+=h-r,i+=d,o="right",f="middle";break;case"insideTop":a+=h/2,i+=r,o="center";break;case"insideBottom":a+=h/2,i+=n-r,o="center",f="bottom";break;case"insideTopLeft":a+=r,i+=r;break;case"insideTopRight":a+=h-r,i+=r,o="right";break;case"insideBottomLeft":a+=r,i+=n-r,f="bottom";break;case"insideBottomRight":a+=h-r,i+=n-r,o="right",f="bottom";break}return{x:a,y:i,textAlign:o,textVerticalAlign:f}}function xw(e,t,r,a,i){if(!t)return"";var n=(e+"").split(`
`);i=Sw(t,r,a,i);for(var h=0,d=n.length;h<d;h++)n[h]=bw(n[h],i);return n.join(`
`)}function Sw(e,t,i,a){a=SL({},a),a.font=t;var i=aa(i,"...");a.maxIterations=aa(a.maxIterations,2);var n=a.minChar=aa(a.minChar,0);a.cnCharWidth=lr("国",t);var h=a.ascCharWidth=lr("a",t);a.placeholder=aa(a.placeholder,"");for(var d=e=Math.max(0,e-1),o=0;o<n&&d>=h;o++)d-=h;var f=lr(i);return f>d&&(i="",f=0),d=e-f,a.ellipsis=i,a.ellipsisWidth=f,a.contentWidth=d,a.containerWidth=e,a}function bw(e,t){var r=t.containerWidth,a=t.font,i=t.contentWidth;if(!r)return"";var n=lr(e,a);if(n<=r)return e;for(var h=0;;h++){if(n<=i||h>=t.maxIterations){e+=t.ellipsis;break}var d=h===0?IL(e,i,t.ascCharWidth,t.cnCharWidth):n>0?Math.floor(e.length*i/n):0;e=e.substr(0,d),n=lr(e,a)}return e===""&&(e=t.placeholder),e}function IL(e,t,r,a){for(var i=0,n=0,h=e.length;n<h&&i<t;n++){var d=e.charCodeAt(n);i+=0<=d&&d<=127?r:a}return n}function hf(e){return lr("国",e)}function ww(e,t){return lf.measureText(e,t)}lf.measureText=function(e,t){var r=xL();return r.font=t||sf,r.measureText(e)};function Aw(e,t,r,a){e!=null&&(e+="");var i=hf(t),n=e?e.split(`
`):[],h=n.length*i,d=h;if(r&&(d+=r[0]+r[2]),e&&a){var o=a.outerHeight,f=a.outerWidth;if(o!=null&&d>o)e="",n=[];else if(f!=null)for(var v=Sw(f-(r?r[1]+r[3]:0),t,a.ellipsis,{minChar:a.minChar,placeholder:a.placeholder}),c=0,s=n.length;c<s;c++)n[c]=bw(n[c],v)}return{lines:n,height:h,outerHeight:d,lineHeight:i}}function Tw(e,t){var r={lines:[],width:0,height:0};if(e!=null&&(e+=""),!e)return r;for(var a=as.lastIndex=0,i;(i=as.exec(e))!=null;){var n=i.index;n>a&&is(r,e.substring(a,n)),is(r,i[2],i[1]),a=as.lastIndex}a<e.length&&is(r,e.substring(a,e.length));var h=r.lines,d=0,o=0,f=[],v=t.textPadding,c=t.truncate,s=c&&c.outerWidth,l=c&&c.outerHeight;v&&(s!=null&&(s-=v[1]+v[3]),l!=null&&(l-=v[0]+v[2]));for(var u=0;u<h.length;u++){for(var p=h[u],g=0,m=0,_=0;_<p.tokens.length;_++){var y=p.tokens[_],b=y.styleName&&t.rich[y.styleName]||{},x=y.textPadding=b.textPadding,w=y.font=b.font||t.font,S=y.textHeight=aa(b.textHeight,hf(w));if(x&&(S+=x[0]+x[2]),y.height=S,y.lineHeight=bL(b.textLineHeight,t.textLineHeight,S),y.textAlign=b&&b.textAlign||t.textAlign,y.textVerticalAlign=b&&b.textVerticalAlign||"middle",l!=null&&d+y.lineHeight>l)return{lines:[],width:0,height:0};y.textWidth=lr(y.text,w);var A=b.textWidth,T=A==null||A==="auto";if(typeof A=="string"&&A.charAt(A.length-1)==="%")y.percentWidth=A,f.push(y),A=0;else{if(T){A=y.textWidth;var M=b.textBackgroundColor,C=M&&M.image;C&&(C=zd.findExistImage(C),zd.isImageReady(C)&&(A=Math.max(A,C.width*S/C.height)))}var L=x?x[1]+x[3]:0;A+=L;var I=s!=null?s-m:null;I!=null&&I<A&&(!T||I<L?(y.text="",y.textWidth=A=0):(y.text=xw(y.text,I-L,w,c.ellipsis,{minChar:c.minChar}),y.textWidth=lr(y.text,w),A=y.textWidth+L))}m+=y.width=A,b&&(g=Math.max(g,y.lineHeight))}p.width=m,p.lineHeight=g,d+=g,o=Math.max(o,m)}r.outerWidth=r.width=aa(t.textWidth,o),r.outerHeight=r.height=aa(t.textHeight,d),v&&(r.outerWidth+=v[1]+v[3],r.outerHeight+=v[0]+v[2]);for(var u=0;u<f.length;u++){var y=f[u],P=y.percentWidth;y.width=parseInt(P,10)/100*o}return r}function is(e,t,r){for(var a=t==="",i=t.split(`
`),n=e.lines,h=0;h<i.length;h++){var d=i[h],o={styleName:r,text:d,isLineHolder:!d&&!a};if(h)n.push({tokens:[o]});else{var f=(n[n.length-1]||(n[0]={tokens:[]})).tokens,v=f.length;v===1&&f[0].isLineHolder?f[0]=o:(d||!v||a)&&f.push(o)}}}function PL(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&wL(t)||e.textFont||e.font}Ze.DEFAULT_FONT=sf;Ze.$override=TL;Ze.getWidth=lr;Ze.getBoundingRect=CL;Ze.adjustTextX=uf;Ze.adjustTextY=vf;Ze.adjustTextPositionOnRect=LL;Ze.truncateText=xw;Ze.getLineHeight=hf;Ze.measureText=ww;Ze.parsePlainText=Aw;Ze.parseRichText=Tw;Ze.makeFont=PL;var cf={};function RL(e,t){var r=t.x,a=t.y,i=t.width,n=t.height,h=t.r,d,o,f,v;i<0&&(r=r+i,i=-i),n<0&&(a=a+n,n=-n),typeof h=="number"?d=o=f=v=h:h instanceof Array?h.length===1?d=o=f=v=h[0]:h.length===2?(d=f=h[0],o=v=h[1]):h.length===3?(d=h[0],o=v=h[1],f=h[2]):(d=h[0],o=h[1],f=h[2],v=h[3]):d=o=f=v=0;var c;d+o>i&&(c=d+o,d*=i/c,o*=i/c),f+v>i&&(c=f+v,f*=i/c,v*=i/c),o+f>n&&(c=o+f,o*=n/c,f*=n/c),d+v>n&&(c=d+v,d*=n/c,v*=n/c),e.moveTo(r+d,a),e.lineTo(r+i-o,a),o!==0&&e.arc(r+i-o,a+o,o,-Math.PI/2,0),e.lineTo(r+i,a+n-f),f!==0&&e.arc(r+i-f,a+n-f,f,0,Math.PI/2),e.lineTo(r+v,a+n),v!==0&&e.arc(r+v,a+n-v,v,Math.PI/2,Math.PI),e.lineTo(r,a+d),d!==0&&e.arc(r+d,a+d,d,Math.PI,Math.PI*1.5)}cf.buildPath=RL;var ja=F,EL=ja.retrieve2,ns=ja.retrieve3,kL=ja.each,zL=ja.normalizeCssArray,OL=ja.isString,NL=ja.isObject,Zt=Ze,VL=cf,Od=Qa,BL=hw,qL={left:1,right:1,center:1},HL={top:1,bottom:1,middle:1};function GL(e){return Nd(e),kL(e.rich,Nd),e}function Nd(e){if(e){e.font=Zt.makeFont(e);var t=e.textAlign;t==="middle"&&(t="center"),e.textAlign=t==null||qL[t]?t:"left";var r=e.textVerticalAlign||e.textBaseline;r==="center"&&(r="middle"),e.textVerticalAlign=r==null||HL[r]?r:"top";var a=e.textPadding;a&&(e.textPadding=zL(e.textPadding))}}function FL(e,t,r,a,i){a.rich?UL(e,t,r,a,i):$L(e,t,r,a,i)}function $L(e,t,r,a,i){var n=Fe(t,"font",a.font||Zt.DEFAULT_FONT),h=a.textPadding,d=e.__textCotentBlock;(!d||e.__dirty)&&(d=e.__textCotentBlock=Zt.parsePlainText(r,n,h,a.truncate));var o=d.outerHeight,f=d.lines,v=d.lineHeight,c=Mw(o,a,i),s=c.baseX,l=c.baseY,u=c.textAlign,p=c.textVerticalAlign;Cw(t,a,i,s,l);var g=Zt.adjustTextY(l,o,p),m=s,_=g,y=ff(a);if(y||h){var b=Zt.getWidth(r,n),x=b;h&&(x+=h[1]+h[3]);var w=Zt.adjustTextX(s,x,u);y&&df(e,t,a,w,g,x,o),h&&(m=Dw(s,u,h),_+=h[0])}Fe(t,"textAlign",u||"left"),Fe(t,"textBaseline","middle"),Fe(t,"shadowBlur",a.textShadowBlur||0),Fe(t,"shadowColor",a.textShadowColor||"transparent"),Fe(t,"shadowOffsetX",a.textShadowOffsetX||0),Fe(t,"shadowOffsetY",a.textShadowOffsetY||0),_+=v/2;var S=a.textStrokeWidth,A=gf(a.textStroke,S),T=pf(a.textFill);A&&(Fe(t,"lineWidth",S),Fe(t,"strokeStyle",A)),T&&Fe(t,"fillStyle",T);for(var M=0;M<f.length;M++)A&&t.strokeText(f[M],m,_),T&&t.fillText(f[M],m,_),_+=v}function UL(e,t,r,a,i){var n=e.__textCotentBlock;(!n||e.__dirty)&&(n=e.__textCotentBlock=Zt.parseRichText(r,a)),WL(e,t,n,a,i)}function WL(e,t,r,a,i){var n=r.width,h=r.outerWidth,d=r.outerHeight,o=a.textPadding,f=Mw(d,a,i),v=f.baseX,c=f.baseY,s=f.textAlign,l=f.textVerticalAlign;Cw(t,a,i,v,c);var u=Zt.adjustTextX(v,h,s),p=Zt.adjustTextY(c,d,l),g=u,m=p;o&&(g+=o[3],m+=o[0]);var _=g+n;ff(a)&&df(e,t,a,u,p,h,d);for(var y=0;y<r.lines.length;y++){for(var b=r.lines[y],x=b.tokens,w=x.length,S=b.lineHeight,A=b.width,T=0,M=g,C=_,L=w-1,I;T<w&&(I=x[T],!I.textAlign||I.textAlign==="left");)os(e,t,I,a,S,m,M,"left"),A-=I.width,M+=I.width,T++;for(;L>=0&&(I=x[L],I.textAlign==="right");)os(e,t,I,a,S,m,C,"right"),A-=I.width,C-=I.width,L--;for(M+=(n-(M-g)-(_-C)-A)/2;T<=L;)I=x[T],os(e,t,I,a,S,m,M+I.width/2,"center"),M+=I.width,T++;m+=S}}function Cw(e,t,r,a,i){if(r&&t.textRotation){var n=t.textOrigin;n==="center"?(a=r.width/2+r.x,i=r.height/2+r.y):n&&(a=n[0]+r.x,i=n[1]+r.y),e.translate(a,i),e.rotate(-t.textRotation),e.translate(-a,-i)}}function os(e,t,r,a,i,n,h,d){var o=a.rich[r.styleName]||{},f=r.textVerticalAlign,v=n+i/2;f==="top"?v=n+r.height/2:f==="bottom"&&(v=n+i-r.height/2),!r.isLineHolder&&ff(o)&&df(e,t,o,d==="right"?h-r.width:d==="center"?h-r.width/2:h,v-r.height/2,r.width,r.height);var c=r.textPadding;c&&(h=Dw(h,d,c),v-=r.height/2-c[2]-r.textHeight/2),Fe(t,"shadowBlur",ns(o.textShadowBlur,a.textShadowBlur,0)),Fe(t,"shadowColor",o.textShadowColor||a.textShadowColor||"transparent"),Fe(t,"shadowOffsetX",ns(o.textShadowOffsetX,a.textShadowOffsetX,0)),Fe(t,"shadowOffsetY",ns(o.textShadowOffsetY,a.textShadowOffsetY,0)),Fe(t,"textAlign",d),Fe(t,"textBaseline","middle"),Fe(t,"font",r.font||Zt.DEFAULT_FONT);var s=gf(o.textStroke||a.textStroke,u),l=pf(o.textFill||a.textFill),u=EL(o.textStrokeWidth,a.textStrokeWidth);s&&(Fe(t,"lineWidth",u),Fe(t,"strokeStyle",s),t.strokeText(r.text,h,v)),l&&(Fe(t,"fillStyle",l),t.fillText(r.text,h,v))}function ff(e){return e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor}function df(e,t,r,a,i,n,h){var d=r.textBackgroundColor,o=r.textBorderWidth,f=r.textBorderColor,v=OL(d);if(Fe(t,"shadowBlur",r.textBoxShadowBlur||0),Fe(t,"shadowColor",r.textBoxShadowColor||"transparent"),Fe(t,"shadowOffsetX",r.textBoxShadowOffsetX||0),Fe(t,"shadowOffsetY",r.textBoxShadowOffsetY||0),v||o&&f){t.beginPath();var c=r.textBorderRadius;c?VL.buildPath(t,{x:a,y:i,width:n,height:h,r:c}):t.rect(a,i,n,h),t.closePath()}if(v)Fe(t,"fillStyle",d),t.fill();else if(NL(d)){var s=d.image;s=Od.createOrUpdateImage(s,null,e,ZL,d),s&&Od.isImageReady(s)&&t.drawImage(s,a,i,n,h)}o&&f&&(Fe(t,"lineWidth",o),Fe(t,"strokeStyle",f),t.stroke())}function ZL(e,t){t.image=e}function Mw(e,t,r){var a=t.x||0,i=t.y||0,n=t.textAlign,h=t.textVerticalAlign;if(r){var d=t.textPosition;if(d instanceof Array)a=r.x+Vd(d[0],r.width),i=r.y+Vd(d[1],r.height);else{var o=Zt.adjustTextPositionOnRect(d,r,t.textDistance);a=o.x,i=o.y,n=n||o.textAlign,h=h||o.textVerticalAlign}var f=t.textOffset;f&&(a+=f[0],i+=f[1])}return{baseX:a,baseY:i,textAlign:n,textVerticalAlign:h}}function Fe(e,t,r){return e[t]=BL(e,t,r),e[t]}function gf(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function pf(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function Vd(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Dw(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function YL(e,t){return e!=null&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}Tr.normalizeTextStyle=GL;Tr.renderText=FL;Tr.getStroke=gf;Tr.getFill=pf;Tr.needDrawText=YL;var ss,Bd;function Lw(){if(Bd)return ss;Bd=1;var e=Tr,t=Qe,r=new t,a=function(){};a.prototype={constructor:a,drawRectText:function(n,h){var d=this.style;h=d.textRect||h,this.__dirty&&e.normalizeTextStyle(d,!0);var o=d.text;if(o!=null&&(o+=""),!!e.needDrawText(o,d)){n.save();var f=this.transform;d.transformText?this.setTransform(n):f&&(r.copy(h),r.applyTransform(f),h=r),e.renderText(this,n,o,d,h),n.restore()}}};var i=a;return ss=i,ss}var Iw=F,Pw=cw,mf=sw,XL=Lw();function Ei(e){e=e||{},mf.call(this,e);for(var t in e)e.hasOwnProperty(t)&&t!=="style"&&(this[t]=e[t]);this.style=new Pw(e.style,this),this._rect=null,this.__clipPaths=[]}Ei.prototype={constructor:Ei,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();return a.contain(r[0],r[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){e!=="style"?mf.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new Pw(e,this),this.dirty(!1),this}};Iw.inherits(Ei,mf);Iw.mixin(Ei,XL);var KL=Ei,Zi=KL,Rw=Zi,QL=Qe,jL=F,qd=Qa;function ro(e){Rw.call(this,e)}ro.prototype={constructor:ro,type:"image",brush:function(e,t){var r=this.style,a=r.image;r.bind(e,this,t);var i=this._image=qd.createOrUpdateImage(a,this._image,this,this.onload);if(!(!i||!qd.isImageReady(i))){var n=r.x||0,h=r.y||0,d=r.width,o=r.height,f=i.width/i.height;if(d==null&&o!=null?d=o*f:o==null&&d!=null?o=d/f:d==null&&o==null&&(d=i.width,o=i.height),this.setTransform(e),r.sWidth&&r.sHeight){var v=r.sx||0,c=r.sy||0;e.drawImage(i,v,c,r.sWidth,r.sHeight,n,h,d,o)}else if(r.sx&&r.sy){var v=r.sx,c=r.sy,s=d-v,l=o-c;e.drawImage(i,v,c,s,l,n,h,d,o)}else e.drawImage(i,n,h,d,o);r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new QL(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}};jL.inherits(ro,Rw);var JL=ro,Yi=JL,eI=Ka,tI=eI.devicePixelRatio,Br=F,ls=Fi,Ew=Qe,rI=of,Pc=dL,aI=mw,iI=Yi,nI=lt,Hd=1e5,ia=314159,Gd=.01,oI=.001;function mn(e){return parseInt(e,10)}function sI(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}var us=new Ew(0,0,0,0),vs=new Ew(0,0,0,0);function lI(e,t,r){return us.copy(e.getBoundingRect()),e.transform&&us.applyTransform(e.transform),vs.width=t,vs.height=r,!us.intersect(vs)}function uI(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0}function vI(e,t){for(var r=0;r<e.length;r++){var a=e[r];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function hI(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var Rc=function(e,t,r){this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=Br.extend({},r||{}),this.dpr=r.devicePixelRatio||tI,this._singleCanvas=a,this.root=e;var i=e.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var n=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var o=e.width,f=e.height;r.width!=null&&(o=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,e.width=o*this.dpr,e.height=f*this.dpr,this._width=o,this._height=f;var v=new Pc(e,this,this.dpr);v.__builtin__=!0,v.initContext(),h[ia]=v,v.zlevel=ia,n.push(ia),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=hI(this._width,this._height);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};Rc.prototype={constructor:Rc,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},refresh:function(e){var t=this.storage.getDisplayList(!0),r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<r.length;a++){var i=r[a],n=this._layers[i];if(!n.__builtin__&&n.refresh){var h=a===0?this._backgroundColor:null;n.refresh(h)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var r=new e.constructor({style:e.style,shape:e.shape});r.__from=e,e.__hoverMir=r,r.setStyle(t),this._hoverElements.push(r)}},removeHover:function(e){var t=e.__hoverMir,r=this._hoverElements,a=Br.indexOf(r,t);a>=0&&r.splice(a,1),e.__hoverMir=null},clearHover:function(e){for(var t=this._hoverElements,r=0;r<t.length;r++){var a=t[r].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){rI(e,this.storage.displayableSortFunc),r||(r=this._hoverlayer=this.getLayer(Hd));var a={};r.ctx.save();for(var i=0;i<t;){var n=e[i],h=n.__from;if(!(h&&h.__zr)){e.splice(i,1),h.__hoverMir=null,t--;continue}i++,h.invisible||(n.transform=h.transform,n.invTransform=h.invTransform,n.__clipPaths=h.__clipPaths,this._doPaintEl(n,r,!0,a))}r.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Hd)},_paintList:function(e,t,r){if(this._redrawId===r){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;aI(function(){i._paintList(e,t,r)})}}},_compositeManually:function(){var e=this.getLayer(ia).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(a){a.virtual&&e.drawImage(a.dom,0,0,t,r)})},_doPaintList:function(e,t){for(var r=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a],n=this._layers[i];n.__builtin__&&n!==this._hoverlayer&&(n.__dirty||t)&&r.push(n)}for(var h=!0,d=0;d<r.length;d++){var n=r[d],o=n.ctx,f={};o.save();var v=t?n.__startIndex:n.__drawIndex,c=!t&&n.incremental&&Date.now,s=c&&Date.now(),l=n.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(n.__startIndex===n.__endIndex)n.clear(!1,l);else if(v===n.__startIndex){var u=e[v];(!u.incremental||!u.notClear||t)&&n.clear(!1,l)}v===-1&&(console.error("For some unknown reason. drawIndex is -1"),v=n.__startIndex);for(var p=v;p<n.__endIndex;p++){var g=e[p];if(this._doPaintEl(g,n,t,f),g.__dirty=!1,c){var m=Date.now()-s;if(m>15)break}}n.__drawIndex=p,n.__drawIndex<n.__endIndex&&(h=!1),f.prevElClipPaths&&o.restore(),o.restore()}return nI.wxa&&Br.each(this._layers,function(_){_&&_.ctx&&_.ctx.draw&&_.ctx.draw()}),h},_doPaintEl:function(e,t,r,a){var i=t.ctx,n=e.transform;if((t.__dirty||r)&&!e.invisible&&e.style.opacity!==0&&!(n&&!n[0]&&!n[3])&&!(e.culling&&lI(e,this._width,this._height))){var h=e.__clipPaths;(!a.prevElClipPaths||uI(h,a.prevElClipPaths))&&(a.prevElClipPaths&&(t.ctx.restore(),a.prevElClipPaths=null,a.prevEl=null),h&&(i.save(),vI(h,i),a.prevElClipPaths=h)),e.beforeBrush&&e.beforeBrush(i),e.brush(i,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(i)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=ia);var r=this._layers[e];return r||(r=new Pc("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]&&Br.merge(r,this._layerConfig[e],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},insertLayer:function(e,t){var r=this._layers,a=this._zlevelList,i=a.length,n=null,h=-1,d=this._domRoot;if(r[e]){ls("ZLevel "+e+" has been used already");return}if(!sI(t)){ls("Layer of zlevel "+e+" is not valid");return}if(i>0&&e>a[0]){for(h=0;h<i-1&&!(a[h]<e&&a[h+1]>e);h++);n=r[a[h]]}if(a.splice(h+1,0,e),r[e]=t,!t.virtual)if(n){var o=n.dom;o.nextSibling?d.insertBefore(t.dom,o.nextSibling):d.appendChild(t.dom)}else d.firstChild?d.insertBefore(t.dom,d.firstChild):d.appendChild(t.dom)},eachLayer:function(e,t){var r=this._zlevelList,a,i;for(i=0;i<r.length;i++)a=r[i],e.call(t,this._layers[a],a)},eachBuiltinLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__&&e.call(t,a,i)},eachOtherLayer:function(e,t){var r=this._zlevelList,a,i,n;for(n=0;n<r.length;n++)i=r[n],a=this._layers[i],a.__builtin__||e.call(t,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){this.eachBuiltinLayer(function(o,f){o.__dirty=o.__used=!1});function t(o){i&&(i.__endIndex!==o&&(i.__dirty=!0),i.__endIndex=o)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var a=e[r];if(a.zlevel!==e[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}for(var i=null,n=0,r=0;r<e.length;r++){var a=e[r],h=a.zlevel,d;a.incremental?(d=this.getLayer(h+oI,this._needsManuallyCompositing),d.incremental=!0,n=1):d=this.getLayer(h+(n>0?Gd:0),this._needsManuallyCompositing),d.__builtin__||ls("ZLevel "+h+" has been used by unkown layer "+d.id),d!==i&&(d.__used=!0,d.__startIndex!==r&&(d.__dirty=!0),d.__startIndex=r,d.incremental?d.__drawIndex=-1:d.__drawIndex=r,t(r),i=d),a.__dirty&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=r))}t(r),this.eachBuiltinLayer(function(o,f){!o.__used&&o.getElementCount()>0&&(o.__dirty=!0,o.__startIndex=o.__endIndex=o.__drawIndex=0),o.__dirty&&o.__drawIndex<0&&(o.__drawIndex=o.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var r=this._layerConfig;r[e]?Br.merge(r[e],t,!0):r[e]=t;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];if(i===e||i===e+Gd){var n=this._layers[i];Br.merge(n,r[e],!0)}}}},delLayer:function(e){var t=this._layers,r=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],r.splice(Br.indexOf(r,e),1))},resize:function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var a=this._opts;if(e!=null&&(a.width=e),t!=null&&(a.height=t),e=this._getSize(0),t=this._getSize(1),r.style.display="",this._width!=e||t!=this._height){r.style.width=e+"px",r.style.height=t+"px";for(var i in this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(e,t);Br.each(this._progressiveLayers,function(n){n.resize(e,t)}),this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(ia).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[ia].dom;var t=new Pc("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height,i=t.ctx;this.eachLayer(function(f){f.__builtin__?i.drawImage(f.dom,0,0,r,a):f.renderToCanvas&&(t.ctx.save(),f.renderToCanvas(t.ctx),t.ctx.restore())})}else for(var n={},h=this.storage.getDisplayList(!0),d=0;d<h.length;d++){var o=h[d];this._doPaintEl(o,t,!0,n)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,r=["width","height"][e],a=["clientWidth","clientHeight"][e],i=["paddingLeft","paddingTop"][e],n=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var h=this.root,d=document.defaultView.getComputedStyle(h);return(h[a]||mn(d[r])||mn(h.style[r]))-(mn(d[i])||0)-(mn(d[n])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var r=document.createElement("canvas"),a=r.getContext("2d"),i=e.getBoundingRect(),n=e.style,h=n.shadowBlur*t,d=n.shadowOffsetX*t,o=n.shadowOffsetY*t,f=n.hasStroke()?n.lineWidth:0,v=Math.max(f/2,-d+h),c=Math.max(f/2,d+h),s=Math.max(f/2,-o+h),l=Math.max(f/2,o+h),u=i.width+v+c,p=i.height+s+l;r.width=u*t,r.height=p*t,a.scale(t,t),a.clearRect(0,0,u,p),a.dpr=t;var g={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[v-i.x,s-i.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var m=iI,_=new m({style:{x:0,y:0,image:r}});return g.position!=null&&(_.position=e.position=g.position),g.rotation!=null&&(_.rotation=e.rotation=g.rotation),g.scale!=null&&(_.scale=e.scale=g.scale),_}};var cI=Rc,fI=cI,wt={},dI=ua;wt.Dispatcher=dI;var Fd=lt,yf=typeof window<"u"&&!!window.addEventListener,gI=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function pI(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function Ec(e,t,r,a){return r=r||{},a||!Fd.canvasSupported?$d(e,t,r):Fd.browser.firefox&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):$d(e,t,r),r}function $d(e,t,r){var a=pI(e);r.zrX=t.clientX-a.left,r.zrY=t.clientY-a.top}function mI(e,t,r){if(t=t||window.event,t.zrX!=null)return t;var a=t.type,i=a&&a.indexOf("touch")>=0;if(!i)Ec(e,t,t,r),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;else{var n=a!="touchend"?t.targetTouches[0]:t.changedTouches[0];n&&Ec(e,n,t,r)}var h=t.button;return t.which==null&&h!==void 0&&gI.test(t.type)&&(t.which=h&1?1:h&2?3:h&4?2:0),t}function yI(e,t,r){yf?e.addEventListener(t,r):e.attachEvent("on"+t,r)}function _I(e,t,r){yf?e.removeEventListener(t,r):e.detachEvent("on"+t,r)}var xI=yf?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0};function SI(e){return e.which>1}wt.clientToLocal=Ec;wt.normalizeEvent=mI;wt.addEventListener=yI;wt.removeEventListener=_I;wt.stop=xI;wt.notLeftMouse=SI;var kw=F,bI=wt,zw=bI.Dispatcher,Ud=mw,wI=rw,ao=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,zw.call(this)};ao.prototype={constructor:ao,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),r=0;r<t.length;r++)this.addClip(t[r])},removeClip:function(e){var t=kw.indexOf(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),r=0;r<t.length;r++)this.removeClip(t[r]);e.animation=null},_update:function(){for(var e=new Date().getTime()-this._pausedTime,t=e-this._time,r=this._clips,a=r.length,i=[],n=[],h=0;h<a;h++){var d=r[h],o=d.step(e,t);o&&(i.push(o),n.push(d))}for(var h=0;h<a;)r[h]._needsRemove?(r[h]=r[a-1],r.pop(),a--):h++;a=i.length;for(var h=0;h<a;h++)n[h].fire(i[h]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0;function t(){e._running&&(Ud(t),!e._paused&&e._update())}Ud(t)},start:function(){this._time=new Date().getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=new Date().getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=new Date().getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){t=t||{};var r=new wI(e,t.loop,t.getter,t.setter);return this.addAnimator(r),r}};kw.mixin(ao,zw);var AI=ao,TI=AI,CI=wt,kc=function(){this._track=[]};kc.prototype={constructor:kc,recognize:function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,r){var a=e.touches;if(a){for(var i={points:[],touches:[],target:t,event:e},n=0,h=a.length;n<h;n++){var d=a[n],o=CI.clientToLocal(r,d,{});i.points.push([o.zrX,o.zrY]),i.touches.push(d)}this._track.push(i)}},_recognize:function(e){for(var t in hs)if(hs.hasOwnProperty(t)){var r=hs[t](this._track,e);if(r)return r}}};function Wd(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function MI(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var hs={pinch:function(e,t){var r=e.length;if(r){var a=(e[r-1]||{}).points,i=(e[r-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var n=Wd(a)/Wd(i);!isFinite(n)&&(n=1),t.pinchScale=n;var h=MI(a);return t.pinchX=h[0],t.pinchY=h[1],{type:"pinch",target:e[0].target,event:t}}}}},DI=kc,LI=DI,_f=wt,II=_f.addEventListener,PI=_f.removeEventListener,za=_f.normalizeEvent,br=F,Ow=ua,zc=lt,RI=LI,EI=300,wo=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],xf=["touchstart","touchend","touchmove"],kI={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Nw=br.map(wo,function(e){var t=e.replace("mouse","pointer");return kI[t]?t:e});function Vw(e){return e==="mousewheel"&&zc.browser.firefox?"DOMMouseScroll":e}function cs(e,t,r){var a=e._gestureMgr;r==="start"&&a.clear();var i=a.recognize(t,e.handler.findHover(t.zrX,t.zrY,null).target,e.dom);if(r==="end"&&a.clear(),i){var n=i.type;t.gestureEvent=n,e.handler.dispatchToElement({target:i.target},n,i.event)}}function fs(e){e._touching=!0,clearTimeout(e._touchTimer),e._touchTimer=setTimeout(function(){e._touching=!1},700)}var Rt={mousemove:function(e){e=za(this.dom,e),this.trigger("mousemove",e)},mouseout:function(e){e=za(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&t.nodeType!=9;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){e=za(this.dom,e),e.zrByTouch=!0,this._lastTouchMoment=new Date,cs(this,e,"start"),Rt.mousemove.call(this,e),Rt.mousedown.call(this,e),fs(this)},touchmove:function(e){e=za(this.dom,e),e.zrByTouch=!0,cs(this,e,"change"),Rt.mousemove.call(this,e),fs(this)},touchend:function(e){e=za(this.dom,e),e.zrByTouch=!0,cs(this,e,"end"),Rt.mouseup.call(this,e),+new Date-this._lastTouchMoment<EI&&Rt.click.call(this,e),fs(this)},pointerdown:function(e){Rt.mousedown.call(this,e)},pointermove:function(e){Zd(e)||Rt.mousemove.call(this,e)},pointerup:function(e){Rt.mouseup.call(this,e)},pointerout:function(e){Zd(e)||Rt.mouseout.call(this,e)}};function Zd(e){var t=e.pointerType;return t==="pen"||t==="touch"}br.each(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Rt[e]=function(t){t=za(this.dom,t),this.trigger(e,t)}});function zI(e){br.each(xf,function(r){e._handlers[r]=br.bind(Rt[r],e)}),br.each(Nw,function(r){e._handlers[r]=br.bind(Rt[r],e)}),br.each(wo,function(r){e._handlers[r]=t(Rt[r],e)});function t(r,a){return function(){if(!a._touching)return r.apply(a,arguments)}}}function Sf(e){Ow.call(this),this.dom=e,this._touching=!1,this._touchTimer,this._gestureMgr=new RI,this._handlers={},zI(this),zc.pointerEventsSupported?t(Nw,this):(zc.touchEventsSupported&&t(xf,this),t(wo,this));function t(r,a){br.each(r,function(i){II(e,Vw(i),a._handlers[i])},a)}}var Bw=Sf.prototype;Bw.dispose=function(){for(var e=wo.concat(xf),t=0;t<e.length;t++){var r=e[t];PI(this.dom,Vw(r),this._handlers[r])}};Bw.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")};br.mixin(Sf,Ow);var OI=Sf,NI=OI,VI=Lb,Oc=lt,BI=F,qI=YM,HI=eL,GI=fI,FI=TI,$I=NI;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var UI=!Oc.canvasSupported,Fn={canvas:GI},na={},WI="4.0.4";function ZI(e,t){var r=new Nc(VI(),e,t);return na[r.id]=r,r}function YI(e){if(e)e.dispose();else{for(var t in na)na.hasOwnProperty(t)&&na[t].dispose();na={}}return this}function XI(e){return na[e]}function KI(e,t){Fn[e]=t}function QI(e){delete na[e]}var Nc=function(e,t,r){r=r||{},this.dom=t,this.id=e;var a=this,i=new HI,n=r.renderer;if(UI){if(!Fn.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");n="vml"}else(!n||!Fn[n])&&(n="canvas");var h=new Fn[n](t,i,r,e);this.storage=i,this.painter=h;var d=!Oc.node&&!Oc.worker?new $I(h.getViewportRoot()):null;this.handler=new qI(i,h,d,h.root),this.animation=new FI({stage:{update:BI.bind(this.flush,this)}}),this.animation.start(),this._needsRefresh;var o=i.delFromStorage,f=i.addToStorage;i.delFromStorage=function(v){o.call(i,v),v&&v.removeSelfFromZr(a)},i.addToStorage=function(v){f.call(i,v),v.addSelfToZr(a)}};Nc.prototype={constructor:Nc,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){this.painter.addHover&&(this.painter.addHover(e,t),this.refreshHover())},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,r){this.handler.on(e,t,r)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,QI(this.id)}};Ar.version=WI;Ar.init=ZI;Ar.dispose=YI;Ar.getInstance=XI;Ar.registerPainter=KI;var Me={},Vt=F,qa=Vt.each,Ua=Vt.isObject,jI=Vt.isArray,qw="series\0";function Hw(e){return e instanceof Array?e:e==null?[]:[e]}function JI(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,i=r.length;a<i;a++){var n=r[a];!e.emphasis[t].hasOwnProperty(n)&&e[t].hasOwnProperty(n)&&(e.emphasis[t][n]=e[t][n])}}}var eP=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function tP(e){return Ua(e)&&!jI(e)&&!(e instanceof Date)?e.value:e}function rP(e){return Ua(e)&&!(e instanceof Array)}function aP(e,t){t=(t||[]).slice();var r=Vt.map(e||[],function(a,i){return{exist:a}});return qa(t,function(a,i){if(Ua(a)){for(var n=0;n<r.length;n++)if(!r[n].option&&a.id!=null&&r[n].exist.id===a.id+""){r[n].option=a,t[i]=null;return}for(var n=0;n<r.length;n++){var h=r[n].exist;if(!r[n].option&&(h.id==null||a.id==null)&&a.name!=null&&!$n(a)&&!$n(h)&&h.name===a.name+""){r[n].option=a,t[i]=null;return}}}}),qa(t,function(a,i){if(Ua(a)){for(var n=0;n<r.length;n++){var h=r[n].exist;if(!r[n].option&&!$n(h)&&a.id==null){r[n].option=a;break}}n>=r.length&&r.push({option:a})}}),r}function iP(e){var t=Vt.createHashMap();qa(e,function(r,a){var i=r.exist;i&&t.set(i.id,r)}),qa(e,function(r,a){var i=r.option;Vt.assert(!i||i.id==null||!t.get(i.id)||t.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&t.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),qa(e,function(r,a){var i=r.exist,n=r.option,h=r.keyInfo;if(Ua(n)){if(h.name=n.name!=null?n.name+"":i?i.name:qw+a,i)h.id=i.id;else if(n.id!=null)h.id=n.id+"";else{var d=0;do h.id="\0"+h.name+"\0"+d++;while(t.get(h.id))}t.set(h.id,r)}})}function nP(e){var t=e.name;return!!(t&&t.indexOf(qw))}function $n(e){return Ua(e)&&e.id&&(e.id+"").indexOf("\0_ec_\0")===0}function oP(e,t){var r={},a={};return i(e||[],r),i(t||[],a,r),[n(r),n(a)];function i(h,d,o){for(var f=0,v=h.length;f<v;f++)for(var c=h[f].seriesId,s=Hw(h[f].dataIndex),l=o&&o[c],u=0,p=s.length;u<p;u++){var g=s[u];l&&l[g]?l[g]=null:(d[c]||(d[c]={}))[g]=1}}function n(h,d){var o=[];for(var f in h)if(h.hasOwnProperty(f)&&h[f]!=null)if(d)o.push(+f);else{var v=n(h[f],!0);v.length&&o.push({seriesId:f,dataIndex:v})}return o}}function sP(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Vt.isArray(t.dataIndex)?Vt.map(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Vt.isArray(t.name)?Vt.map(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function lP(){var e="__\0ec_inner_"+uP+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var uP=0;function vP(e,t,r){if(Vt.isString(t)){var a={};a[t+"Index"]=0,t=a}var i=r&&r.defaultMainType;i&&!ds(t,i+"Index")&&!ds(t,i+"Id")&&!ds(t,i+"Name")&&(t[i+"Index"]=0);var n={};return qa(t,function(o,d){var o=t[d];if(d==="dataIndex"||d==="dataIndexInside"){n[d]=o;return}var f=d.match(/^(\w+)(Index|Id|Name)$/)||[],v=f[1],c=(f[2]||"").toLowerCase();if(!(!v||!c||o==null||c==="index"&&o==="none"||r&&r.includeMainTypes&&Vt.indexOf(r.includeMainTypes,v)<0)){var s={mainType:v};(c!=="index"||o!=="all")&&(s[c]=o);var l=e.queryComponents(s);n[v+"Models"]=l,n[v+"Model"]=l[0]}}),n}function ds(e,t){return e&&e.hasOwnProperty(t)}function hP(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function cP(e,t){return e.getAttribute?e.getAttribute(t):e[t]}Me.normalizeToArray=Hw;Me.defaultEmphasis=JI;Me.TEXT_STYLE_OPTIONS=eP;Me.getDataItemValue=tP;Me.isDataItemOption=rP;Me.mappingToExists=aP;Me.makeIdAndName=iP;Me.isNameSpecified=nP;Me.isIdInner=$n;Me.compressBatches=oP;Me.queryDataIndex=sP;Me.makeInner=lP;Me.parseFinder=vP;Me.setAttribute=hP;Me.getAttribute=cP;var Pt={},Wa=F,fP=".",Kr="___EC__COMPONENT__CONTAINER___";function Oa(e){var t={main:"",sub:""};return e&&(e=e.split(fP),t.main=e[0]||"",t.sub=e[1]||""),t}function dP(e){Wa.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function gP(e,t){e.$constructor=e,e.extend=function(r){var a=this,i=function(){r.$constructor?r.$constructor.apply(this,arguments):a.apply(this,arguments)};return Wa.extend(i.prototype,r),i.extend=this.extend,i.superCall=yP,i.superApply=_P,Wa.inherits(i,this),i.superClass=a,i}}var pP=0;function mP(e){var t=["__\0is_clz",pP++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function yP(e,t){var r=Wa.slice(arguments,2);return this.superClass.prototype[t].apply(e,r)}function _P(e,t,r){return this.superClass.prototype[t].apply(e,r)}function xP(e,t){t=t||{};var r={};e.registerClass=function(n,h){if(h){if(dP(h),h=Oa(h),!h.sub)r[h.main]=n;else if(h.sub!==Kr){var d=a(h);d[h.sub]=n}}return n},e.getClass=function(n,h,d){var o=r[n];if(o&&o[Kr]&&(o=h?o[h]:null),d&&!o)throw new Error(h?"Component "+n+"."+(h||"")+" not exists. Load it first.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){n=Oa(n);var h=[],d=r[n.main];return d&&d[Kr]?Wa.each(d,function(o,f){f!==Kr&&h.push(o)}):h.push(d),h},e.hasClass=function(n){return n=Oa(n),!!r[n.main]},e.getAllClassMainTypes=function(){var n=[];return Wa.each(r,function(h,d){n.push(d)}),n},e.hasSubTypes=function(n){n=Oa(n);var h=r[n.main];return h&&h[Kr]},e.parseClassType=Oa;function a(n){var h=r[n.main];return(!h||!h[Kr])&&(h=r[n.main]={},h[Kr]=!0),h}if(t.registerWhenExtend){var i=e.extend;i&&(e.extend=function(n){var h=i.call(this,n);return e.registerClass(h,n.type)})}return e}function SP(e,t){}Pt.parseClassType=Oa;Pt.enableClassExtend=gP;Pt.enableClassCheck=mP;Pt.enableClassManagement=xP;Pt.setReadOnly=SP;var Yd=F;function bP(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(r,a,i){for(var n={},h=0;h<e.length;h++){var d=e[h][1];if(!(a&&Yd.indexOf(a,d)>=0||i&&Yd.indexOf(i,d)<0)){var o=r.getShallow(d);o!=null&&(n[e[h][0]]=o)}}return n}}var Ja=bP,wP=Ja,AP=wP([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),TP={getLineStyle:function(e){var t=AP(this,e),r=this.getLineDash(t.lineWidth);return r&&(t.lineDash=r),t},getLineDash:function(e){e==null&&(e=1);var t=this.get("type"),r=Math.max(e,2),a=e*4;return t==="solid"||t==null?null:t==="dashed"?[a,a]:[r,r]}},CP=TP,MP=Ja,DP=MP([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),LP={getAreaStyle:function(e,t){return DP(this,e,t)}},IP=LP,le={},Ao={},at={},Gw=Ce,bf=Gw.create,Ha=Gw.distSquare,yn=Math.pow,Wr=Math.sqrt,io=1e-8,Fw=1e-4,Xd=Wr(3),_n=1/3,or=bf(),Nt=bf(),Ga=bf();function Fr(e){return e>-io&&e<io}function $w(e){return e>io||e<-io}function mr(e,t,r,a,i){var n=1-i;return n*n*(n*e+3*i*t)+i*i*(i*a+3*n*r)}function PP(e,t,r,a,i){var n=1-i;return 3*(((t-e)*n+2*(r-t)*i)*n+(a-r)*i*i)}function RP(e,t,r,a,i,n){var h=a+3*(t-r)-e,d=3*(r-t*2+e),o=3*(t-e),f=e-i,v=d*d-3*h*o,c=d*o-9*h*f,s=o*o-3*d*f,l=0;if(Fr(v)&&Fr(c))if(Fr(d))n[0]=0;else{var u=-o/d;u>=0&&u<=1&&(n[l++]=u)}else{var p=c*c-4*v*s;if(Fr(p)){var g=c/v,u=-d/h+g,m=-g/2;u>=0&&u<=1&&(n[l++]=u),m>=0&&m<=1&&(n[l++]=m)}else if(p>0){var _=Wr(p),y=v*d+1.5*h*(-c+_),b=v*d+1.5*h*(-c-_);y<0?y=-yn(-y,_n):y=yn(y,_n),b<0?b=-yn(-b,_n):b=yn(b,_n);var u=(-d-(y+b))/(3*h);u>=0&&u<=1&&(n[l++]=u)}else{var x=(2*v*d-3*h*c)/(2*Wr(v*v*v)),w=Math.acos(x)/3,S=Wr(v),A=Math.cos(w),u=(-d-2*S*A)/(3*h),m=(-d+S*(A+Xd*Math.sin(w)))/(3*h),T=(-d+S*(A-Xd*Math.sin(w)))/(3*h);u>=0&&u<=1&&(n[l++]=u),m>=0&&m<=1&&(n[l++]=m),T>=0&&T<=1&&(n[l++]=T)}}return l}function EP(e,t,r,a,i){var n=6*r-12*t+6*e,h=9*t+3*a-3*e-9*r,d=3*t-3*e,o=0;if(Fr(h)){if($w(n)){var f=-d/n;f>=0&&f<=1&&(i[o++]=f)}}else{var v=n*n-4*h*d;if(Fr(v))i[0]=-n/(2*h);else if(v>0){var c=Wr(v),f=(-n+c)/(2*h),s=(-n-c)/(2*h);f>=0&&f<=1&&(i[o++]=f),s>=0&&s<=1&&(i[o++]=s)}}return o}function kP(e,t,r,a,i,n){var h=(t-e)*i+e,d=(r-t)*i+t,o=(a-r)*i+r,f=(d-h)*i+h,v=(o-d)*i+d,c=(v-f)*i+f;n[0]=e,n[1]=h,n[2]=f,n[3]=c,n[4]=c,n[5]=v,n[6]=o,n[7]=a}function zP(e,t,r,a,i,n,h,d,o,f,v){var c,s=.005,l=1/0,u,p,g,m;or[0]=o,or[1]=f;for(var _=0;_<1;_+=.05)Nt[0]=mr(e,r,i,h,_),Nt[1]=mr(t,a,n,d,_),g=Ha(or,Nt),g<l&&(c=_,l=g);l=1/0;for(var y=0;y<32&&!(s<Fw);y++)u=c-s,p=c+s,Nt[0]=mr(e,r,i,h,u),Nt[1]=mr(t,a,n,d,u),g=Ha(Nt,or),u>=0&&g<l?(c=u,l=g):(Ga[0]=mr(e,r,i,h,p),Ga[1]=mr(t,a,n,d,p),m=Ha(Ga,or),p<=1&&m<l?(c=p,l=m):s*=.5);return v&&(v[0]=mr(e,r,i,h,c),v[1]=mr(t,a,n,d,c)),Wr(l)}function yr(e,t,r,a){var i=1-a;return i*(i*e+2*a*t)+a*a*r}function OP(e,t,r,a){return 2*((1-a)*(t-e)+a*(r-t))}function NP(e,t,r,a,i){var n=e-2*t+r,h=2*(t-e),d=e-a,o=0;if(Fr(n)){if($w(h)){var f=-d/h;f>=0&&f<=1&&(i[o++]=f)}}else{var v=h*h-4*n*d;if(Fr(v)){var f=-h/(2*n);f>=0&&f<=1&&(i[o++]=f)}else if(v>0){var c=Wr(v),f=(-h+c)/(2*n),s=(-h-c)/(2*n);f>=0&&f<=1&&(i[o++]=f),s>=0&&s<=1&&(i[o++]=s)}}return o}function VP(e,t,r){var a=e+r-2*t;return a===0?.5:(e-t)/a}function BP(e,t,r,a,i){var n=(t-e)*a+e,h=(r-t)*a+t,d=(h-n)*a+n;i[0]=e,i[1]=n,i[2]=d,i[3]=d,i[4]=h,i[5]=r}function qP(e,t,r,a,i,n,h,d,o){var f,v=.005,c=1/0;or[0]=h,or[1]=d;for(var s=0;s<1;s+=.05){Nt[0]=yr(e,r,i,s),Nt[1]=yr(t,a,n,s);var l=Ha(or,Nt);l<c&&(f=s,c=l)}c=1/0;for(var u=0;u<32&&!(v<Fw);u++){var p=f-v,g=f+v;Nt[0]=yr(e,r,i,p),Nt[1]=yr(t,a,n,p);var l=Ha(Nt,or);if(p>=0&&l<c)f=p,c=l;else{Ga[0]=yr(e,r,i,g),Ga[1]=yr(t,a,n,g);var m=Ha(Ga,or);g<=1&&m<c?(f=g,c=m):v*=.5}}return o&&(o[0]=yr(e,r,i,f),o[1]=yr(t,a,n,f)),Wr(c)}at.cubicAt=mr;at.cubicDerivativeAt=PP;at.cubicRootAt=RP;at.cubicExtrema=EP;at.cubicSubdivide=kP;at.cubicProjectPoint=zP;at.quadraticAt=yr;at.quadraticDerivativeAt=OP;at.quadraticRootAt=NP;at.quadraticExtremum=VP;at.quadraticSubdivide=BP;at.quadraticProjectPoint=qP;var Qr={},Kd;function wf(){if(Kd)return Qr;Kd=1;var e=Ce,t=at,r=Math.min,a=Math.max,i=Math.sin,n=Math.cos,h=Math.PI*2,d=e.create(),o=e.create(),f=e.create();function v(m,_,y){if(m.length!==0){var b=m[0],x=b[0],w=b[0],S=b[1],A=b[1],T;for(T=1;T<m.length;T++)b=m[T],x=r(x,b[0]),w=a(w,b[0]),S=r(S,b[1]),A=a(A,b[1]);_[0]=x,_[1]=S,y[0]=w,y[1]=A}}function c(m,_,y,b,x,w){x[0]=r(m,y),x[1]=r(_,b),w[0]=a(m,y),w[1]=a(_,b)}var s=[],l=[];function u(m,_,y,b,x,w,S,A,T,M){var C=t.cubicExtrema,L=t.cubicAt,I,P=C(m,y,x,S,s);for(T[0]=1/0,T[1]=1/0,M[0]=-1/0,M[1]=-1/0,I=0;I<P;I++){var R=L(m,y,x,S,s[I]);T[0]=r(R,T[0]),M[0]=a(R,M[0])}for(P=C(_,b,w,A,l),I=0;I<P;I++){var E=L(_,b,w,A,l[I]);T[1]=r(E,T[1]),M[1]=a(E,M[1])}T[0]=r(m,T[0]),M[0]=a(m,M[0]),T[0]=r(S,T[0]),M[0]=a(S,M[0]),T[1]=r(_,T[1]),M[1]=a(_,M[1]),T[1]=r(A,T[1]),M[1]=a(A,M[1])}function p(m,_,y,b,x,w,S,A){var T=t.quadraticExtremum,M=t.quadraticAt,C=a(r(T(m,y,x),1),0),L=a(r(T(_,b,w),1),0),I=M(m,y,x,C),P=M(_,b,w,L);S[0]=r(m,x,I),S[1]=r(_,w,P),A[0]=a(m,x,I),A[1]=a(_,w,P)}function g(m,_,y,b,x,w,S,A,T){var M=e.min,C=e.max,L=Math.abs(x-w);if(L%h<1e-4&&L>1e-4){A[0]=m-y,A[1]=_-b,T[0]=m+y,T[1]=_+b;return}if(d[0]=n(x)*y+m,d[1]=i(x)*b+_,o[0]=n(w)*y+m,o[1]=i(w)*b+_,M(A,d,o),C(T,d,o),x=x%h,x<0&&(x=x+h),w=w%h,w<0&&(w=w+h),x>w&&!S?w+=h:x<w&&S&&(x+=h),S){var I=w;w=x,x=I}for(var P=0;P<w;P+=Math.PI/2)P>x&&(f[0]=n(P)*y+m,f[1]=i(P)*b+_,M(A,f,A),C(T,f,T))}return Qr.fromPoints=v,Qr.fromLine=c,Qr.fromCubic=u,Qr.fromQuadratic=p,Qr.fromArc=g,Qr}var HP=at,Qd=Ce,vi=wf(),GP=Qe,FP=Ka,jd=FP.devicePixelRatio,Ke={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},er=[],Rr=[],tr=[],rr=[],Jd=Math.min,eg=Math.max,hi=Math.cos,ci=Math.sin,xn=Math.sqrt,Aa=Math.abs,gs=typeof Float32Array<"u",no=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};no.prototype={constructor:no,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=Aa(1/jd/e)||0,this._uy=Aa(1/jd/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Ke.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var r=Aa(e-this._xi)>this._ux||Aa(t-this._yi)>this._uy||this._len<5;return this.addData(Ke.L,e,t),this._ctx&&r&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),r&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,r,a,i,n){return this.addData(Ke.C,e,t,r,a,i,n),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,r,a,i,n):this._ctx.bezierCurveTo(e,t,r,a,i,n)),this._xi=i,this._yi=n,this},quadraticCurveTo:function(e,t,r,a){return this.addData(Ke.Q,e,t,r,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,r,a):this._ctx.quadraticCurveTo(e,t,r,a)),this._xi=r,this._yi=a,this},arc:function(e,t,r,a,i,n){return this.addData(Ke.A,e,t,r,r,a,i-a,0,n?0:1),this._ctx&&this._ctx.arc(e,t,r,a,i,n),this._xi=hi(i)*r+e,this._yi=ci(i)*r+e,this},arcTo:function(e,t,r,a,i){return this._ctx&&this._ctx.arcTo(e,t,r,a,i),this},rect:function(e,t,r,a){return this._ctx&&this._ctx.rect(e,t,r,a),this.addData(Ke.R,e,t,r,a),this},closePath:function(){this.addData(Ke.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,r),e.closePath()),this._xi=t,this._yi=r,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,r=0;r<e.length;r++)t+=e[r];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;!(this.data&&this.data.length==t)&&gs&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,a=this._len,i=0;i<t;i++)r+=e[i].len();gs&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var i=0;i<t;i++)for(var n=e[i].data,h=0;h<n.length;h++)this.data[a++]=n[h];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var r=0;r<arguments.length;r++)t[this._len++]=arguments[r];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var r=this._dashSum,a=this._dashOffset,i=this._lineDash,n=this._ctx,h=this._xi,d=this._yi,o=e-h,f=t-d,v=xn(o*o+f*f),c=h,s=d,l,u=i.length,p;for(o/=v,f/=v,a<0&&(a=r+a),a%=r,c-=a*o,s-=a*f;o>0&&c<=e||o<0&&c>=e||o==0&&(f>0&&s<=t||f<0&&s>=t);)p=this._dashIdx,l=i[p],c+=o*l,s+=f*l,this._dashIdx=(p+1)%u,!(o>0&&c<h||o<0&&c>h||f>0&&s<d||f<0&&s>d)&&n[p%2?"moveTo":"lineTo"](o>=0?Jd(c,e):eg(c,e),f>=0?Jd(s,t):eg(s,t));o=c-e,f=s-t,this._dashOffset=-xn(o*o+f*f)},_dashedBezierTo:function(e,t,r,a,i,n){var h=this._dashSum,d=this._dashOffset,o=this._lineDash,f=this._ctx,v=this._xi,c=this._yi,s,l,u,p=HP.cubicAt,g=0,m=this._dashIdx,_=o.length,y,b,x=0;for(d<0&&(d=h+d),d%=h,s=0;s<1;s+=.1)l=p(v,e,r,i,s+.1)-p(v,e,r,i,s),u=p(c,t,a,n,s+.1)-p(c,t,a,n,s),g+=xn(l*l+u*u);for(;m<_&&(x+=o[m],!(x>d));m++);for(s=(x-d)/g;s<=1;)y=p(v,e,r,i,s),b=p(c,t,a,n,s),m%2?f.moveTo(y,b):f.lineTo(y,b),s+=o[m]/g,m=(m+1)%_;m%2!==0&&f.lineTo(i,n),l=i-y,u=n-b,this._dashOffset=-xn(l*l+u*u)},_dashedQuadraticTo:function(e,t,r,a){var i=r,n=a;r=(r+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,r,a,i,n)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,gs&&(this.data=new Float32Array(e)))},getBoundingRect:function(){er[0]=er[1]=tr[0]=tr[1]=Number.MAX_VALUE,Rr[0]=Rr[1]=rr[0]=rr[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,r=0,a=0,i=0,n=0;n<e.length;){var h=e[n++];switch(n==1&&(t=e[n],r=e[n+1],a=t,i=r),h){case Ke.M:a=e[n++],i=e[n++],t=a,r=i,tr[0]=a,tr[1]=i,rr[0]=a,rr[1]=i;break;case Ke.L:vi.fromLine(t,r,e[n],e[n+1],tr,rr),t=e[n++],r=e[n++];break;case Ke.C:vi.fromCubic(t,r,e[n++],e[n++],e[n++],e[n++],e[n],e[n+1],tr,rr),t=e[n++],r=e[n++];break;case Ke.Q:vi.fromQuadratic(t,r,e[n++],e[n++],e[n],e[n+1],tr,rr),t=e[n++],r=e[n++];break;case Ke.A:var d=e[n++],o=e[n++],f=e[n++],v=e[n++],c=e[n++],s=e[n++]+c;e[n++];var l=1-e[n++];n==1&&(a=hi(c)*f+d,i=ci(c)*v+o),vi.fromArc(d,o,f,v,c,s,l,tr,rr),t=hi(s)*f+d,r=ci(s)*v+o;break;case Ke.R:a=t=e[n++],i=r=e[n++];var u=e[n++],p=e[n++];vi.fromLine(a,i,a+u,i+p,tr,rr);break;case Ke.Z:t=a,r=i;break}Qd.min(er,er,tr),Qd.max(Rr,Rr,rr)}return n===0&&(er[0]=er[1]=Rr[0]=Rr[1]=0),new GP(er[0],er[1],Rr[0]-er[0],Rr[1]-er[1])},rebuildPath:function(e){for(var t=this.data,r,a,i,n,h,d,o=this._ux,f=this._uy,v=this._len,c=0;c<v;){var s=t[c++];switch(c==1&&(i=t[c],n=t[c+1],r=i,a=n),s){case Ke.M:r=i=t[c++],a=n=t[c++],e.moveTo(i,n);break;case Ke.L:h=t[c++],d=t[c++],(Aa(h-i)>o||Aa(d-n)>f||c===v-1)&&(e.lineTo(h,d),i=h,n=d);break;case Ke.C:e.bezierCurveTo(t[c++],t[c++],t[c++],t[c++],t[c++],t[c++]),i=t[c-2],n=t[c-1];break;case Ke.Q:e.quadraticCurveTo(t[c++],t[c++],t[c++],t[c++]),i=t[c-2],n=t[c-1];break;case Ke.A:var l=t[c++],u=t[c++],p=t[c++],g=t[c++],m=t[c++],_=t[c++],y=t[c++],b=t[c++],x=p>g?p:g,w=p>g?1:p/g,S=p>g?g/p:1,A=Math.abs(p-g)>.001,T=m+_;A?(e.translate(l,u),e.rotate(y),e.scale(w,S),e.arc(0,0,x,m,T,1-b),e.scale(1/w,1/S),e.rotate(-y),e.translate(-l,-u)):e.arc(l,u,x,m,T,1-b),c==1&&(r=hi(m)*p+l,a=ci(m)*g+u),i=hi(T)*p+l,n=ci(T)*g+u;break;case Ke.R:r=i=t[c],a=n=t[c+1],e.rect(t[c++],t[c++],t[c++],t[c++]);break;case Ke.Z:e.closePath(),i=r,n=a}}}};no.CMD=Ke;var $P=no,ei=$P,Af={},Tf={};function UP(e,t,r,a,i,n,h){if(i===0)return!1;var d=i,o=0,f=e;if(h>t+d&&h>a+d||h<t-d&&h<a-d||n>e+d&&n>r+d||n<e-d&&n<r-d)return!1;if(e!==r)o=(t-a)/(e-r),f=(e*a-r*t)/(e-r);else return Math.abs(n-e)<=d/2;var v=o*n-h+f,c=v*v/(o*o+1);return c<=d/2*d/2}Tf.containStroke=UP;var Uw={},WP=at;function ZP(e,t,r,a,i,n,h,d,o,f,v){if(o===0)return!1;var c=o;if(v>t+c&&v>a+c&&v>n+c&&v>d+c||v<t-c&&v<a-c&&v<n-c&&v<d-c||f>e+c&&f>r+c&&f>i+c&&f>h+c||f<e-c&&f<r-c&&f<i-c&&f<h-c)return!1;var s=WP.cubicProjectPoint(e,t,r,a,i,n,h,d,f,v,null);return s<=c/2}Uw.containStroke=ZP;var Cf={},YP=at,XP=YP.quadraticProjectPoint;function KP(e,t,r,a,i,n,h,d,o){if(h===0)return!1;var f=h;if(o>t+f&&o>a+f&&o>n+f||o<t-f&&o<a-f&&o<n-f||d>e+f&&d>r+f&&d>i+f||d<e-f&&d<r-f&&d<i-f)return!1;var v=XP(e,t,r,a,i,n,d,o,null);return v<=f/2}Cf.containStroke=KP;var Ww={},Mf={},tg=Math.PI*2;function QP(e){return e%=tg,e<0&&(e+=tg),e}Mf.normalizeRadian=QP;var jP=Mf,Sn=jP.normalizeRadian,fi=Math.PI*2;function JP(e,t,r,a,i,n,h,d,o){if(h===0)return!1;var f=h;d-=e,o-=t;var v=Math.sqrt(d*d+o*o);if(v-f>r||v+f<r)return!1;if(Math.abs(a-i)%fi<1e-4)return!0;if(n){var c=a;a=Sn(i),i=Sn(c)}else a=Sn(a),i=Sn(i);a>i&&(i+=fi);var s=Math.atan2(o,d);return s<0&&(s+=fi),s>=a&&s<=i||s+fi>=a&&s+fi<=i}Ww.containStroke=JP;function e2(e,t,r,a,i,n){if(n>t&&n>a||n<t&&n<a||a===t)return 0;var h=a<t?1:-1,d=(n-t)/(a-t);(d===1||d===0)&&(h=a<t?.5:-.5);var o=d*(r-e)+e;return o===i?1/0:o>i?h:0}var Zw=e2,t2=ei,Ta=Tf,r2=Uw,a2=Cf,i2=Ww,n2=Mf,bn=n2.normalizeRadian,sr=at,jr=Zw,Er=t2.CMD,Ca=Math.PI*2,o2=1e-4;function s2(e,t){return Math.abs(e-t)<o2}var Ct=[-1,-1,-1],Ot=[-1,-1];function l2(){var e=Ot[0];Ot[0]=Ot[1],Ot[1]=e}function u2(e,t,r,a,i,n,h,d,o,f){if(f>t&&f>a&&f>n&&f>d||f<t&&f<a&&f<n&&f<d)return 0;var v=sr.cubicRootAt(t,a,n,d,f,Ct);if(v===0)return 0;for(var c=0,s=-1,l,u,p=0;p<v;p++){var g=Ct[p],m=g===0||g===1?.5:1,_=sr.cubicAt(e,r,i,h,g);_<o||(s<0&&(s=sr.cubicExtrema(t,a,n,d,Ot),Ot[1]<Ot[0]&&s>1&&l2(),l=sr.cubicAt(t,a,n,d,Ot[0]),s>1&&(u=sr.cubicAt(t,a,n,d,Ot[1]))),s==2?g<Ot[0]?c+=l<t?m:-m:g<Ot[1]?c+=u<l?m:-m:c+=d<u?m:-m:g<Ot[0]?c+=l<t?m:-m:c+=d<l?m:-m)}return c}function v2(e,t,r,a,i,n,h,d){if(d>t&&d>a&&d>n||d<t&&d<a&&d<n)return 0;var o=sr.quadraticRootAt(t,a,n,d,Ct);if(o===0)return 0;var f=sr.quadraticExtremum(t,a,n);if(f>=0&&f<=1){for(var v=0,c=sr.quadraticAt(t,a,n,f),s=0;s<o;s++){var l=Ct[s]===0||Ct[s]===1?.5:1,u=sr.quadraticAt(e,r,i,Ct[s]);u<h||(Ct[s]<f?v+=c<t?l:-l:v+=n<c?l:-l)}return v}else{var l=Ct[0]===0||Ct[0]===1?.5:1,u=sr.quadraticAt(e,r,i,Ct[0]);return u<h?0:n<t?l:-l}}function h2(e,t,r,a,i,n,h,d){if(d-=t,d>r||d<-r)return 0;var o=Math.sqrt(r*r-d*d);Ct[0]=-o,Ct[1]=o;var f=Math.abs(a-i);if(f<1e-4)return 0;if(f%Ca<1e-4){a=0,i=Ca;var v=n?1:-1;return h>=Ct[0]+e&&h<=Ct[1]+e?v:0}if(n){var o=a;a=bn(i),i=bn(o)}else a=bn(a),i=bn(i);a>i&&(i+=Ca);for(var c=0,s=0;s<2;s++){var l=Ct[s];if(l+e>h){var u=Math.atan2(d,l),v=n?1:-1;u<0&&(u=Ca+u),(u>=a&&u<=i||u+Ca>=a&&u+Ca<=i)&&(u>Math.PI/2&&u<Math.PI*1.5&&(v=-v),c+=v)}}return c}function Yw(e,t,r,a,i){for(var n=0,h=0,d=0,o=0,f=0,v=0;v<e.length;){var c=e[v++];switch(c===Er.M&&v>1&&(r||(n+=jr(h,d,o,f,a,i))),v==1&&(h=e[v],d=e[v+1],o=h,f=d),c){case Er.M:o=e[v++],f=e[v++],h=o,d=f;break;case Er.L:if(r){if(Ta.containStroke(h,d,e[v],e[v+1],t,a,i))return!0}else n+=jr(h,d,e[v],e[v+1],a,i)||0;h=e[v++],d=e[v++];break;case Er.C:if(r){if(r2.containStroke(h,d,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],t,a,i))return!0}else n+=u2(h,d,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],a,i)||0;h=e[v++],d=e[v++];break;case Er.Q:if(r){if(a2.containStroke(h,d,e[v++],e[v++],e[v],e[v+1],t,a,i))return!0}else n+=v2(h,d,e[v++],e[v++],e[v],e[v+1],a,i)||0;h=e[v++],d=e[v++];break;case Er.A:var s=e[v++],l=e[v++],u=e[v++],p=e[v++],g=e[v++],m=e[v++];e[v++];var _=1-e[v++],w=Math.cos(g)*u+s,S=Math.sin(g)*p+l;v>1?n+=jr(h,d,w,S,a,i):(o=w,f=S);var y=(a-s)*p/u+s;if(r){if(i2.containStroke(s,l,p,g,g+m,_,t,y,i))return!0}else n+=h2(s,l,p,g,g+m,_,y,i);h=Math.cos(g+m)*u+s,d=Math.sin(g+m)*p+l;break;case Er.R:o=h=e[v++],f=d=e[v++];var b=e[v++],x=e[v++],w=o+b,S=f+x;if(r){if(Ta.containStroke(o,f,w,f,t,a,i)||Ta.containStroke(w,f,w,S,t,a,i)||Ta.containStroke(w,S,o,S,t,a,i)||Ta.containStroke(o,S,o,f,t,a,i))return!0}else n+=jr(w,f,w,S,a,i),n+=jr(o,S,o,f,a,i);break;case Er.Z:if(r){if(Ta.containStroke(h,d,o,f,t,a,i))return!0}else n+=jr(h,d,o,f,a,i);h=o,d=f;break}}return!r&&!s2(d,f)&&(n+=jr(h,d,o,f,a,i)||0),n!==0}function c2(e,t,r){return Yw(e,0,!1,t,r)}function f2(e,t,r,a){return Yw(e,t,!0,r,a)}Af.contain=c2;Af.containStroke=f2;var Df=Zi,Lf=F,Vc=ei,rg=Af,d2=dw,ag=d2.prototype.getCanvasPattern,ps=Math.abs,g2=new Vc(!0);function sa(e){Df.call(this,e),this.path=null}sa.prototype={constructor:sa,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var r=this.style,a=this.path||g2,i=r.hasStroke(),n=r.hasFill(),h=r.fill,d=r.stroke,o=n&&!!h.colorStops,f=i&&!!d.colorStops,v=n&&!!h.image,c=i&&!!d.image;if(r.bind(e,this,t),this.setTransform(e),this.__dirty){var s;o&&(s=s||this.getBoundingRect(),this._fillGradient=r.getGradient(e,h,s)),f&&(s=s||this.getBoundingRect(),this._strokeGradient=r.getGradient(e,d,s))}o?e.fillStyle=this._fillGradient:v&&(e.fillStyle=ag.call(h,e)),f?e.strokeStyle=this._strokeGradient:c&&(e.strokeStyle=ag.call(d,e));var l=r.lineDash,u=r.lineDashOffset,p=!!e.setLineDash,g=this.getGlobalScale();a.setScale(g[0],g[1]),this.__dirtyPath||l&&!p&&i?(a.beginPath(e),l&&!p&&(a.setLineDash(l),a.setLineDashOffset(u)),this.buildPath(a,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),n&&a.fill(e),l&&p&&(e.setLineDash(l),e.lineDashOffset=u),i&&a.stroke(e),l&&p&&e.setLineDash([]),r.text!=null&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(e,t,r){},createPathProxy:function(){this.path=new Vc},getBoundingRect:function(){var e=this._rect,t=this.style,r=!e;if(r){var a=this.path;a||(a=this.path=new Vc),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||r){i.copy(e);var n=t.lineWidth,h=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),h>1e-10&&(i.width+=n/h,i.height+=n/h,i.x-=n/h/2,i.y-=n/h/2)}return i}return e},contain:function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),i=this.style;if(e=r[0],t=r[1],a.contain(e,t)){var n=this.path.data;if(i.hasStroke()){var h=i.lineWidth,d=i.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(i.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),rg.containStroke(n,h/d,e,t)))return!0}if(i.hasFill())return rg.contain(n,e,t)}return!1},dirty:function(e){e==null&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){e==="shape"?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Df.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var r=this.shape;if(r){if(Lf.isObject(e))for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);else r[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&ps(e[0]-1)>1e-10&&ps(e[3]-1)>1e-10?Math.sqrt(ps(e[0]*e[3]-e[2]*e[1])):1}};sa.extend=function(e){var t=function(a){sa.call(this,a),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var h in i)!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&(n[h]=i[h])}e.init&&e.init.call(this,a)};Lf.inherits(t,sa);for(var r in e)r!=="style"&&r!=="shape"&&(t.prototype[r]=e[r]);return t};Lf.inherits(sa,Df);var p2=sa,it=p2,m2=ei,y2=Ce,ms=y2.applyTransform,Ma=m2.CMD,_2=[[],[],[]],ig=Math.sqrt,x2=Math.atan2;function S2(e,t){var r=e.data,a,i,n,h,d,o,f=Ma.M,v=Ma.C,c=Ma.L,s=Ma.R,l=Ma.A,u=Ma.Q;for(n=0,h=0;n<r.length;){switch(a=r[n++],h=n,i=0,a){case f:i=1;break;case c:i=1;break;case v:i=3;break;case u:i=2;break;case l:var p=t[4],g=t[5],m=ig(t[0]*t[0]+t[1]*t[1]),_=ig(t[2]*t[2]+t[3]*t[3]),y=x2(-t[1]/_,t[0]/m);r[n]*=m,r[n++]+=p,r[n]*=_,r[n++]+=g,r[n++]*=m,r[n++]*=_,r[n++]+=y,r[n++]+=y,n+=2,h=n;break;case s:o[0]=r[n++],o[1]=r[n++],ms(o,o,t),r[h++]=o[0],r[h++]=o[1],o[0]+=r[n++],o[1]+=r[n++],ms(o,o,t),r[h++]=o[0],r[h++]=o[1]}for(d=0;d<i;d++){var o=_2[d];o[0]=r[n++],o[1]=r[n++],ms(o,o,t),r[h++]=o[0],r[h++]=o[1]}}}var b2=S2,If=it,ng=ei,w2=b2,ys=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],_s=Math.sqrt,wn=Math.sin,An=Math.cos,Tn=Math.PI,og=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},Bc=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(og(e)*og(t))},sg=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Bc(e,t))};function lg(e,t,r,a,i,n,h,d,o,f,v){var c=o*(Tn/180),s=An(c)*(e-r)/2+wn(c)*(t-a)/2,l=-1*wn(c)*(e-r)/2+An(c)*(t-a)/2,u=s*s/(h*h)+l*l/(d*d);u>1&&(h*=_s(u),d*=_s(u));var p=(i===n?-1:1)*_s((h*h*(d*d)-h*h*(l*l)-d*d*(s*s))/(h*h*(l*l)+d*d*(s*s)))||0,g=p*h*l/d,m=p*-d*s/h,_=(e+r)/2+An(c)*g-wn(c)*m,y=(t+a)/2+wn(c)*g+An(c)*m,b=sg([1,0],[(s-g)/h,(l-m)/d]),x=[(s-g)/h,(l-m)/d],w=[(-1*s-g)/h,(-1*l-m)/d],S=sg(x,w);Bc(x,w)<=-1&&(S=Tn),Bc(x,w)>=1&&(S=0),n===0&&S>0&&(S=S-2*Tn),n===1&&S<0&&(S=S+2*Tn),v.addData(f,_,y,h,d,b,S,c,n)}function A2(e){if(!e)return[];var t=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),r;for(r=0;r<ys.length;r++)t=t.replace(new RegExp(ys[r],"g"),"|"+ys[r]);var a=t.split("|"),i=0,n=0,h=new ng,d=ng.CMD,o;for(r=1;r<a.length;r++){var f=a[r],v=f.charAt(0),c=0,s=f.slice(1).replace(/e,-/g,"e-").split(","),l;s.length>0&&s[0]===""&&s.shift();for(var u=0;u<s.length;u++)s[u]=parseFloat(s[u]);for(;c<s.length&&!isNaN(s[c])&&!isNaN(s[0]);){var p,g,m,_,y,b,x,w=i,S=n;switch(v){case"l":i+=s[c++],n+=s[c++],l=d.L,h.addData(l,i,n);break;case"L":i=s[c++],n=s[c++],l=d.L,h.addData(l,i,n);break;case"m":i+=s[c++],n+=s[c++],l=d.M,h.addData(l,i,n),v="l";break;case"M":i=s[c++],n=s[c++],l=d.M,h.addData(l,i,n),v="L";break;case"h":i+=s[c++],l=d.L,h.addData(l,i,n);break;case"H":i=s[c++],l=d.L,h.addData(l,i,n);break;case"v":n+=s[c++],l=d.L,h.addData(l,i,n);break;case"V":n=s[c++],l=d.L,h.addData(l,i,n);break;case"C":l=d.C,h.addData(l,s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),i=s[c-2],n=s[c-1];break;case"c":l=d.C,h.addData(l,s[c++]+i,s[c++]+n,s[c++]+i,s[c++]+n,s[c++]+i,s[c++]+n),i+=s[c-2],n+=s[c-1];break;case"S":p=i,g=n;var A=h.len(),T=h.data;o===d.C&&(p+=i-T[A-4],g+=n-T[A-3]),l=d.C,w=s[c++],S=s[c++],i=s[c++],n=s[c++],h.addData(l,p,g,w,S,i,n);break;case"s":p=i,g=n;var A=h.len(),T=h.data;o===d.C&&(p+=i-T[A-4],g+=n-T[A-3]),l=d.C,w=i+s[c++],S=n+s[c++],i+=s[c++],n+=s[c++],h.addData(l,p,g,w,S,i,n);break;case"Q":w=s[c++],S=s[c++],i=s[c++],n=s[c++],l=d.Q,h.addData(l,w,S,i,n);break;case"q":w=s[c++]+i,S=s[c++]+n,i+=s[c++],n+=s[c++],l=d.Q,h.addData(l,w,S,i,n);break;case"T":p=i,g=n;var A=h.len(),T=h.data;o===d.Q&&(p+=i-T[A-4],g+=n-T[A-3]),i=s[c++],n=s[c++],l=d.Q,h.addData(l,p,g,i,n);break;case"t":p=i,g=n;var A=h.len(),T=h.data;o===d.Q&&(p+=i-T[A-4],g+=n-T[A-3]),i+=s[c++],n+=s[c++],l=d.Q,h.addData(l,p,g,i,n);break;case"A":m=s[c++],_=s[c++],y=s[c++],b=s[c++],x=s[c++],w=i,S=n,i=s[c++],n=s[c++],l=d.A,lg(w,S,i,n,b,x,m,_,y,l,h);break;case"a":m=s[c++],_=s[c++],y=s[c++],b=s[c++],x=s[c++],w=i,S=n,i+=s[c++],n+=s[c++],l=d.A,lg(w,S,i,n,b,x,m,_,y,l,h);break}}(v==="z"||v==="Z")&&(l=d.Z,h.addData(l)),o=l}return h.toStatic(),h}function Xw(e,t){var r=A2(e);return t=t||{},t.buildPath=function(a){if(a.setData){a.setData(r.data);var i=a.getContext();i&&a.rebuildPath(i)}else{var i=a;r.rebuildPath(i)}},t.applyTransform=function(a){w2(r,a),this.dirty(!0)},t}function T2(e,t){return new If(Xw(e,t))}function C2(e,t){return If.extend(Xw(e,t))}function M2(e,t){for(var r=[],a=e.length,i=0;i<a;i++){var n=e[i];n.path||n.createPathProxy(),n.__dirtyPath&&n.buildPath(n.path,n.shape,!0),r.push(n.path)}var h=new If(t);return h.createPathProxy(),h.buildPath=function(d){d.appendPath(r);var o=d.getContext();o&&d.rebuildPath(o)},h}Ao.createFromString=T2;Ao.extendFromString=C2;Ao.mergePath=M2;var Kw=Zi,D2=F,L2=Ze,di=Tr,oo=function(e){Kw.call(this,e)};oo.prototype={constructor:oo,type:"text",brush:function(e,t){var r=this.style;this.__dirty&&di.normalizeTextStyle(r,!0),r.fill=r.stroke=r.shadowBlur=r.shadowColor=r.shadowOffsetX=r.shadowOffsetY=null;var a=r.text;a!=null&&(a+=""),r.bind(e,this,t),di.needDrawText(a,r)&&(this.setTransform(e),di.renderText(this,e,a,r),this.restoreTransform(e))},getBoundingRect:function(){var e=this.style;if(this.__dirty&&di.normalizeTextStyle(e,!0),!this._rect){e.text;var t=L2.getBoundingRect(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich);if(t.x+=e.x||0,t.y+=e.y||0,di.getStroke(e.textStroke,e.textStrokeWidth)){var r=e.textStrokeWidth;t.x-=r/2,t.y-=r/2,t.width+=r,t.height+=r}this._rect=t}return this._rect}};D2.inherits(oo,Kw);var I2=oo,Xi=I2,P2=it,R2=P2.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,r){r&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0)}}),E2=R2,ug=lt,kr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];function k2(e){return ug.browser.ie&&ug.browser.version>=11?function(){var t=this.__clipPaths,r=this.style,a;if(t)for(var i=0;i<t.length;i++){var n=t[i],h=n&&n.shape,d=n&&n.type;if(h&&(d==="sector"&&h.startAngle===h.endAngle||d==="rect"&&(!h.width||!h.height))){for(var o=0;o<kr.length;o++)kr[o][2]=r[kr[o][0]],r[kr[o][0]]=kr[o][1];a=!0;break}}if(e.apply(this,arguments),a)for(var o=0;o<kr.length;o++)r[kr[o][0]]=kr[o][2]}:e}var Qw=k2,vg=it,z2=Qw,O2=vg.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},brush:z2(vg.prototype.brush),buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r0||0,0),n=Math.max(t.r,0),h=t.startAngle,d=t.endAngle,o=t.clockwise,f=Math.cos(h),v=Math.sin(h);e.moveTo(f*i+r,v*i+a),e.lineTo(f*n+r,v*n+a),e.arc(r,a,n,h,d,!o),e.lineTo(Math.cos(d)*i+r,Math.sin(d)*i+a),i!==0&&e.arc(r,a,i,d,h,o),e.closePath()}}),N2=O2,V2=it,B2=V2.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.PI*2;e.moveTo(r+t.r,a),e.arc(r,a,t.r,0,i,!1),e.moveTo(r+t.r0,a),e.arc(r,a,t.r0,0,i,!0)}}),q2=B2,Pf={},H2=Ce,G2=H2.distance;function hg(e,t,r,a,i,n,h){var d=(r-e)*.5,o=(a-t)*.5;return(2*(t-r)+d+o)*h+(-3*(t-r)-2*d-o)*n+d*i+t}function F2(e,t){for(var r=e.length,a=[],i=0,n=1;n<r;n++)i+=G2(e[n-1],e[n]);var h=i/2;h=h<r?r:h;for(var n=0;n<h;n++){var d=n/(h-1)*(t?r:r-1),o=Math.floor(d),f=d-o,v,c=e[o%r],s,l;t?(v=e[(o-1+r)%r],s=e[(o+1)%r],l=e[(o+2)%r]):(v=e[o===0?o:o-1],s=e[o>r-2?r-1:o+1],l=e[o>r-3?r-1:o+2]);var u=f*f,p=f*u;a.push([hg(v[0],c[0],s[0],l[0],f,u,p),hg(v[1],c[1],s[1],l[1],f,u,p)])}return a}var $2=F2,va=Ce,Cn=va.min,Mn=va.max,xs=va.scale,cg=va.distance,fg=va.add,U2=va.clone,W2=va.sub;function Z2(e,t,r,a){var i=[],n=[],h=[],d=[],o,f,v,c;if(a){v=[1/0,1/0],c=[-1/0,-1/0];for(var s=0,l=e.length;s<l;s++)Cn(v,v,e[s]),Mn(c,c,e[s]);Cn(v,v,a[0]),Mn(c,c,a[1])}for(var s=0,l=e.length;s<l;s++){var u=e[s];if(r)o=e[s?s-1:l-1],f=e[(s+1)%l];else if(s===0||s===l-1){i.push(U2(e[s]));continue}else o=e[s-1],f=e[s+1];W2(n,f,o),xs(n,n,t);var p=cg(u,o),g=cg(u,f),m=p+g;m!==0&&(p/=m,g/=m),xs(h,n,-p),xs(d,n,g);var _=fg([],u,h),y=fg([],u,d);a&&(Mn(_,_,v),Cn(_,_,c),Mn(y,y,v),Cn(y,y,c)),i.push(_),i.push(y)}return r&&i.push(i.shift()),i}var Y2=Z2,X2=$2,K2=Y2;function Q2(e,t,r){var a=t.points,i=t.smooth;if(a&&a.length>=2){if(i&&i!=="spline"){var n=K2(a,i,r,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var h=a.length,d=0;d<(r?h:h-1);d++){var o=n[d*2],f=n[d*2+1],v=a[(d+1)%h];e.bezierCurveTo(o[0],o[1],f[0],f[1],v[0],v[1])}}else{i==="spline"&&(a=X2(a,r)),e.moveTo(a[0][0],a[0][1]);for(var d=1,c=a.length;d<c;d++)e.lineTo(a[d][0],a[d][1])}r&&e.closePath()}}Pf.buildPath=Q2;var j2=it,J2=Pf,eR=j2.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){J2.buildPath(e,t,!0)}}),tR=eR,rR=it,aR=Pf,iR=rR.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){aR.buildPath(e,t,!1)}}),nR=iR,oR=it,sR=cf,lR=oR.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,a=t.y,i=t.width,n=t.height;t.r?sR.buildPath(e,t):e.rect(r,a,i,n),e.closePath()}}),uR=lR,vR=it,hR=vR.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,n=t.y2,h=t.percent;h!==0&&(e.moveTo(r,a),h<1&&(i=r*(1-h)+i*h,n=a*(1-h)+n*h),e.lineTo(i,n))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),cR=hR,fR=it,dR=Ce,ti=at,dg=ti.quadraticSubdivide,gg=ti.cubicSubdivide,pg=ti.quadraticAt,mg=ti.cubicAt,yg=ti.quadraticDerivativeAt,_g=ti.cubicDerivativeAt,Lt=[];function xg(e,t,r){var a=e.cpx2,i=e.cpy2;return a===null||i===null?[(r?_g:mg)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?_g:mg)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?yg:pg)(e.x1,e.cpx1,e.x2,t),(r?yg:pg)(e.y1,e.cpy1,e.y2,t)]}var gR=fR.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.x1,a=t.y1,i=t.x2,n=t.y2,h=t.cpx1,d=t.cpy1,o=t.cpx2,f=t.cpy2,v=t.percent;v!==0&&(e.moveTo(r,a),o==null||f==null?(v<1&&(dg(r,h,i,v,Lt),h=Lt[1],i=Lt[2],dg(a,d,n,v,Lt),d=Lt[1],n=Lt[2]),e.quadraticCurveTo(h,d,i,n)):(v<1&&(gg(r,h,o,i,v,Lt),h=Lt[1],o=Lt[2],i=Lt[3],gg(a,d,f,n,v,Lt),d=Lt[1],f=Lt[2],n=Lt[3]),e.bezierCurveTo(h,d,o,f,i,n)))},pointAt:function(e){return xg(this.shape,e,!1)},tangentAt:function(e){var t=xg(this.shape,e,!0);return dR.normalize(t,t)}}),pR=gR,mR=it,yR=mR.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var r=t.cx,a=t.cy,i=Math.max(t.r,0),n=t.startAngle,h=t.endAngle,d=t.clockwise,o=Math.cos(n),f=Math.sin(n);e.moveTo(o*i+r,f*i+a),e.arc(r,a,i,n,h,!d)}}),_R=yR,Sg=it,xR=Sg.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,r=0;r<t.length;r++)e=e||t[r].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(t[0],t[1])},buildPath:function(e,t){for(var r=t.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Sg.prototype.getBoundingRect.call(this)}}),SR=xR,qc=function(e){this.colorStops=e||[]};qc.prototype={constructor:qc,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var bR=qc,To=bR,wR=F,jw=To,so=function(e,t,r,a,i,n){this.x=e??0,this.y=t??0,this.x2=r??1,this.y2=a??0,this.type="linear",this.global=n||!1,jw.call(this,i)};so.prototype={constructor:so};wR.inherits(so,jw);var AR=so,Jw=AR,TR=F,eA=To,lo=function(e,t,r,a,i){this.x=e??.5,this.y=t??.5,this.r=r??.5,this.type="radial",this.global=i||!1,eA.call(this,a)};lo.prototype={constructor:lo};TR.inherits(lo,eA);var CR=lo,MR=CR,DR=F,LR=DR.inherits,tA=Zi,IR=Qe;function Kt(e){tA.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}Kt.prototype.incremental=!0;Kt.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1};Kt.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()};Kt.prototype.addDisplayables=function(e,t){t=t||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],t)};Kt.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(var t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])};Kt.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var t=this._displayables[e];t.parent=this,t.update(),t.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var t=this._temporaryDisplayables[e];t.parent=this,t.update(),t.parent=null}};Kt.prototype.brush=function(e,t){for(var r=this._cursor;r<this._displayables.length;r++){var a=this._displayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===this._cursor?null:this._displayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._cursor=r;for(var r=0;r<this._temporaryDisplayables.length;r++){var a=this._temporaryDisplayables[r];a.beforeBrush&&a.beforeBrush(e),a.brush(e,r===0?null:this._temporaryDisplayables[r-1]),a.afterBrush&&a.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var PR=[];Kt.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new IR(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var r=this._displayables[t],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(PR)),e.union(a)}this._rect=e}return this._rect};Kt.prototype.contain=function(e,t){var r=this.transformCoordToLocal(e,t),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var i=0;i<this._displayables.length;i++){var n=this._displayables[i];if(n.contain(e,t))return!0}return!1};LR(Kt,tA);var RR=Kt,Rf=RR,Xt=F,Ef=Ao,ER=ut,Hc=We,rA=Ce,kR=it,zR=af,kf=Yi;le.Image=kf;var OR=bo;le.Group=OR;var NR=Xi;le.Text=NR;var VR=E2;le.Circle=VR;var BR=N2;le.Sector=BR;var qR=q2;le.Ring=qR;var HR=tR;le.Polygon=HR;var GR=nR;le.Polyline=GR;var FR=uR;le.Rect=FR;var $R=cR;le.Line=$R;var UR=pR;le.BezierCurve=UR;var WR=_R;le.Arc=WR;var ZR=SR;le.CompoundPath=ZR;var YR=Jw;le.LinearGradient=YR;var XR=MR;le.RadialGradient=XR;var KR=Qe;le.BoundingRect=KR;var QR=Rf;le.IncrementalDisplayable=QR;var Na=Math.round,uo=Math.max,vo=Math.min,Co={};function jR(e){return kR.extend(e)}function JR(e,t){return Ef.extendFromString(e,t)}function aA(e,t,r,a){var i=Ef.createFromString(e,t),n=i.getBoundingRect();return r&&(a==="center"&&(r=iA(r,n)),nA(i,r)),i}function eE(e,t,r){var a=new kf({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var n={width:i.width,height:i.height};a.setStyle(iA(t,n))}}});return a}function iA(e,t){var r=t.width/t.height,a=e.height*r,i;a<=e.width?i=e.height:(a=e.width,i=a/r);var n=e.x+e.width/2,h=e.y+e.height/2;return{x:n-a/2,y:h-i/2,width:a,height:i}}var tE=Ef.mergePath;function nA(e,t){if(e.applyTransform){var r=e.getBoundingRect(),a=r.calculateTransform(t);e.applyTransform(a)}}function rE(e){var t=e.shape,r=e.style.lineWidth;return Na(t.x1*2)===Na(t.x2*2)&&(t.x1=t.x2=oa(t.x1,r,!0)),Na(t.y1*2)===Na(t.y2*2)&&(t.y1=t.y2=oa(t.y1,r,!0)),e}function aE(e){var t=e.shape,r=e.style.lineWidth,a=t.x,i=t.y,n=t.width,h=t.height;return t.x=oa(t.x,r,!0),t.y=oa(t.y,r,!0),t.width=Math.max(oa(a+n,r,!1)-t.x,n===0?0:1),t.height=Math.max(oa(i+h,r,!1)-t.y,h===0?0:1),e}function oa(e,t,r){var a=Na(e*2);return(a+Na(t))%2===0?a/2:(a+(r?1:-1))/2}function bg(e){return e!=null&&e!="none"}function wg(e){return typeof e=="string"?ER.lift(e,-.1):e}function oA(e){if(e.__hoverStlDirty){var t=e.style.stroke,r=e.style.fill,a=e.__hoverStl;a.fill=a.fill||(bg(r)?wg(r):null),a.stroke=a.stroke||(bg(t)?wg(t):null);var i={};for(var n in a)a[n]!=null&&(i[n]=e.style[n]);e.__normalStl=i,e.__hoverStlDirty=!1}}function Ag(e){if(!e.__isHover){if(oA(e),e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{var t=e.style,r=t.insideRollbackOpt;r&&cE(t),t.extendFrom(e.__hoverStl),r&&(vA(t,t.insideOriginalTextPosition,r),t.textFill==null&&(t.textFill=r.autoColor)),e.dirty(!1),e.z2+=1}e.__isHover=!0}}function Tg(e){if(e.__isHover){var t=e.__normalStl;e.useHoverLayer?e.__zr&&e.__zr.removeHover(e):(t&&e.setStyle(t),e.z2-=1),e.__isHover=!1}}function sA(e){e.type==="group"?e.traverse(function(t){t.type!=="group"&&Ag(t)}):Ag(e)}function lA(e){e.type==="group"?e.traverse(function(t){t.type!=="group"&&Tg(t)}):Tg(e)}function Cg(e,t){e.__hoverStl=e.hoverStyle||t||{},e.__hoverStlDirty=!0,e.__isHover&&oA(e)}function iE(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&sA(this)}function nE(e){this.__hoverSilentOnTouch&&e.zrByTouch||!this.__isEmphasis&&lA(this)}function oE(){this.__isEmphasis=!0,sA(this)}function sE(){this.__isEmphasis=!1,lA(this)}function lE(e,t,r){e.__hoverSilentOnTouch=r&&r.hoverSilentOnTouch,e.type==="group"?e.traverse(function(a){a.type!=="group"&&Cg(a,t)}):Cg(e,t),e.on("mouseover",iE).on("mouseout",nE),e.on("emphasis",oE).on("normal",sE)}function uE(e,t,r,a,i,n,h){i=i||Co;var d=i.labelFetcher,o=i.labelDataIndex,f=i.labelDimIndex,v=r.getShallow("show"),c=a.getShallow("show"),s;(v||c)&&(d&&(s=d.getFormattedLabel(o,"normal",null,f)),s==null&&(s=Xt.isFunction(i.defaultText)?i.defaultText(o,i):i.defaultText));var l=v?s:null,u=c?Xt.retrieve2(d?d.getFormattedLabel(o,"emphasis",null,f):null,s):null;(l!=null||u!=null)&&(Gc(e,r,n,i),Gc(t,a,h,i,!0)),e.text=l,t.text=u}function Gc(e,t,r,a,i){return uA(e,t,a,i),r&&Xt.extend(e,r),e.host&&e.host.dirty&&e.host.dirty(!1),e}function vE(e,t,r){var a={isRectText:!0},i;r===!1?i=!0:a.autoColor=r,uA(e,t,a,i),e.host&&e.host.dirty&&e.host.dirty(!1)}function uA(e,t,r,a){if(r=r||Co,r.isRectText){var i=t.getShallow("position")||(a?null:"inside");i==="outside"&&(i="top"),e.textPosition=i,e.textOffset=t.getShallow("offset");var n=t.getShallow("rotate");n!=null&&(n*=Math.PI/180),e.textRotation=n,e.textDistance=Xt.retrieve2(t.getShallow("distance"),a?null:5)}var h=t.ecModel,d=h&&h.option.textStyle,o=hE(t),f;if(o){f={};for(var v in o)if(o.hasOwnProperty(v)){var c=t.getModel(["rich",v]);Mg(f[v]={},c,d,r,a)}}return e.rich=f,Mg(e,t,d,r,a,!0),r.forceRich&&!r.textStyle&&(r.textStyle={}),e}function hE(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Co).rich;if(r){t=t||{};for(var a in r)r.hasOwnProperty(a)&&(t[a]=1)}e=e.parentModel}return t}function Mg(e,t,r,a,i,n){if(r=!i&&r||Co,e.textFill=Dn(t.getShallow("color"),a)||r.color,e.textStroke=Dn(t.getShallow("textBorderColor"),a)||r.textBorderColor,e.textStrokeWidth=Xt.retrieve2(t.getShallow("textBorderWidth"),r.textBorderWidth),!i){if(n){var h=e.textPosition;e.insideRollback=vA(e,h,a),e.insideOriginalTextPosition=h,e.insideRollbackOpt=a}e.textFill==null&&(e.textFill=a.autoColor)}e.fontStyle=t.getShallow("fontStyle")||r.fontStyle,e.fontWeight=t.getShallow("fontWeight")||r.fontWeight,e.fontSize=t.getShallow("fontSize")||r.fontSize,e.fontFamily=t.getShallow("fontFamily")||r.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),(!n||!a.disableBox)&&(e.textBackgroundColor=Dn(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=Dn(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||r.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||r.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||r.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||r.textShadowOffsetY}function Dn(e,t){return e!=="auto"?e:t&&t.autoColor?t.autoColor:null}function vA(e,t,r){var a=r.useInsideStyle,i;return e.textFill==null&&a!==!1&&(a===!0||r.isRectText&&t&&typeof t=="string"&&t.indexOf("inside")>=0)&&(i={textFill:null,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth},e.textFill="#fff",e.textStroke==null&&(e.textStroke=r.autoColor,e.textStrokeWidth==null&&(e.textStrokeWidth=2))),i}function cE(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth)}function fE(e,t){var r=t||t.getModel("textStyle");return Xt.trim([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}function hA(e,t,r,a,i,n){typeof i=="function"&&(n=i,i=null);var h=a&&a.isAnimationEnabled();if(h){var d=e?"Update":"",o=a.getShallow("animationDuration"+d),f=a.getShallow("animationEasing"+d),v=a.getShallow("animationDelay"+d);typeof v=="function"&&(v=v(i,a.getAnimationDelayParams?a.getAnimationDelayParams(t,i):null)),typeof o=="function"&&(o=o(i)),o>0?t.animateTo(r,o,v||0,f,n,!!n):(t.stopAnimation(),t.attr(r),n&&n())}else t.stopAnimation(),t.attr(r),n&&n()}function cA(e,t,r,a,i){hA(!0,e,t,r,a,i)}function dE(e,t,r,a,i){hA(!1,e,t,r,a,i)}function gE(e,t){for(var r=Hc.identity([]);e&&e!==t;)Hc.mul(r,e.getLocalTransform(),r),e=e.parent;return r}function fA(e,t,r){return t&&!Xt.isArrayLike(t)&&(t=zR.getLocalTransform(t)),r&&(t=Hc.invert([],t)),rA.applyTransform([],e,t)}function pE(e,t,r){var a=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),n=[e==="left"?-a:e==="right"?a:0,e==="top"?-i:e==="bottom"?i:0];return n=fA(n,t,r),Math.abs(n[0])>Math.abs(n[1])?n[0]>0?"right":"left":n[1]>0?"bottom":"top"}function mE(e,t,r,a){if(!e||!t)return;function i(d){var o={};return d.traverse(function(f){!f.isGroup&&f.anid&&(o[f.anid]=f)}),o}function n(d){var o={position:rA.clone(d.position),rotation:d.rotation};return d.shape&&(o.shape=Xt.extend({},d.shape)),o}var h=i(e);t.traverse(function(d){if(!d.isGroup&&d.anid){var o=h[d.anid];if(o){var f=n(d);d.attr(n(o)),cA(d,f,r,d.dataIndex)}}})}function yE(e,t){return Xt.map(e,function(r){var a=r[0];a=uo(a,t.x),a=vo(a,t.x+t.width);var i=r[1];return i=uo(i,t.y),i=vo(i,t.y+t.height),[a,i]})}function _E(e,t){var r=uo(e.x,t.x),a=vo(e.x+e.width,t.x+t.width),i=uo(e.y,t.y),n=vo(e.y+e.height,t.y+t.height);if(a>=r&&n>=i)return{x:r,y:i,width:a-r,height:n-i}}function xE(e,t,r){t=Xt.extend({rectHover:!0},t);var a=t.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(a.image=e.slice(8),Xt.defaults(a,r),new kf(t)):aA(e.replace("path://",""),t,r,"center")}le.extendShape=jR;le.extendPath=JR;le.makePath=aA;le.makeImage=eE;le.mergePath=tE;le.resizePath=nA;le.subPixelOptimizeLine=rE;le.subPixelOptimizeRect=aE;le.subPixelOptimize=oa;le.setHoverStyle=lE;le.setLabelStyle=uE;le.setTextStyle=Gc;le.setText=vE;le.getFont=fE;le.updateProps=cA;le.initProps=dE;le.getTransform=gE;le.applyTransform=fA;le.transformDirection=pE;le.groupTransition=mE;le.clipPointsByRect=yE;le.clipRectByRect=_E;le.createIcon=xE;var SE=Ze,bE=le,wE=["textStyle","color"],AE={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(wE):null)},getFont:function(){return bE.getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return SE.getBoundingRect(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},TE=AE,CE=Ja,ME=CE([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),DE={getItemStyle:function(e,t){var r=ME(this,e,t),a=this.getBorderLineDash();return a&&(r.lineDash=a),r},getBorderLineDash:function(){var e=this.get("borderType");return e==="solid"||e==null?null:e==="dashed"?[5,5]:[1,1]}},LE=DE,Fc=F,IE=lt,PE=Me,RE=PE.makeInner,dA=Pt,EE=dA.enableClassExtend,kE=dA.enableClassCheck,zE=CP,OE=IP,NE=TE,VE=LE,Mo=Fc.mixin,gA=RE();function ur(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}ur.prototype={constructor:ur,init:null,mergeOption:function(e){Fc.merge(this.option,e,!0)},get:function(e,t){return e==null?this.option:Dg(this.option,this.parsePath(e),!t&&Ss(this,e))},getShallow:function(e,t){var r=this.option,a=r==null?r:r[e],i=!t&&Ss(this,e);return a==null&&i&&(a=i.getShallow(e)),a},getModel:function(e,t){var r=e==null?this.option:Dg(this.option,e=this.parsePath(e)),a;return t=t||(a=Ss(this,e))&&a.getModel(e),new ur(r,t,this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var e=this.constructor;return new e(Fc.clone(this.option))},setReadOnly:function(e){},parsePath:function(e){return typeof e=="string"&&(e=e.split(".")),e},customizeGetParent:function(e){gA(this).getParent=e},isAnimationEnabled:function(){if(!IE.node){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};function Dg(e,t,r){for(var a=0;a<t.length&&!(t[a]&&(e=e&&typeof e=="object"?e[t[a]]:null,e==null));a++);return e==null&&r&&(e=r.get(t)),e}function Ss(e,t){var r=gA(e).getParent;return r?r.call(e,t):e.parentModel}EE(ur);kE(ur);Mo(ur,zE);Mo(ur,OE);Mo(ur,NE);Mo(ur,VE);var BE=ur,mt=BE,ha={},dr=F,qE=Pt,Lg=qE.parseClassType,HE=0;function GE(e){return[e||"",HE++,Math.random().toFixed(5)].join("_")}function FE(e){var t={};return e.registerSubTypeDefaulter=function(r,a){r=Lg(r),t[r.main]=a},e.determineSubType=function(r,a){var i=a.type;if(!i){var n=Lg(r).main;e.hasSubTypes(r)&&t[n]&&(i=t[n](a))}return i},e}function $E(e,t){e.topologicalTravel=function(n,h,d,o){if(!n.length)return;var f=r(h),v=f.graph,c=f.noEntryList,s={};for(dr.each(n,function(_){s[_]=!0});c.length;){var l=c.pop(),u=v[l],p=!!s[l];p&&(d.call(o,l,u.originalDeps.slice()),delete s[l]),dr.each(u.successor,p?m:g)}dr.each(s,function(){throw new Error("Circle dependency may exists")});function g(_){v[_].entryCount--,v[_].entryCount===0&&c.push(_)}function m(_){s[_]=!0,g(_)}};function r(n){var h={},d=[];return dr.each(n,function(o){var f=a(h,o),v=f.originalDeps=t(o),c=i(v,n);f.entryCount=c.length,f.entryCount===0&&d.push(o),dr.each(c,function(s){dr.indexOf(f.predecessor,s)<0&&f.predecessor.push(s);var l=a(h,s);dr.indexOf(l.successor,s)<0&&l.successor.push(o)})}),{graph:h,noEntryList:d}}function a(n,h){return n[h]||(n[h]={predecessor:[],successor:[]}),n[h]}function i(n,h){var d=[];return dr.each(n,function(o){dr.indexOf(h,o)>=0&&d.push(o)}),d}}ha.getUID=GE;ha.enableSubTypeDefaulter=FE;ha.enableTopologicalTravel=$E;var ze={},gt={},Ig;function Ie(){if(Ig)return gt;Ig=1;var e=F,t=1e-4;function r(x){return x.replace(/^\s+/,"").replace(/\s+$/,"")}function a(x,w,S,A){var T=w[1]-w[0],M=S[1]-S[0];if(T===0)return M===0?S[0]:(S[0]+S[1])/2;if(A)if(T>0){if(x<=w[0])return S[0];if(x>=w[1])return S[1]}else{if(x>=w[0])return S[0];if(x<=w[1])return S[1]}else{if(x===w[0])return S[0];if(x===w[1])return S[1]}return(x-w[0])/T*M+S[0]}function i(x,w){switch(x){case"center":case"middle":x="50%";break;case"left":case"top":x="0%";break;case"right":case"bottom":x="100%";break}return typeof x=="string"?r(x).match(/%$/)?parseFloat(x)/100*w:parseFloat(x):x==null?NaN:+x}function n(x,w,S){return w==null&&(w=10),w=Math.min(Math.max(0,w),20),x=(+x).toFixed(w),S?x:+x}function h(x){return x.sort(function(w,S){return w-S}),x}function d(x){if(x=+x,isNaN(x))return 0;for(var w=1,S=0;Math.round(x*w)/w!==x;)w*=10,S++;return S}function o(x){var w=x.toString(),S=w.indexOf("e");if(S>0){var A=+w.slice(S+1);return A<0?-A:0}else{var T=w.indexOf(".");return T<0?0:w.length-1-T}}function f(x,w){var S=Math.log,A=Math.LN10,T=Math.floor(S(x[1]-x[0])/A),M=Math.round(S(Math.abs(w[1]-w[0]))/A),C=Math.min(Math.max(-T+M,0),20);return isFinite(C)?C:20}function v(x,w,S){if(!x[w])return 0;var A=e.reduce(x,function(z,O){return z+(isNaN(O)?0:O)},0);if(A===0)return 0;for(var T=Math.pow(10,S),M=e.map(x,function(z){return(isNaN(z)?0:z)/A*T*100}),C=T*100,L=e.map(M,function(z){return Math.floor(z)}),I=e.reduce(L,function(z,O){return z+O},0),P=e.map(M,function(z,O){return z-L[O]});I<C;){for(var R=Number.NEGATIVE_INFINITY,E=null,D=0,k=P.length;D<k;++D)P[D]>R&&(R=P[D],E=D);++L[E],P[E]=0,++I}return L[w]/T}var c=9007199254740991;function s(x){var w=Math.PI*2;return(x%w+w)%w}function l(x){return x>-t&&x<t}var u=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function p(x){if(x instanceof Date)return x;if(typeof x=="string"){var w=u.exec(x);if(!w)return new Date(NaN);if(w[8]){var S=+w[4]||0;return w[8].toUpperCase()!=="Z"&&(S-=w[8].slice(0,3)),new Date(Date.UTC(+w[1],+(w[2]||1)-1,+w[3]||1,S,+(w[5]||0),+w[6]||0,+w[7]||0))}else return new Date(+w[1],+(w[2]||1)-1,+w[3]||1,+w[4]||0,+(w[5]||0),+w[6]||0,+w[7]||0)}else if(x==null)return new Date(NaN);return new Date(Math.round(x))}function g(x){return Math.pow(10,m(x))}function m(x){return Math.floor(Math.log(x)/Math.LN10)}function _(x,w){var S=m(x),A=Math.pow(10,S),T=x/A,M;return w?T<1.5?M=1:T<2.5?M=2:T<4?M=3:T<7?M=5:M=10:T<1?M=1:T<2?M=2:T<3?M=3:T<5?M=5:M=10,x=M*A,S>=-20?+x.toFixed(S<0?-S:0):x}function y(x){x.sort(function(I,P){return L(I,P,0)?-1:1});for(var w=-1/0,S=1,A=0;A<x.length;){for(var T=x[A].interval,M=x[A].close,C=0;C<2;C++)T[C]<=w&&(T[C]=w,M[C]=C?1:1-S),w=T[C],S=M[C];T[0]===T[1]&&M[0]*M[1]!==1?x.splice(A,1):A++}return x;function L(I,P,R){return I.interval[R]<P.interval[R]||I.interval[R]===P.interval[R]&&(I.close[R]-P.close[R]===(R?-1:1)||!R&&L(I,P,1))}}function b(x){return x-parseFloat(x)>=0}return gt.linearMap=a,gt.parsePercent=i,gt.round=n,gt.asc=h,gt.getPrecision=d,gt.getPrecisionSafe=o,gt.getPixelPrecision=f,gt.getPercentWithPrecision=v,gt.MAX_SAFE_INTEGER=c,gt.remRadian=s,gt.isRadianAroundZero=l,gt.parseDate=p,gt.quantity=g,gt.nice=_,gt.reformIntervals=y,gt.isNumeric=b,gt}var Oe={},Do=F,pA=Ze,UE=Ie();function WE(e){return isNaN(e)?"-":(e=(e+"").split("."),e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:""))}function ZE(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,a){return a.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var YE=Do.normalizeCssArray,XE=/([&<>"'])/g,KE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ki(e){return e==null?"":(e+"").replace(XE,function(t,r){return KE[r]})}var Pg=["a","b","c","d","e","f","g"],bs=function(e,t){return"{"+e+(t??"")+"}"};function QE(e,t,r){Do.isArray(t)||(t=[t]);var a=t.length;if(!a)return"";for(var i=t[0].$vars||[],n=0;n<i.length;n++){var h=Pg[n];e=e.replace(bs(h),bs(h,0))}for(var d=0;d<a;d++)for(var o=0;o<i.length;o++){var f=t[d][i[o]];e=e.replace(bs(Pg[o],d),r?ki(f):f)}return e}function jE(e,t,r){return Do.each(t,function(a,i){e=e.replace("{"+i+"}",r?ki(a):a)}),e}function JE(e,i){e=Do.isString(e)?{color:e,extraCssText:i}:e||{};var r=e.color,a=e.type,i=e.extraCssText;return r?a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+ki(r)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+ki(r)+";"+(i||"")+'"></span>':""}function Da(e,t){return e+="","0000".substr(0,t-e.length)+e}function ek(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var a=UE.parseDate(t),i=r?"UTC":"",n=a["get"+i+"FullYear"](),h=a["get"+i+"Month"]()+1,d=a["get"+i+"Date"](),o=a["get"+i+"Hours"](),f=a["get"+i+"Minutes"](),v=a["get"+i+"Seconds"](),c=a["get"+i+"Milliseconds"]();return e=e.replace("MM",Da(h,2)).replace("M",h).replace("yyyy",n).replace("yy",n%100).replace("dd",Da(d,2)).replace("d",d).replace("hh",Da(o,2)).replace("h",o).replace("mm",Da(f,2)).replace("m",f).replace("ss",Da(v,2)).replace("s",v).replace("SSS",Da(c,3)),e}function tk(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}var rk=pA.truncateText,ak=pA.getBoundingRect;Oe.addCommas=WE;Oe.toCamelCase=ZE;Oe.normalizeCssArray=YE;Oe.encodeHTML=ki;Oe.formatTpl=QE;Oe.formatTplSimple=jE;Oe.getTooltipMarker=JE;Oe.formatTime=ek;Oe.capitalFirst=tk;Oe.truncateText=rk;Oe.getTextRect=ak;var Za=F,mA=Qe,ik=Ie(),nr=ik.parsePercent,yA=Oe,Un=Za.each,_A=["left","right","top","bottom","width","height"],$r=[["width","left","right"],["height","top","bottom"]];function zf(e,t,r,a,i){var n=0,h=0;a==null&&(a=1/0),i==null&&(i=1/0);var d=0;t.eachChild(function(o,f){var v=o.position,c=o.getBoundingRect(),s=t.childAt(f+1),l=s&&s.getBoundingRect(),u,p;if(e==="horizontal"){var g=c.width+(l?-l.x+c.x:0);u=n+g,u>a||o.newline?(n=0,u=g,h+=d+r,d=c.height):d=Math.max(d,c.height)}else{var m=c.height+(l?-l.y+c.y:0);p=h+m,p>i||o.newline?(n+=d+r,h=0,p=m,d=c.width):d=Math.max(d,c.width)}o.newline||(v[0]=n,v[1]=h,e==="horizontal"?n=u+r:h=p+r)})}var nk=zf,ok=Za.curry(zf,"vertical"),sk=Za.curry(zf,"horizontal");function lk(e,t,r){var a=t.width,i=t.height,n=nr(e.x,a),h=nr(e.y,i),d=nr(e.x2,a),o=nr(e.y2,i);return(isNaN(n)||isNaN(parseFloat(e.x)))&&(n=0),(isNaN(d)||isNaN(parseFloat(e.x2)))&&(d=a),(isNaN(h)||isNaN(parseFloat(e.y)))&&(h=0),(isNaN(o)||isNaN(parseFloat(e.y2)))&&(o=i),r=yA.normalizeCssArray(r||0),{width:Math.max(d-n-r[1]-r[3],0),height:Math.max(o-h-r[0]-r[2],0)}}function xA(e,t,r){r=yA.normalizeCssArray(r||0);var a=t.width,i=t.height,n=nr(e.left,a),h=nr(e.top,i),d=nr(e.right,a),o=nr(e.bottom,i),f=nr(e.width,a),v=nr(e.height,i),c=r[2]+r[0],s=r[1]+r[3],l=e.aspect;switch(isNaN(f)&&(f=a-d-s-n),isNaN(v)&&(v=i-o-c-h),l!=null&&(isNaN(f)&&isNaN(v)&&(l>a/i?f=a*.8:v=i*.8),isNaN(f)&&(f=l*v),isNaN(v)&&(v=f/l)),isNaN(n)&&(n=a-d-f-s),isNaN(h)&&(h=i-o-v-c),e.left||e.right){case"center":n=a/2-f/2-r[3];break;case"right":n=a-f-s;break}switch(e.top||e.bottom){case"middle":case"center":h=i/2-v/2-r[0];break;case"bottom":h=i-v-c;break}n=n||0,h=h||0,isNaN(f)&&(f=a-s-n-(d||0)),isNaN(v)&&(v=i-c-h-(o||0));var u=new mA(n+r[3],h+r[0],f,v);return u.margin=r,u}function uk(e,t,r,a,i){var n=!i||!i.hv||i.hv[0],h=!i||!i.hv||i.hv[1],d=i&&i.boundingMode||"all";if(!(!n&&!h)){var o;if(d==="raw")o=e.type==="group"?new mA(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(o=e.getBoundingRect(),e.needLocalTransform()){var f=e.getLocalTransform();o=o.clone(),o.applyTransform(f)}t=xA(Za.defaults({width:o.width,height:o.height},t),r,a);var v=e.position,c=n?t.x-o.x:0,s=h?t.y-o.y:0;e.attr("position",d==="raw"?[c,s]:[v[0]+c,v[1]+s])}}function vk(e,t){return e[$r[t][0]]!=null||e[$r[t][1]]!=null&&e[$r[t][2]]!=null}function hk(e,t,r){!Za.isObject(r)&&(r={});var a=r.ignoreSize;!Za.isArray(a)&&(a=[a,a]);var i=h($r[0],0),n=h($r[1],1);f($r[0],e,i),f($r[1],e,n);function h(v,c){var s={},l=0,u={},p=0,g=2;if(Un(v,function(y){u[y]=e[y]}),Un(v,function(y){d(t,y)&&(s[y]=u[y]=t[y]),o(s,y)&&l++,o(u,y)&&p++}),a[c])return o(t,v[1])?u[v[2]]=null:o(t,v[2])&&(u[v[1]]=null),u;if(p===g||!l)return u;if(l>=g)return s;for(var m=0;m<v.length;m++){var _=v[m];if(!d(s,_)&&d(e,_)){s[_]=e[_];break}}return s}function d(v,c){return v.hasOwnProperty(c)}function o(v,c){return v[c]!=null&&v[c]!=="auto"}function f(v,c,s){Un(v,function(l){c[l]=s[l]})}}function ck(e){return SA({},e)}function SA(e,t){return t&&e&&Un(_A,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}ze.LOCATION_PARAMS=_A;ze.HV_NAMES=$r;ze.box=nk;ze.vbox=ok;ze.hbox=sk;ze.getAvailableSize=lk;ze.getLayoutRect=xA;ze.positionElement=uk;ze.sizeCalculable=vk;ze.mergeLayoutParam=hk;ze.getLayoutParams=ck;ze.copyLayoutParams=SA;var fk={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}},dk=fk,Ur=F,Rg=mt,Of=ha,bA=Pt,gk=bA.enableClassManagement,pk=bA.parseClassType,mk=Me,yk=mk.makeInner,ws=ze,_k=dk,xk=yk(),ri=Rg.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,r,a){Rg.call(this,e,t,r,a),this.uid=Of.getUID("ec_cpt_model")},init:function(e,t,r,a){this.mergeDefaultAndTheme(e,r)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?ws.getLayoutParams(e):{},i=t.getTheme();Ur.merge(e,i.get(this.mainType)),Ur.merge(e,this.getDefaultOption()),r&&ws.mergeLayoutParam(e,a,r)},mergeOption:function(e,t){Ur.merge(this.option,e,!0);var r=this.layoutMode;r&&ws.mergeLayoutParam(this.option,e,r)},optionUpdated:function(e,t){},getDefaultOption:function(){var e=xk(this);if(!e.defaultOption){for(var t=[],r=this.constructor;r;){var a=r.prototype.defaultOption;a&&t.push(a),r=r.superClass}for(var i={},n=t.length-1;n>=0;n--)i=Ur.merge(i,t[n],!0);e.defaultOption=i}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});gk(ri,{registerWhenExtend:!0});Of.enableSubTypeDefaulter(ri);Of.enableTopologicalTravel(ri,Sk);function Sk(e){var t=[];return Ur.each(ri.getClassesByMainType(e),function(r){t=t.concat(r.prototype.dependencies||[])}),t=Ur.map(t,function(r){return pk(r).main}),e!=="dataset"&&Ur.indexOf(t,"dataset")<=0&&t.unshift("dataset"),t}Ur.mixin(ri,_k);var bk=ri,vt=bk,wA="";typeof navigator<"u"&&(wA=navigator.platform||"");var wk={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:wA.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ak=wk,AA=Me,Tk=AA.makeInner,Ck=AA.normalizeToArray,As=Tk();function Mk(e,t){for(var r=e.length,a=0;a<r;a++)if(e[a].length>t)return e[a];return e[r-1]}var Dk={clearColorPalette:function(){As(this).colorIdx=0,As(this).colorNameMap={}},getColorFromPalette:function(e,t,r){t=t||this;var a=As(t),i=a.colorIdx||0,n=a.colorNameMap=a.colorNameMap||{};if(n.hasOwnProperty(e))return n[e];var h=Ck(this.get("color",!0)),d=this.get("colorLayer",!0),o=r==null||!d?h:Mk(d,r);if(o=o||h,!(!o||!o.length)){var f=o[i];return e&&(n[e]=f),a.colorIdx=(i+1)%o.length,f}}},TA=Dk,Cr={},Nf={},Vf=F,Eg=Vf.createHashMap;Vf.retrieve;var Lk=Vf.each;function Ik(e){var t=e.get("coordinateSystem"),r={coordSysName:t,coordSysDims:[],axisMap:Eg(),categoryAxisMap:Eg()},a=Pk[t];if(a)return a(e,r,r.axisMap,r.categoryAxisMap),r}var Pk={cartesian2d:function(e,t,r,a){var i=e.getReferringComponents("xAxis")[0],n=e.getReferringComponents("yAxis")[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",n),La(i)&&(a.set("x",i),t.firstCategoryDimIndex=0),La(n)&&(a.set("y",n),t.firstCategoryDimIndex=1)},singleAxis:function(e,t,r,a){var i=e.getReferringComponents("singleAxis")[0];t.coordSysDims=["single"],r.set("single",i),La(i)&&(a.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,a){var i=e.getReferringComponents("polar")[0],n=i.findAxisModel("radiusAxis"),h=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",n),r.set("angle",h),La(n)&&(a.set("radius",n),t.firstCategoryDimIndex=0),La(h)&&(a.set("angle",h),t.firstCategoryDimIndex=1)},geo:function(e,t,r,a){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,a){var i=e.ecModel,n=i.getComponent("parallel",e.get("parallelIndex")),h=t.coordSysDims=n.dimensions.slice();Lk(n.parallelAxisIndex,function(d,o){var f=i.getComponent("parallelAxis",d),v=h[o];r.set(v,f),La(f)&&t.firstCategoryDimIndex==null&&(a.set(v,f),t.firstCategoryDimIndex=o)})}};function La(e){return e.get("type")==="category"}Nf.getCoordSysDefineBySeries=Ik;var Et={},Rk="original",Ek="arrayRows",kk="objectRows",zk="keyedColumns",Ok="unknown",Nk="typedArray",Vk="column",Bk="row";Et.SOURCE_FORMAT_ORIGINAL=Rk;Et.SOURCE_FORMAT_ARRAY_ROWS=Ek;Et.SOURCE_FORMAT_OBJECT_ROWS=kk;Et.SOURCE_FORMAT_KEYED_COLUMNS=zk;Et.SOURCE_FORMAT_UNKNOWN=Ok;Et.SOURCE_FORMAT_TYPED_ARRAY=Nk;Et.SERIES_LAYOUT_BY_COLUMN=Vk;Et.SERIES_LAYOUT_BY_ROW=Bk;var CA=F,qk=CA.createHashMap,Hk=CA.isTypedArray,Gk=Pt,Fk=Gk.enableClassCheck,Ki=Et,$k=Ki.SOURCE_FORMAT_ORIGINAL,Uk=Ki.SERIES_LAYOUT_BY_COLUMN,Wk=Ki.SOURCE_FORMAT_UNKNOWN,Zk=Ki.SOURCE_FORMAT_TYPED_ARRAY,Yk=Ki.SOURCE_FORMAT_KEYED_COLUMNS;function ho(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Yk?{}:[]),this.sourceFormat=e.sourceFormat||Wk,this.seriesLayoutBy=e.seriesLayoutBy||Uk,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&qk(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}ho.seriesDataToSource=function(e){return new ho({data:e,sourceFormat:Hk(e)?Zk:$k,fromDataset:!1})};Fk(ho);var Xk=ho,Qi=Xk,MA=Me,Kk=MA.makeInner,DA=MA.getDataItemValue,Qk=Nf,jk=Qk.getCoordSysDefineBySeries,hr=F,co=hr.createHashMap,fo=hr.each,Jk=hr.map,go=hr.isArray,LA=hr.isString,zi=hr.isObject,po=hr.isTypedArray,ez=hr.isArrayLike,tz=hr.extend;hr.assert;var rz=Qi,ca=Et,Bf=ca.SOURCE_FORMAT_ORIGINAL,qf=ca.SOURCE_FORMAT_ARRAY_ROWS,Hf=ca.SOURCE_FORMAT_OBJECT_ROWS,Gf=ca.SOURCE_FORMAT_KEYED_COLUMNS,az=ca.SOURCE_FORMAT_UNKNOWN,IA=ca.SOURCE_FORMAT_TYPED_ARRAY,Ff=ca.SERIES_LAYOUT_BY_ROW,Ya=Kk();function iz(e){var t=e.option.source,r=az;if(po(t))r=IA;else if(go(t))for(var a=0,i=t.length;a<i;a++){var n=t[a];if(n!=null){if(go(n)){r=qf;break}else if(zi(n)){r=Hf;break}}}else if(zi(t)){for(var h in t)if(t.hasOwnProperty(h)&&ez(t[h])){r=Gf;break}}else if(t!=null)throw new Error("Invalid data");Ya(e).sourceFormat=r}function nz(e){return Ya(e).source}function oz(e){Ya(e).datasetMap=co()}function sz(e){var t=e.option,r=t.data,a=po(r)?IA:Bf,i=!1,n=t.seriesLayoutBy,h=t.sourceHeader,d=t.dimensions,o=hz(e);if(o){var f=o.option;r=f.source,a=Ya(o).sourceFormat,i=!0,n=n||f.seriesLayoutBy,h==null&&(h=f.sourceHeader),d=d||f.dimensions}var v=lz(r,a,n,h,d),c=t.encode;!c&&o&&(c=vz(e,o,r,a,n,v)),Ya(e).source=new rz({data:r,fromDataset:i,seriesLayoutBy:n,sourceFormat:a,dimensionsDefine:v.dimensionsDefine,startIndex:v.startIndex,dimensionsDetectCount:v.dimensionsDetectCount,encodeDefine:c})}function lz(e,t,r,a,i){if(!e)return{dimensionsDefine:kg(i)};var n,h,d;if(t===qf)a==="auto"||a==null?zg(function(v){v!=null&&v!=="-"&&(LA(v)?h==null&&(h=1):h=0)},r,e,10):h=a?1:0,!i&&h===1&&(i=[],zg(function(v,c){i[c]=v??""},r,e)),n=i?i.length:r===Ff?e.length:e[0]?e[0].length:null;else if(t===Hf)i||(i=uz(e),d=!0);else if(t===Gf)i||(i=[],d=!0,fo(e,function(v,c){i.push(c)}));else if(t===Bf){var o=DA(e[0]);n=go(o)&&o.length||1}var f;return d&&fo(i,function(v,c){(zi(v)?v.name:v)==="name"&&(f=c)}),{startIndex:h,dimensionsDefine:kg(i),dimensionsDetectCount:n,potentialNameDimIndex:f}}function kg(e){if(e){var t=co();return Jk(e,function(r,a){if(r=tz({},zi(r)?r:{name:r}),r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var i=t.get(r.name);return i?r.name+="-"+i.count++:t.set(r.name,{count:1}),r})}}function zg(e,t,r,a){if(a==null&&(a=1/0),t===Ff)for(var i=0;i<r.length&&i<a;i++)e(r[i]?r[i][0]:null,i);else for(var n=r[0]||[],i=0;i<n.length&&i<a;i++)e(n[i],i)}function uz(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r){var a=[];return fo(r,function(i,n){a.push(n)}),a}}function vz(e,t,r,a,i,n){var h=jk(e),d={},o=[],f=[],v=e.subType,c=co(["pie","map","funnel"]),s=co(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(h&&s.get(v)!=null){var l=e.ecModel,u=Ya(l).datasetMap,p=t.uid+"_"+i,g=u.get(p)||u.set(p,{categoryWayDim:1,valueWayDim:0});fo(h.coordSysDims,function(b){if(h.firstCategoryDimIndex==null){var x=g.valueWayDim++;d[b]=x,f.push(x)}else if(h.categoryAxisMap.get(b))d[b]=0,o.push(0);else{var x=g.categoryWayDim++;d[b]=x,f.push(x)}})}else if(c.get(v)!=null){for(var m,_=0;_<5&&m==null;_++)PA(r,a,i,n.dimensionsDefine,n.startIndex,_)||(m=_);if(m!=null){d.value=m;var y=n.potentialNameDimIndex||Math.max(m-1,0);f.push(y),o.push(y)}}return o.length&&(d.itemName=o),f.length&&(d.seriesName=f),d}function hz(e){var t=e.option,r=t.data;if(!r)return e.ecModel.getComponent("dataset",t.datasetIndex||0)}function cz(e,t){return PA(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function PA(e,t,r,a,i,n){var h,d=5;if(po(e))return!1;var o;if(a&&(o=a[n],o=zi(o)?o.name:o),t===qf)if(r===Ff){for(var f=e[n],v=0;v<(f||[]).length&&v<d;v++)if((h=u(f[i+v]))!=null)return h}else for(var v=0;v<e.length&&v<d;v++){var c=e[i+v];if(c&&(h=u(c[n]))!=null)return h}else if(t===Hf){if(!o)return;for(var v=0;v<e.length&&v<d;v++){var s=e[v];if(s&&(h=u(s[o]))!=null)return h}}else if(t===Gf){if(!o)return;var f=e[o];if(!f||po(f))return!1;for(var v=0;v<f.length&&v<d;v++)if((h=u(f[v]))!=null)return h}else if(t===Bf)for(var v=0;v<e.length&&v<d;v++){var s=e[v],l=DA(s);if(!go(l))return!1;if((h=u(l[n]))!=null)return h}function u(p){if(p!=null&&isFinite(p)&&p!=="")return!1;if(LA(p)&&p!=="-")return!0}return!1}Cr.detectSourceFormat=iz;Cr.getSource=nz;Cr.resetSourceDefaulter=oz;Cr.prepareSource=sz;Cr.guessOrdinal=cz;var kt=F,Tt=kt.each,qr=kt.filter,RA=kt.map,Wn=kt.isArray,Og=kt.indexOf,Ts=kt.isObject,fz=kt.isString,$f=kt.createHashMap,Ng=kt.assert,$c=kt.clone,Uf=kt.merge,Vg=kt.extend,dz=kt.mixin,gi=Me,Bg=mt,xr=vt,gz=Ak,pz=TA,mz=Cr,yz=mz.resetSourceDefaulter,Uc="\0_ec_inner",EA=Bg.extend({init:function(e,t,r,a){r=r||{},this.option=null,this._theme=new Bg(r),this._optionManager=a},setOption:function(e,t){Ng(!(Uc in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,r=this._optionManager;if(!e||e==="recreate"){var a=r.mountOption(e==="recreate");!this.option||e==="recreate"?Sz.call(this,a):(this.restoreData(),this.mergeOption(a)),t=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var i=r.getTimelineOption(this);i&&(this.mergeOption(i),t=!0)}if(!e||e==="recreate"||e==="media"){var n=r.getMediaOption(this,this._api);n.length&&Tt(n,function(h){this.mergeOption(h,t=!0)},this)}return t},mergeOption:function(e){var t=this.option,r=this._componentsMap,a=[];yz(this),Tt(e,function(n,h){n!=null&&(xr.hasClass(h)?h&&a.push(h):t[h]=t[h]==null?$c(n):Uf(t[h],n,!0))}),xr.topologicalTravel(a,xr.getAllClassMainTypes(),i,this);function i(n,h){var d=gi.normalizeToArray(e[n]),o=gi.mappingToExists(r.get(n),d);gi.makeIdAndName(o),Tt(o,function(v,c){var s=v.option;Ts(s)&&(v.keyInfo.mainType=n,v.keyInfo.subType=wz(n,s,v.exist))});var f=bz(r,h);t[n]=[],r.set(n,[]),Tt(o,function(v,c){var s=v.exist,l=v.option;if(Ng(Ts(l)||s,"Empty component definition"),!l)s.mergeOption({},this),s.optionUpdated({},!1);else{var u=xr.getClass(n,v.keyInfo.subType,!0);if(s&&s instanceof u)s.name=v.keyInfo.name,s.mergeOption(l,this),s.optionUpdated(l,!1);else{var p=Vg({dependentModels:f,componentIndex:c},v.keyInfo);s=new u(l,this,this,p),Vg(s,p),s.init(l,this,this,p),s.optionUpdated(null,!0)}}r.get(n)[c]=s,t[n][c]=s.option},this),n==="series"&&Cs(this,r.get("series"))}this._seriesIndicesMap=$f(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=$c(this.option);return Tt(e,function(t,r){if(xr.hasClass(r)){for(var t=gi.normalizeToArray(t),a=t.length-1;a>=0;a--)gi.isIdInner(t[a])&&t.splice(a,1);e[r]=t}}),delete e[Uc],e},getTheme:function(){return this._theme},getComponent:function(e,t){var r=this._componentsMap.get(e);if(r)return r[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var r=e.index,a=e.id,i=e.name,n=this._componentsMap.get(t);if(!n||!n.length)return[];var h;if(r!=null)Wn(r)||(r=[r]),h=qr(RA(r,function(f){return n[f]}),function(f){return!!f});else if(a!=null){var d=Wn(a);h=qr(n,function(f){return d&&Og(a,f.id)>=0||!d&&f.id===a})}else if(i!=null){var o=Wn(i);h=qr(n,function(f){return o&&Og(i,f.name)>=0||!o&&f.name===i})}else h=n.slice();return qg(h,e)},findComponents:function(e){var t=e.query,r=e.mainType,a=n(t),i=a?this.queryComponents(a):this._componentsMap.get(r);return h(qg(i,e));function n(d){var o=r+"Index",f=r+"Id",v=r+"Name";return d&&(d[o]!=null||d[f]!=null||d[v]!=null)?{mainType:r,index:d[o],id:d[f],name:d[v]}:null}function h(d){return e.filter?qr(d,e.filter):d}},eachComponent:function(e,t,r){var a=this._componentsMap;if(typeof e=="function")r=t,t=e,a.each(function(n,h){Tt(n,function(d,o){t.call(r,h,d,o)})});else if(fz(e))Tt(a.get(e),t,r);else if(Ts(e)){var i=this.findComponents(e);Tt(i,t,r)}},getSeriesByName:function(e){var t=this._componentsMap.get("series");return qr(t,function(r){return r.name===e})},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){var t=this._componentsMap.get("series");return qr(t,function(r){return r.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Tt(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(t,a,r)},this)},eachRawSeries:function(e,t){Tt(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,r){Tt(this._seriesIndices,function(a){var i=this._componentsMap.get("series")[a];i.subType===e&&t.call(r,i,a)},this)},eachRawSeriesByType:function(e,t,r){return Tt(this.getSeriesByType(e),t,r)},isSeriesFiltered:function(e){return this._seriesIndicesMap.get(e.componentIndex)==null},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){var r=qr(this._componentsMap.get("series"),e,t);Cs(this,r)},restoreData:function(e){var t=this._componentsMap;Cs(this,t.get("series"));var r=[];t.each(function(a,i){r.push(i)}),xr.topologicalTravel(r,xr.getAllClassMainTypes(),function(a,i){Tt(t.get(a),function(n){(a!=="series"||!_z(n,e))&&n.restoreData()})})}});function _z(e,t){if(t){var r=t.seiresIndex,a=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||a!=null&&e.id!==a||i!=null&&e.name!==i}}function xz(e,t){var r=e.color&&!e.colorLayer;Tt(t,function(a,i){i==="colorLayer"&&r||xr.hasClass(i)||(typeof a=="object"?e[i]=e[i]?Uf(e[i],a,!1):$c(a):e[i]==null&&(e[i]=a))})}function Sz(e){e=e,this.option={},this.option[Uc]=1,this._componentsMap=$f({series:[]}),this._seriesIndices,this._seriesIndicesMap,xz(e,this._theme.option),Uf(e,gz,!1),this.mergeOption(e)}function bz(e,t){Wn(t)||(t=t?[t]:[]);var r={};return Tt(t,function(a){r[a]=(e.get(a)||[]).slice()}),r}function wz(e,t,r){var a=t.type?t.type:r?r.subType:xr.determineSubType(e,t);return a}function Cs(e,t){e._seriesIndicesMap=$f(e._seriesIndices=RA(t,function(r){return r.componentIndex})||[])}function qg(e,t){return t.hasOwnProperty("subType")?qr(e,function(r){return r.subType===t.subType}):e}dz(EA,pz);var Az=EA,kA=Az,Hg=F,Tz=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function Cz(e){Hg.each(Tz,function(t){this[t]=Hg.bind(e[t],e)},this)}var Mz=Cz,zA=Mz,Gg=F,Wf={};function Oi(){this._coordinateSystems=[]}Oi.prototype={constructor:Oi,create:function(e,t){var r=[];Gg.each(Wf,function(a,i){var n=a.create(e,t);r=r.concat(n||[])}),this._coordinateSystems=r},update:function(e,t){Gg.each(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};Oi.register=function(e,t){Wf[e]=t};Oi.get=function(e){return Wf[e]};var Dz=Oi,cr=Dz,wr=F,Zn=Me,Lz=vt,Yn=wr.each,Jr=wr.clone,Xn=wr.map,Fg=wr.merge,Iz=/^(min|max)?(.+)$/;function Wc(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}Wc.prototype={constructor:Wc,setOption:function(e,t){e&&wr.each(Zn.normalizeToArray(e.series),function(i){i&&i.data&&wr.isTypedArray(i.data)&&wr.setAsPrimitive(i.data)}),e=Jr(e,!0);var r=this._optionBackup,a=Pz.call(this,e,t,!r);this._newBaseOption=a.baseOption,r?(zz(r.baseOption,a.baseOption),a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Xn(t.timelineOptions,Jr),this._mediaList=Xn(t.mediaList,Jr),this._mediaDefault=Jr(t.mediaDefault),this._currentMediaIndices=[],Jr(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,r=this._timelineOptions;if(r.length){var a=e.getComponent("timeline");a&&(t=Jr(r[a.getCurrentIndex()],!0))}return t},getMediaOption:function(e){var t=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,n=[],h=[];if(!a.length&&!i)return h;for(var d=0,o=a.length;d<o;d++)Rz(a[d].query,t,r)&&n.push(d);return!n.length&&i&&(n=[-1]),n.length&&!kz(n,this._currentMediaIndices)&&(h=Xn(n,function(f){return Jr(f===-1?i.option:a[f].option)})),this._currentMediaIndices=n,h}};function Pz(e,t,r){var a=[],i=[],n,h,d=e.timeline;if(e.baseOption&&(h=e.baseOption),(d||e.options)&&(h=h||{},a=(e.options||[]).slice()),e.media){h=h||{};var o=e.media;Yn(o,function(f){f&&f.option&&(f.query?i.push(f):n||(n=f))})}return h||(h=e),h.timeline||(h.timeline=d),Yn([h].concat(a).concat(wr.map(i,function(f){return f.option})),function(f){Yn(t,function(v){v(f,r)})}),{baseOption:h,timelineOptions:a,mediaDefault:n,mediaList:i}}function Rz(e,t,r){var a={width:t,height:r,aspectratio:t/r},i=!0;return wr.each(e,function(n,h){var d=h.match(Iz);if(!(!d||!d[1]||!d[2])){var o=d[1],f=d[2].toLowerCase();Ez(a[f],n,o)||(i=!1)}}),i}function Ez(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function kz(e,t){return e.join(",")===t.join(",")}function zz(e,t){t=t||{},Yn(t,function(r,a){if(r!=null){var i=e[a];if(!Lz.hasClass(a))e[a]=Fg(i,r,!0);else{r=Zn.normalizeToArray(r),i=Zn.normalizeToArray(i);var n=Zn.mappingToExists(i,r);e[a]=Xn(n,function(h){return h.option&&h.exist?Fg(h.exist,h.option,!0):h.exist||h.option})}}})}var Oz=Wc,Nz=Oz,Mt=F,$g=Me,Ut=Mt.each,Ni=Mt.isObject,Ug=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ms(e){var t=e&&e.itemStyle;if(t)for(var r=0,a=Ug.length;r<a;r++){var i=Ug[r],n=t.normal,h=t.emphasis;n&&n[i]&&(e[i]=e[i]||{},e[i].normal?Mt.merge(e[i].normal,n[i]):e[i].normal=n[i],n[i]=null),h&&h[i]&&(e[i]=e[i]||{},e[i].emphasis?Mt.merge(e[i].emphasis,h[i]):e[i].emphasis=h[i],h[i]=null)}}function bt(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,i=e[t].emphasis;a&&(r?(e[t].normal=e[t].emphasis=null,Mt.defaults(e[t],a)):e[t]=a),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i)}}function Di(e){bt(e,"itemStyle"),bt(e,"lineStyle"),bt(e,"areaStyle"),bt(e,"label"),bt(e,"labelLine"),bt(e,"upperLabel"),bt(e,"edgeLabel")}function et(e,t){var r=Ni(e)&&e[t],a=Ni(r)&&r.textStyle;if(a)for(var i=0,n=$g.TEXT_STYLE_OPTIONS.length;i<n;i++){var t=$g.TEXT_STYLE_OPTIONS[i];a.hasOwnProperty(t)&&(r[t]=a[t])}}function zt(e){e&&(Di(e),et(e,"label"),e.emphasis&&et(e.emphasis,"label"))}function Vz(e){if(Ni(e)){Ms(e),Di(e),et(e,"label"),et(e,"upperLabel"),et(e,"edgeLabel"),e.emphasis&&(et(e.emphasis,"label"),et(e.emphasis,"upperLabel"),et(e.emphasis,"edgeLabel"));var n=e.markPoint;n&&(Ms(n),zt(n));var d=e.markLine;d&&(Ms(d),zt(d));var t=e.markArea;t&&zt(t);var r=e.data;if(e.type==="graph"){r=r||e.nodes;var a=e.links||e.edges;if(a&&!Mt.isTypedArray(a))for(var i=0;i<a.length;i++)zt(a[i]);Mt.each(e.categories,function(f){Di(f)})}if(r&&!Mt.isTypedArray(r))for(var i=0;i<r.length;i++)zt(r[i]);var n=e.markPoint;if(n&&n.data)for(var h=n.data,i=0;i<h.length;i++)zt(h[i]);var d=e.markLine;if(d&&d.data)for(var o=d.data,i=0;i<o.length;i++)Mt.isArray(o[i])?(zt(o[i][0]),zt(o[i][1])):zt(o[i]);e.type==="gauge"?(et(e,"axisLabel"),et(e,"title"),et(e,"detail")):e.type==="treemap"?(bt(e.breadcrumb,"itemStyle"),Mt.each(e.levels,function(f){Di(f)})):e.type==="tree"&&Di(e.leaves)}}function gr(e){return Mt.isArray(e)?e:e?[e]:[]}function Wg(e){return(Mt.isArray(e)?e[0]:e)||{}}function Bz(e,t){Ut(gr(e.series),function(a){Ni(a)&&Vz(a)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ut(r,function(a){Ut(gr(e[a]),function(i){i&&(et(i,"axisLabel"),et(i.axisPointer,"label"))})}),Ut(gr(e.parallel),function(a){var i=a&&a.parallelAxisDefault;et(i,"axisLabel"),et(i&&i.axisPointer,"label")}),Ut(gr(e.calendar),function(a){bt(a,"itemStyle"),et(a,"dayLabel"),et(a,"monthLabel"),et(a,"yearLabel")}),Ut(gr(e.radar),function(a){et(a,"name")}),Ut(gr(e.geo),function(a){Ni(a)&&(zt(a),Ut(gr(a.regions),function(i){zt(i)}))}),Ut(gr(e.timeline),function(a){zt(a),bt(a,"label"),bt(a,"itemStyle"),bt(a,"controlStyle",!0);var i=a.data;Mt.isArray(i)&&Mt.each(i,function(n){Mt.isObject(n)&&(bt(n,"label"),bt(n,"itemStyle"))})}),Ut(gr(e.toolbox),function(a){bt(a,"iconStyle"),Ut(a.feature,function(i){bt(i,"iconStyle")})}),et(Wg(e.axisPointer),"label"),et(Wg(e.tooltip).axisPointer,"label")}var qz=Bz,Zf=F,Kn=Zf.each,Hz=Zf.isArray,Gz=Zf.isObject,Fz=qz,$z=Me,Uz=$z.normalizeToArray;function Wz(e,t){t=t.split(",");for(var r=e,a=0;a<t.length&&(r=r&&r[t[a]],r!=null);a++);return r}function Zz(e,t,r,a){t=t.split(",");for(var i=e,n,h=0;h<t.length-1;h++)n=t[h],i[n]==null&&(i[n]={}),i=i[n];(a||i[t[h]]==null)&&(i[t[h]]=r)}function Zg(e){Kn(Yz,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Yz=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Xz=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];function Kz(e,t){Fz(e,t),e.series=Uz(e.series),Kn(e.series,function(r){if(Gz(r)){var a=r.type;if((a==="pie"||a==="gauge")&&r.clockWise!=null&&(r.clockwise=r.clockWise),a==="gauge"){var i=Wz(r,"pointer.color");i!=null&&Zz(r,"itemStyle.normal.color",i)}Zg(r)}}),e.dataRange&&(e.visualMap=e.dataRange),Kn(Xz,function(r){var a=e[r];a&&(Hz(a)||(a=[a]),Kn(a,function(i){Zg(i)}))})}var Qz=Kz,OA=F,jz=OA.createHashMap,Jz=OA.each;function eO(e){var t=jz();e.eachSeries(function(r){var a=r.get("stack");if(a){var i=t.get(a)||t.set(a,[]),n=r.getData(),h={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:r};if(!h.stackedDimension||!(h.isStackedByIndex||h.stackedByDimension))return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(h)}}),t.each(tO)}function tO(e){Jz(e,function(t,r){var a=[],i=[NaN,NaN],n=[t.stackResultDimension,t.stackedOverDimension],h=t.data,d=t.isStackedByIndex,o=h.map(n,function(f,v,c){var s=h.get(t.stackedDimension,c);if(isNaN(s))return i;var l,u;d?u=h.getRawIndex(c):l=h.get(t.stackedByDimension,c);for(var p=NaN,g=r-1;g>=0;g--){var m=e[g];if(d||(u=m.data.rawIndexOf(m.stackedByDimension,l)),u>=0){var _=m.data.getByRawIndex(m.stackResultDimension,u);if(s>=0&&_>0||s<=0&&_<0){s+=_,p=_;break}}}return a[0]=s,a[1]=p,a});h.hostModel.setData(o),t.data=o})}var rO=eO,Qt={},ji=F;ji.isTypedArray;var aO=ji.extend;ji.assert;var iO=ji.each,nO=ji.isObject,NA=Me,oO=NA.getDataItemValue,sO=NA.isDataItemOption,lO=Ie(),uO=lO.parseDate,Yg=Qi,Lo=Et,vO=Lo.SOURCE_FORMAT_TYPED_ARRAY,hO=Lo.SOURCE_FORMAT_ARRAY_ROWS,Xg=Lo.SOURCE_FORMAT_ORIGINAL,cO=Lo.SOURCE_FORMAT_OBJECT_ROWS;function VA(e,t){Yg.isInstance(e)||(e=Yg.seriesDataToSource(e)),this._source=e;var r=this._data=e.data,a=e.sourceFormat;a===vO&&(this._offset=0,this._dimSize=t,this._data=r);var i=fO[a===hO?a+"_"+e.seriesLayoutBy:a];aO(this,i)}var Yf=VA.prototype;Yf.pure=!1;Yf.persistent=!0;Yf.getSource=function(){return this._source};var fO={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Ds},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],r=this._data,a=0;a<r.length;a++){var i=r[a];t.push(i?i[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Kg,getItem:Qg,appendData:Ds},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],r=this._source.dimensionsDefine,a=0;a<r.length;a++){var i=this._data[r[a].name];t.push(i?i[e]:null)}return t},appendData:function(e){var t=this._data;iO(e,function(r,a){for(var i=t[a]||(t[a]=[]),n=0;n<(r||[]).length;n++)i.push(r[n])})}},original:{count:Kg,getItem:Qg,appendData:Ds},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e=e-this._offset,t=t||[];for(var r=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[r+a];return t},appendData:function(e){this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}};function Kg(){return this._data.length}function Qg(e){return this._data[e]}function Ds(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}var dO={arrayRows:Ls,objectRows:function(e,t,r,a){return r!=null?e[a]:e},keyedColumns:Ls,original:function(e,t,r,a){var i=oO(e);return r==null||!(i instanceof Array)?i:i[r]},typedArray:Ls};function Ls(e,t,r,a){return r!=null?e[r]:e}var gO={arrayRows:jg,objectRows:function(e,t,r,a){return Zc(e[t],this._dimensionInfos[t])},keyedColumns:jg,original:function(e,t,r,a){var i=e&&(e.value==null?e:e.value);return!this._rawData.pure&&sO(e)&&(this.hasItemOption=!0),Zc(i instanceof Array?i[a]:i,this._dimensionInfos[t])},typedArray:function(e,t,r,a){return e[a]}};function jg(e,t,r,a){return Zc(e[a],this._dimensionInfos[t])}function Zc(e,t){var r=t&&t.type;if(r==="ordinal"){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return r==="time"&&typeof e!="number"&&e!=null&&e!=="-"&&(e=+uO(e)),e==null||e===""?NaN:+e}function pO(e,t,r){if(e){var a=e.getRawDataItem(t);if(a!=null){var i=e.getProvider().getSource().sourceFormat,n,h,d=e.getDimensionInfo(r);return d&&(n=d.name,h=d.index),dO[i](a,t,h,n)}}}function mO(e,t,r){if(e){var a=e.getProvider().getSource().sourceFormat;if(!(a!==Xg&&a!==cO)){var i=e.getRawDataItem(t);if(a===Xg&&!nO(i)&&(i=null),i)return i[r]}}}Qt.DefaultDataProvider=VA;Qt.defaultDimValueGetters=gO;Qt.retrieveRawValue=pO;Qt.retrieveRawAttr=mO;var yO=Qt,Jg=yO.retrieveRawValue,BA=Oe,_O=BA.getTooltipMarker,xO=BA.formatTpl,SO=/\{@(.+?)\}/g,bO={getDataParams:function(e,t){var r=this.getData(t),a=this.getRawValue(e,t),i=r.getRawIndex(e),n=r.getName(e),h=r.getRawDataItem(e),d=r.getItemVisual(e,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:this.mainType==="series"?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:n,dataIndex:i,data:h,dataType:t,value:a,color:d,marker:_O(d),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,r,a,i){t=t||"normal";var n=this.getData(r),h=n.getItemModel(e),d=this.getDataParams(e,r);a!=null&&d.value instanceof Array&&(d.value=d.value[a]);var o=h.get(t==="normal"?[i||"label","formatter"]:[t,i||"label","formatter"]);if(typeof o=="function")return d.status=t,o(d);if(typeof o=="string"){var f=xO(o,d);return f.replace(SO,function(v,c){var s=c.length;return c.charAt(0)==="["&&c.charAt(s-1)==="]"&&(c=+c.slice(1,s-1)),Jg(n,e,c)})}},getRawValue:function(e,t){return Jg(this.getData(t),e)},formatTooltip:function(){}},Xf=bO,Io={},qA=F;qA.assert;var HA=qA.isArray;function wO(e){return new GA(e)}function GA(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}var Zr=GA.prototype;Zr.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var a=this.context;a.data=a.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var i;this._plan&&!r&&(i=this._plan(this.context));var n=f(this._modBy),h=this._modDataCount||0,d=f(e&&e.modBy),o=e&&e.modDataCount||0;(n!==d||h!==o)&&(i="reset");function f(m){return!(m>=1)&&(m=1),m}var v;(this._dirty||i==="reset")&&(this._dirty=!1,v=AO(this,r)),this._modBy=d,this._modDataCount=o;var c=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var s=this._dueIndex,l=Math.min(c!=null?this._dueIndex+c:1/0,this._dueEnd);if(!r&&(v||s<l)){var u=this._progress;if(HA(u))for(var p=0;p<u.length;p++)tp(this,u[p],s,l,d,o);else tp(this,u,s,l,d,o)}this._dueIndex=l;var g=this._settedOutputEnd!=null?this._settedOutputEnd:l;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var ep=function(){var e,t,r,a,i,n={reset:function(o,f,v,c){t=o,e=f,r=v,a=c,i=Math.ceil(a/r),n.next=r>1&&a>0?d:h}};return n;function h(){return t<e?t++:null}function d(){var o=t%i*r+Math.ceil(t/i),f=t>=e?null:o<a?o:t;return t++,f}}();Zr.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)};function tp(e,t,r,a,i,n){ep.reset(r,a,i,n),e._callingProgress=t,e._callingProgress({start:r,end:a,count:a-r,next:ep.next},e.context)}function AO(e,t){e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null;var r,a;!t&&e._reset&&(r=e._reset(e.context),r&&r.progress&&(a=r.forceFirstProgress,r=r.progress),HA(r)&&!r.length&&(r=null)),e._progress=r,e._modBy=e._modDataCount=null;var i=e._downstream;return i&&i.dirty(),a}Zr.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};Zr.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())};Zr.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};Zr.getUpstream=function(){return this._upstream};Zr.getDownstream=function(){return this._downstream};Zr.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};Io.createTask=wO;var It=F,TO=lt,Po=Oe,CO=Po.formatTime,pi=Po.encodeHTML,rp=Po.addCommas,ap=Po.getTooltipMarker,Li=Me,ip=vt,FA=TA,MO=Xf,$A=ze,DO=$A.getLayoutParams,np=$A.mergeLayoutParam,LO=Io,IO=LO.createTask,UA=Cr,op=UA.prepareSource,PO=UA.getSource,RO=Qt,sp=RO.retrieveRawValue,mi=Li.makeInner(),Kf=ip.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(e,t,r,a){this.seriesIndex=this.componentIndex,this.dataTask=IO({count:kO,reset:zO}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r),op(this);var i=this.getInitialData(e,r);up(i,this),this.dataTask.context.data=i,mi(this).dataBeforeProcessed=i,lp(this)},mergeDefaultAndTheme:function(e,t){var r=this.layoutMode,a=r?DO(e):{},i=this.subType;ip.hasClass(i)&&(i+="Series"),It.merge(e,t.getTheme().get(this.subType)),It.merge(e,this.getDefaultOption()),Li.defaultEmphasis(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&np(e,a,r)},mergeOption:function(e,t){e=It.merge(this.option,e,!0),this.fillDataTextStyle(e.data);var r=this.layoutMode;r&&np(this.option,e,r),op(this);var a=this.getInitialData(e,t);up(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,mi(this).dataBeforeProcessed=a,lp(this)},fillDataTextStyle:function(e){if(e&&!It.isTypedArray(e))for(var t=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&Li.defaultEmphasis(e[r],"label",t)},getInitialData:function(){},appendData:function(e){var t=this.getRawData();t.appendData(e.data)},getData:function(e){var t=Yc(this);if(t){var r=t.context.data;return e==null?r:r.getLinkedData(e)}else return mi(this).data},setData:function(e){var t=Yc(this);if(t){var r=t.context;r.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),r.outputData=e,t!==this.dataTask&&(r.data=e)}mi(this).data=e},getSource:function(){return PO(this)},getRawData:function(){return mi(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,r){function a(p){var g=It.reduce(p,function(y,b,x){var w=n.getDimensionInfo(x);return y|=w&&w.tooltip!==!1&&w.displayName!=null},0),m=[];h.length?It.each(h,function(y){_(sp(n,e,y),y)}):It.each(p,_);function _(y,b){var x=n.getDimensionInfo(b);if(!(!x||x.otherDims.tooltip===!1)){var w=x.type,S=ap({color:v,type:"subItem"}),A=(g?S+pi(x.displayName||"-")+": ":"")+pi(w==="ordinal"?y+"":w==="time"?t?"":CO("yyyy/MM/dd hh:mm:ss",y):rp(y));A&&m.push(A)}}return(g?"<br/>":"")+m.join(g?"<br/>":", ")}function i(p){return pi(rp(p))}var n=this.getData(),h=n.mapDimension("defaultedTooltip",!0),d=h.length,o=this.getRawValue(e),f=It.isArray(o),v=n.getItemVisual(e,"color");It.isObject(v)&&v.colorStops&&(v=(v.colorStops[0]||{}).color),v=v||"transparent";var c=d>1||f&&!d?a(o):i(d?sp(n,e,h[0]):f?o[0]:o),s=ap(v),l=n.getName(e),u=this.name;return Li.isNameSpecified(this)||(u=""),u=u?pi(u)+(t?": ":"<br/>"):"",t?s+u+c:u+s+(l?pi(l)+": "+c:c)},isAnimationEnabled:function(){if(TO.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,r){var a=this.ecModel,i=FA.getColorFromPalette.call(this,e,t,r);return i||(i=a.getColorFromPalette(e,t,r)),i},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});It.mixin(Kf,MO);It.mixin(Kf,FA);function lp(e){var t=e.name;Li.isNameSpecified(e)||(e.name=EO(e)||t)}function EO(e){var t=e.getRawData(),r=t.mapDimension("seriesName",!0),a=[];return It.each(r,function(i){var n=t.getDimensionInfo(i);n.displayName&&a.push(n.displayName)}),a.join(" ")}function kO(e){return e.model.getRawData().count()}function zO(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),OO}function OO(e,t){e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function up(e,t){It.each(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,It.curry(NO,t))})}function NO(e){var t=Yc(e);t&&t.setOutputEnd(this.count())}function Yc(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var a=r.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(e.uid))}return a}}var VO=Kf,yt=VO,BO=bo,qO=ha,WA=Pt,Xa=function(){this.group=new BO,this.uid=qO.getUID("viewComponent")};Xa.prototype={constructor:Xa,init:function(e,t){},render:function(e,t,r,a){},dispose:function(){}};var Is=Xa.prototype;Is.updateView=Is.updateLayout=Is.updateVisual=function(e,t,r,a){};WA.enableClassExtend(Xa);WA.enableClassManagement(Xa,{registerWhenExtend:!0});var HO=Xa,Ro=HO,GO=Me,FO=GO.makeInner;function $O(){var e=FO();return function(t){var r=e(t),a=t.pipelineContext,i=r.large,n=r.progressiveRender,h=r.large=a.large,d=r.progressiveRender=a.progressiveRender;return!!(i^h||n^d)&&"reset"}}var ai=$O,UO=F,WO=UO.each,ZO=bo,YO=ha,ZA=Pt,Xc=Me,XO=Io,KO=XO.createTask,QO=ai,YA=Xc.makeInner(),jO=QO();function ii(){this.group=new ZO,this.uid=YO.getUID("viewChart"),this.renderTask=KO({plan:JO,reset:eN}),this.renderTask.context={view:this}}ii.prototype={type:"chart",init:function(e,t){},render:function(e,t,r,a){},highlight:function(e,t,r,a){vp(e.getData(),a,"emphasis")},downplay:function(e,t,r,a){vp(e.getData(),a,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var Ps=ii.prototype;Ps.updateView=Ps.updateLayout=Ps.updateVisual=function(e,t,r,a){this.render(e,t,r,a)};function Kc(e,t){if(e&&(e.trigger(t),e.type==="group"))for(var r=0;r<e.childCount();r++)Kc(e.childAt(r),t)}function vp(e,t,r){var a=Xc.queryDataIndex(e,t);a!=null?WO(Xc.normalizeToArray(a),function(i){Kc(e.getItemGraphicEl(i),r)}):e.eachItemGraphicEl(function(i){Kc(i,r)})}ZA.enableClassExtend(ii,["dispose"]);ZA.enableClassManagement(ii,{registerWhenExtend:!0});ii.markUpdateMethod=function(e,t){YA(e).updateMethod=t};function JO(e){return jO(e.model)}function eN(e){var t=e.model,r=e.ecModel,a=e.api,i=e.payload,n=t.pipelineContext.progressiveRender,h=e.view,d=i&&YA(i).updateMethod,o=n?"incrementalPrepareRender":d&&h[d]?d:"render";return o!=="render"&&h[o](t,r,a,i),tN[o]}var tN={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},rN=ii,Mr=rN,fr={},mo="\0__throttleOriginMethod",hp="\0__throttleRate",cp="\0__throttleType";function XA(e,t,r){var a,i=0,n=0,h=null,d,o,f,v;t=t||0;function c(){n=new Date().getTime(),h=null,e.apply(o,f||[])}var s=function(){a=new Date().getTime(),o=this,f=arguments;var l=v||t,u=v||r;v=null,d=a-(u?i:n)-l,clearTimeout(h),u?h=setTimeout(c,l):d>=0?c():h=setTimeout(c,-d),i=a};return s.clear=function(){h&&(clearTimeout(h),h=null)},s.debounceNextCall=function(l){v=l},s}function aN(e,t,r,a){var i=e[t];if(i){var n=i[mo]||i,h=i[cp],d=i[hp];if(d!==r||h!==a){if(r==null||!a)return e[t]=n;i=e[t]=XA(n,r,a==="debounce"),i[mo]=n,i[cp]=a,i[hp]=r}return i}}function iN(e,t){var r=e[t];r&&r[mo]&&(e[t]=r[mo])}fr.throttle=XA;fr.createOrUpdate=aN;fr.clear=iN;var nN=To,oN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),i=e.get(a)||e.getColorFromPalette(e.name,null,t.getSeriesCount());if(r.setVisual("color",i),!t.isSeriesFiltered(e)){typeof i=="function"&&!(i instanceof nN)&&r.each(function(h){r.setItemVisual(h,"color",i(e.getDataParams(h)))});var n=function(h,d){var o=h.getItemModel(d),f=o.get(a,!0);f!=null&&h.setItemVisual(d,"color",f)};return{dataEach:r.hasItemOption?n:null}}}},sN=oN,lN={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},fa=lN,uN=F,fp=fa,vN=Qt,hN=vN.retrieveRawValue;function cN(e,t){var r=t.getModel("aria");if(r.get("show")){if(r.get("description")){e.setAttribute("aria-label",r.get("description"));return}}else return;var a=0;t.eachSeries(function(p,g){++a},this);var i=r.get("data.maxCount")||10,n=r.get("series.maxCount")||10,h=Math.min(a,n),d;if(a<1)return;var o=l();o?d=c(s("general.withTitle"),{title:o}):d=s("general.withoutTitle");var f=[],v=a>1?"series.multiple.prefix":"series.single.prefix";d+=c(s(v),{seriesCount:a}),t.eachSeries(function(p,g){if(g<h){var m,_=p.get("name"),y="series."+(a>1?"multiple":"single")+".";m=s(_?y+"withName":y+"withoutName"),m=c(m,{seriesId:p.seriesIndex,seriesName:p.get("name"),seriesType:u(p.subType)});var b=p.getData();window.data=b,b.count()>i?m+=c(s("data.partialData"),{displayCnt:i}):m+=s("data.allData");for(var x=[],w=0;w<b.count();w++)if(w<i){var S=b.getName(w),A=hN(b,w);x.push(c(s(S?"data.withName":"data.withoutName"),{name:S,value:A}))}m+=x.join(s("data.separator.middle"))+s("data.separator.end"),f.push(m)}}),d+=f.join(s("series.multiple.separator.middle"))+s("series.multiple.separator.end"),e.setAttribute("aria-label",d);function c(p,g){if(typeof p!="string")return p;var m=p;return uN.each(g,function(_,y){m=m.replace(new RegExp("\\{\\s*"+y+"\\s*\\}","g"),_)}),m}function s(p){var g=r.get(p);if(g==null){for(var m=p.split("."),_=fp.aria,y=0;y<m.length;++y)_=_[m[y]];return _}else return g}function l(){var p=t.getModel("title").option;return p&&p.length&&(p=p[0]),p&&p.text}function u(p){return fp.series.typeNames[p]||"自定义图"}}var fN=cN,dN=F,Ln=le,In=Math.PI;function gN(e,t){t=t||{},dN.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new Ln.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),a=new Ln.Arc({shape:{startAngle:-In/2,endAngle:-In/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),i=new Ln.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});a.animateShape(!0).when(1e3,{endAngle:In*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:In*3/2}).delay(300).start("circularInOut");var n=new Ln.Group;return n.add(a),n.add(i),n.add(r),n.resize=function(){var h=e.getWidth()/2,d=e.getHeight()/2;a.setShape({cx:h,cy:d});var o=a.shape.r;i.setShape({x:h-o,y:d-o,width:o*2,height:o*2}),r.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},n.resize(),n}var pN=gN,ni=F,Qf=ni.each,mN=ni.map;ni.isArray;var yN=ni.isFunction,Eo=ni.createHashMap,_N=ni.noop,xN=Io,Qc=xN.createTask,SN=ha,bN=SN.getUID,wN=kA,AN=zA,TN=Me,CN=TN.normalizeToArray;function jf(e,t,i,n){this.ecInstance=e,this.api=t,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=Eo()}var Bt=jf.prototype;Bt.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var a=r.overallTask;a&&a.dirty()})};Bt.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),a=r.context,i=!t&&r.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>r.blockIndex,n=i?r.step:null,h=a&&a.modDataCount,d=h!=null?Math.ceil(h/n):null;return{step:n,modBy:d,modDataCount:h}}};Bt.getPipeline=function(e){return this._pipelineMap.get(e)};Bt.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),a=e.getData(),i=a.count(),n=r.progressiveEnabled&&t.incrementalPrepareRender&&i>=r.threshold,h=e.get("large")&&i>=e.get("largeThreshold"),d=e.get("progressiveChunkMode")==="mod"?i:null;e.pipelineContext=r.context={progressiveRender:n,modDataCount:d,large:h}};Bt.restorePipelines=function(e){var t=this,r=t._pipelineMap=Eo();e.eachSeries(function(a){var i=a.getProgressive(),n=a.uid;r.set(n,{id:n,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:i&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),ko(t,a,a.dataTask)})};Bt.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),r=this.api;Qf(this._allHandlers,function(a){var i=e.get(a.uid)||e.set(a.uid,[]);a.reset&&MN(this,a,i,t,r),a.overallReset&&DN(this,a,i,t,r)},this)};Bt.prepareView=function(e,t,r,a){var i=e.renderTask,n=i.context;n.model=t,n.ecModel=r,n.api=a,i.__block=!e.incrementalPrepareRender,ko(this,t,i)};Bt.performDataProcessorTasks=function(e,t){KA(this,this._dataProcessorHandlers,e,t,{block:!0})};Bt.performVisualTasks=function(e,t,r){KA(this,this._visualHandlers,e,t,r)};function KA(e,t,r,a,i){i=i||{};var n;Qf(t,function(d,o){if(!(i.visualType&&i.visualType!==d.visualType)){var f=e._stageTaskMap.get(d.uid),v=f.seriesTaskMap,c=f.overallTask;if(c){var s,l=c.agentStubMap;l.each(function(p){h(i,p)&&(p.dirty(),s=!0)}),s&&c.dirty(),dp(c,a);var u=e.getPerformArgs(c,i.block);l.each(function(p){p.perform(u)}),n|=c.perform(u)}else v&&v.each(function(p,g){h(i,p)&&p.dirty();var m=e.getPerformArgs(p,i.block);m.skip=!d.performRawSeries&&r.isSeriesFiltered(p.context.model),dp(p,a),n|=p.perform(m)})}});function h(d,o){return d.setDirty&&(!d.dirtyMap||d.dirtyMap.get(o.__pipeline.id))}e.unfinished|=n}Bt.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t|=r.dataTask.perform()}),this.unfinished|=t};Bt.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})};var dp=Bt.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)};function MN(e,t,r,a,i){var n=r.seriesTaskMap||(r.seriesTaskMap=Eo()),h=t.seriesType,d=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(o):h?a.eachRawSeriesByType(h,o):d&&d(a,i).each(o);function o(v){var c=v.uid,s=n.get(c)||n.set(c,Qc({plan:EN,reset:kN,count:ON}));s.context={model:v,ecModel:a,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},ko(e,v,s)}var f=e._pipelineMap;n.each(function(v,c){f.get(c)||(v.dispose(),n.removeKey(c))})}function DN(e,t,r,a,i){var n=r.overallTask=r.overallTask||Qc({reset:LN});n.context={ecModel:a,api:i,overallReset:t.overallReset,scheduler:e};var h=n.agentStubMap=n.agentStubMap||Eo(),d=t.seriesType,o=t.getTargetSeries,f=!0,v=t.modifyOutputEnd;d?a.eachRawSeriesByType(d,c):o?o(a,i).each(c):(f=!1,Qf(a.getSeries(),c));function c(l){var u=l.uid,p=h.get(u);p||(p=h.set(u,Qc({reset:IN,onDirty:RN})),n.dirty()),p.context={model:l,overallProgress:f,modifyOutputEnd:v},p.agent=n,p.__block=f,ko(e,l,p)}var s=e._pipelineMap;h.each(function(l,u){s.get(u)||(l.dispose(),n.dirty(),h.removeKey(u))})}function LN(e){e.overallReset(e.ecModel,e.api,e.payload)}function IN(e,t){return e.overallProgress&&PN}function PN(){this.agent.dirty(),this.getDownstream().dirty()}function RN(){this.agent&&this.agent.dirty()}function EN(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function kN(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=CN(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?mN(t,function(r,a){return QA(a)}):zN}var zN=QA(0);function QA(e){return function(t,r){var a=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var n=t.start;n<t.end;n++)i.dataEach(a,n);else i&&i.progress&&i.progress(t,a)}}function ON(e){return e.data.count()}function ko(e,t,r){var a=t.uid,i=e._pipelineMap.get(a);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i}jf.wrapStageHandler=function(e,t){return yN(e)&&(e={overallReset:e,seriesType:NN(e)}),e.uid=bN("stageHandler"),t&&(e.visualType=t),e};function NN(e){yo=null;try{e(Vi,jA)}catch{}return yo}var Vi={},jA={},yo;JA(Vi,wN);JA(jA,AN);Vi.eachSeriesByType=Vi.eachRawSeriesByType=function(e){yo=e};Vi.eachComponent=function(e){e.mainType==="series"&&e.subType&&(yo=e.subType)};function JA(e,t){for(var r in t.prototype)e[r]=_N}var VN=jf,BN=VN,gp=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],qN={color:gp,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],gp]},HN=qN,St="#eee",Pn=function(){return{axisLine:{lineStyle:{color:St}},axisTick:{lineStyle:{color:St}},axisLabel:{textStyle:{color:St}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:St}}}},Rs=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],eT={color:Rs,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:St},crossStyle:{color:St}}},legend:{textStyle:{color:St}},textStyle:{color:St},title:{textStyle:{color:St}},toolbox:{iconStyle:{normal:{borderColor:St}}},dataZoom:{textStyle:{color:St}},visualMap:{textStyle:{color:St}},timeline:{lineStyle:{color:St},itemStyle:{normal:{color:Rs[1]}},label:{normal:{textStyle:{color:St}}},controlStyle:{normal:{color:St,borderColor:St}}},timeAxis:Pn(),logAxis:Pn(),valueAxis:Pn(),categoryAxis:Pn(),line:{symbol:"circle"},graph:{color:Rs},gauge:{title:{textStyle:{color:St}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};eT.categoryAxis.splitLine.show=!1;var GN=eT,FN=GN,$N=vt,UN=Ro,WN=Cr,ZN=WN.detectSourceFormat,YN=Et,XN=YN.SERIES_LAYOUT_BY_COLUMN;$N.extend({type:"dataset",defaultOption:{seriesLayoutBy:XN,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){ZN(this)}});UN.extend({type:"dataset"});var pt={},ar={},Es,pp;function da(){if(pp)return Es;pp=1;function e(i){return i}function t(i,n,h,d,o){this._old=i,this._new=n,this._oldKeyGetter=h||e,this._newKeyGetter=d||e,this.context=o}t.prototype={constructor:t,add:function(i){return this._add=i,this},update:function(i){return this._update=i,this},remove:function(i){return this._remove=i,this},execute:function(){var i=this._old,n=this._new,h={},d={},o=[],f=[],v;for(r(i,h,o,"_oldKeyGetter",this),r(n,d,f,"_newKeyGetter",this),v=0;v<i.length;v++){var c=o[v],s=d[c];if(s!=null){var l=s.length;l?(l===1&&(d[c]=null),s=s.unshift()):d[c]=null,this._update&&this._update(s,v)}else this._remove&&this._remove(v)}for(var v=0;v<f.length;v++){var c=f[v];if(d.hasOwnProperty(c)){var s=d[c];if(s==null)continue;if(!s.length)this._add&&this._add(s);else for(var u=0,l=s.length;u<l;u++)this._add&&this._add(s[u])}}}};function r(i,n,h,d,o){for(var f=0;f<i.length;f++){var v="_ec_"+o[d](i[f],f),c=n[v];c==null?(h.push(v),n[v]=f):(c.length||(n[v]=c=[c]),c.push(f))}}var a=t;return Es=a,Es}var yi={},mp;function Ji(){if(mp)return yi;mp=1;var e=F,t=e.each,r=e.createHashMap;e.assert;var a=r(["tooltip","label","itemName","itemId","seriesName"]);function i(d){var o={},f=o.encode={},v=r(),c=[],s=[];t(d.dimensions,function(m){var _=d.getDimensionInfo(m),y=_.coordDim;if(y){var b=f[y];f.hasOwnProperty(y)||(b=f[y]=[]),b[_.coordDimIndex]=m,_.isExtraCoord||(v.set(y,1),h(_.type)&&(c[0]=m)),_.defaultTooltip&&s.push(m)}a.each(function(x,w){var S=f[w];f.hasOwnProperty(w)||(S=f[w]=[]);var A=_.otherDims[w];A!=null&&A!==!1&&(S[A]=_.name)})});var l=[],u={};v.each(function(m,_){var y=f[_];u[_]=y[0],l=l.concat(y)}),o.dataDimsOnCoord=l,o.encodeFirstDimNotExtra=u;var p=f.label;p&&p.length&&(c=p.slice());var g=f.tooltip;return g&&g.length?s=g.slice():s.length||(s=c.slice()),f.defaultedLabel=c,f.defaultedTooltip=s,o}function n(d){return d==="category"?"ordinal":d==="time"?"time":"float"}function h(d){return!(d==="ordinal"||d==="time")}return yi.OTHER_DIMENSIONS=a,yi.summarizeDimensions=i,yi.getDimensionTypeByAxis=n,yi}var ks,yp;function qt(){if(yp)return ks;yp=1;var e=F,t=mt,r=da(),a=Qi,i=Qt,n=i.defaultDimValueGetters,h=i.DefaultDataProvider,d=Ji(),o=d.summarizeDimensions,f=e.isObject,v="undefined",c="e\0\0",s={float:typeof Float64Array===v?Array:Float64Array,int:typeof Int32Array===v?Array:Int32Array,ordinal:Array,number:Array,time:Array},l=typeof Uint32Array===v?Array:Uint32Array,u=typeof Uint16Array===v?Array:Uint16Array;function p(D){return D._rawCount>65535?l:u}function g(D){var k=D.constructor;return k===Array?D.slice():new k(D)}var m=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],_=["_extent","_approximateExtent","_rawExtent"];function y(D,k){e.each(m.concat(k.__wrappedMethods||[]),function(z){k.hasOwnProperty(z)&&(D[z]=k[z])}),D.__wrappedMethods=k.__wrappedMethods,e.each(_,function(z){D[z]=e.clone(k[z])}),D._calculationInfo=e.extend(k._calculationInfo)}var b=function(D,k){D=D||["x","y"];for(var z={},O=[],N={},B=0;B<D.length;B++){var q=D[B];e.isString(q)&&(q={name:q});var V=q.name;q.type=q.type||"float",q.coordDim||(q.coordDim=V,q.coordDimIndex=0),q.otherDims=q.otherDims||{},O.push(V),z[V]=q,q.index=B,q.createInvertedIndices&&(N[V]=[])}this.dimensions=O,this._dimensionInfos=z,this.hostModel=k,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=o(this),this._invertedIndicesMap=N,this._calculationInfo={}},x=b.prototype;x.type="list",x.hasItemOption=!0,x.getDimension=function(D){return isNaN(D)||(D=this.dimensions[D]||D),D},x.getDimensionInfo=function(D){return this._dimensionInfos[this.getDimension(D)]},x.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},x.mapDimension=function(D,k){var z=this._dimensionsSummary;if(k==null)return z.encodeFirstDimNotExtra[D];var O=z.encode[D];return k===!0?(O||[]).slice():O&&O[k]},x.initData=function(D,k,z){var O=a.isInstance(D)||e.isArrayLike(D);O&&(D=new h(D,this.dimensions.length)),this._rawData=D,this._storage={},this._indices=null,this._nameList=k||[],this._idList=[],this._nameRepeatCount={},z||(this.hasItemOption=!1),this.defaultDimValueGetter=n[this._rawData.getSource().sourceFormat],this._dimValueGetter=z=z||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,D.count()),D.pure&&(this.hasItemOption=!1)},x.getProvider=function(){return this._rawData},x.appendData=function(D){var k=this._rawData,z=this.count();k.appendData(D);var O=k.count();k.persistent||(O+=z),this._initDataFromProvider(z,O)},x._initDataFromProvider=function(D,k){if(!(D>=k)){for(var z=this._chunkSize,O=this._rawData,N=this._storage,B=this.dimensions,q=B.length,V=this._dimensionInfos,G=this._nameList,$=this._idList,Z=this._rawExtent,Y=this._nameRepeatCount={},Q,ee=this._chunkCount,J=ee-1,ae=0;ae<q;ae++){var j=B[ae];Z[j]||(Z[j]=P());var ie=V[j];ie.otherDims.itemName===0&&(Q=this._nameDimIdx=ae),ie.otherDims.itemId===0&&(this._idDimIdx=ae);var re=s[ie.type];N[j]||(N[j]=[]);var me=N[j][J];if(me&&me.length<z){for(var we=new re(Math.min(k-J*z,z)),pe=0;pe<me.length;pe++)we[pe]=me[pe];N[j][J]=we}for(var ce=ee*z;ce<k;ce+=z)N[j].push(new re(Math.min(k-ce,z)));this._chunkCount=N[j].length}for(var Se=new Array(q),H=D;H<k;H++){Se=O.getItem(H,Se);for(var U=Math.floor(H/z),X=H%z,ce=0;ce<q;ce++){var j=B[ce],ne=N[j][U],te=this._dimValueGetter(Se,j,H,ce);ne[X]=te;var oe=Z[j];te<oe[0]&&(oe[0]=te),te>oe[1]&&(oe[1]=te)}if(!O.pure){var he=G[H];if(Se&&he==null){if(Se.name!=null)G[H]=he=Se.name;else if(Q!=null){var _e=B[Q],be=N[_e][U];if(be){he=be[X];var xe=V[_e].ordinalMeta;xe&&xe.categories.length&&(he=xe.categories[he])}}}var ye=Se==null?null:Se.id;ye==null&&he!=null&&(Y[he]=Y[he]||0,ye=he,Y[he]>0&&(ye+="__ec__"+Y[he]),Y[he]++),ye!=null&&($[H]=ye)}}!O.persistent&&O.clean&&O.clean(),this._rawCount=this._count=k,this._extent={},w(this)}};function w(D){var k=D._invertedIndicesMap;e.each(k,function(z,O){var N=D._dimensionInfos[O],B=N.ordinalMeta;if(B){z=k[O]=new l(B.categories.length);for(var q=0;q<z.length;q++)z[q]=NaN;for(var q=0;q<D._count;q++)z[D.get(O,q)]=q}})}function S(D,k,z){var O;if(k!=null){var N=D._chunkSize,B=Math.floor(z/N),q=z%N,V=D.dimensions[k],G=D._storage[V][B];if(G){O=G[q];var $=D._dimensionInfos[V].ordinalMeta;$&&$.categories.length&&(O=$.categories[O])}}return O}x.count=function(){return this._count},x.getIndices=function(){var D,k=this._indices;if(k){var z=k.constructor,O=this._count;if(z===Array){D=new z(O);for(var N=0;N<O;N++)D[N]=k[N]}else D=new z(k.buffer,0,O)}else for(var z=p(this),D=new z(this.count()),N=0;N<D.length;N++)D[N]=N;return D},x.get=function(D,k){if(!(k>=0&&k<this._count))return NaN;var z=this._storage;if(!z[D])return NaN;k=this.getRawIndex(k);var O=Math.floor(k/this._chunkSize),N=k%this._chunkSize,B=z[D][O],q=B[N];return q},x.getByRawIndex=function(D,k){if(!(k>=0&&k<this._rawCount))return NaN;var z=this._storage[D];if(!z)return NaN;var O=Math.floor(k/this._chunkSize),N=k%this._chunkSize,B=z[O];return B[N]},x._getFast=function(D,k){var z=Math.floor(k/this._chunkSize),O=k%this._chunkSize,N=this._storage[D][z];return N[O]},x.getValues=function(D,k){var z=[];e.isArray(D)||(k=D,D=this.dimensions);for(var O=0,N=D.length;O<N;O++)z.push(this.get(D[O],k));return z},x.hasValue=function(D){for(var k=this._dimensionsSummary.dataDimsOnCoord,z=this._dimensionInfos,O=0,N=k.length;O<N;O++)if(z[k[O]].type!=="ordinal"&&isNaN(this.get(k[O],D)))return!1;return!0},x.getDataExtent=function(D){D=this.getDimension(D);var k=this._storage[D],z=P();if(!k)return z;var O=this.count(),N=!this._indices,B;if(N)return this._rawExtent[D].slice();if(B=this._extent[D],B)return B.slice();B=z;for(var q=B[0],V=B[1],G=0;G<O;G++){var $=this._getFast(D,this.getRawIndex(G));$<q&&(q=$),$>V&&(V=$)}return B=[q,V],this._extent[D]=B,B},x.getApproximateExtent=function(D){return D=this.getDimension(D),this._approximateExtent[D]||this.getDataExtent(D)},x.setApproximateExtent=function(D,k){k=this.getDimension(k),this._approximateExtent[k]=D.slice()},x.getCalculationInfo=function(D){return this._calculationInfo[D]},x.setCalculationInfo=function(D,k){f(D)?e.extend(this._calculationInfo,D):this._calculationInfo[D]=k},x.getSum=function(D){var k=this._storage[D],z=0;if(k)for(var O=0,N=this.count();O<N;O++){var B=this.get(D,O);isNaN(B)||(z+=B)}return z},x.getMedian=function(D){var k=[];this.each(D,function(N,B){isNaN(N)||k.push(N)});var z=[].concat(k).sort(function(N,B){return N-B}),O=this.count();return O===0?0:O%2===1?z[(O-1)/2]:(z[O/2]+z[O/2-1])/2},x.rawIndexOf=function(D,k){var z=D&&this._invertedIndicesMap[D],O=z[k];return O==null||isNaN(O)?-1:O},x.indexOfName=function(D){for(var k=0,z=this.count();k<z;k++)if(this.getName(k)===D)return k;return-1},x.indexOfRawIndex=function(D){if(!this._indices)return D;if(D>=this._rawCount||D<0)return-1;var k=this._indices,z=k[D];if(z!=null&&z<this._count&&z===D)return D;for(var O=0,N=this._count-1;O<=N;){var B=(O+N)/2|0;if(k[B]<D)O=B+1;else if(k[B]>D)N=B-1;else return B}return-1},x.indicesOfNearest=function(D,k,z){var O=this._storage,N=O[D],B=[];if(!N)return B;z==null&&(z=1/0);for(var q=Number.MAX_VALUE,V=-1,G=0,$=this.count();G<$;G++){var Z=k-this.get(D,G),Y=Math.abs(Z);Z<=z&&Y<=q&&((Y<q||Z>=0&&V<0)&&(q=Y,V=Z,B.length=0),B.push(G))}return B},x.getRawIndex=A;function A(D){return D}function T(D){return D<this._count&&D>=0?this._indices[D]:-1}x.getRawDataItem=function(D){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(D));for(var k=[],z=0;z<this.dimensions.length;z++){var O=this.dimensions[z];k.push(this.get(O,D))}return k},x.getName=function(D){var k=this.getRawIndex(D);return this._nameList[k]||S(this,this._nameDimIdx,k)||""},x.getId=function(D){return M(this,this.getRawIndex(D))};function M(D,k){var z=D._idList[k];return z==null&&(z=S(D,D._idDimIdx,k)),z==null&&(z=c+k),z}function C(D){return e.isArray(D)||(D=[D]),D}x.each=function(D,k,z,O){if(this._count){typeof D=="function"&&(O=z,z=k,k=D,D=[]),z=z||O||this,D=e.map(C(D),this.getDimension,this);for(var N=D.length,B=0;B<this.count();B++)switch(N){case 0:k.call(z,B);break;case 1:k.call(z,this.get(D[0],B),B);break;case 2:k.call(z,this.get(D[0],B),this.get(D[1],B),B);break;default:for(var q=0,V=[];q<N;q++)V[q]=this.get(D[q],B);V[q]=B,k.apply(z,V)}}},x.filterSelf=function(D,k,z,O){if(this._count){typeof D=="function"&&(O=z,z=k,k=D,D=[]),z=z||O||this,D=e.map(C(D),this.getDimension,this);for(var N=this.count(),B=p(this),q=new B(N),V=[],G=D.length,$=0,Z=D[0],Y=0;Y<N;Y++){var Q,ee=this.getRawIndex(Y);if(G===0)Q=k.call(z,Y);else if(G===1){var J=this._getFast(Z,ee);Q=k.call(z,J,Y)}else{for(var ae=0;ae<G;ae++)V[ae]=this._getFast(Z,ee);V[ae]=Y,Q=k.apply(z,V)}Q&&(q[$++]=ee)}return $<N&&(this._indices=q),this._count=$,this._extent={},this.getRawIndex=this._indices?T:A,this}},x.selectRange=function(D){if(this._count){var k=[];for(var z in D)D.hasOwnProperty(z)&&k.push(z);var O=k.length;if(O){var N=this.count(),B=p(this),q=new B(N),V=0,G=k[0],$=D[G][0],Z=D[G][1],Y=!1;if(!this._indices){var Q=0;if(O===1){for(var ee=this._storage[k[0]],J=0;J<this._chunkCount;J++)for(var ae=ee[J],j=Math.min(this._count-J*this._chunkSize,this._chunkSize),ie=0;ie<j;ie++){var re=ae[ie];(re>=$&&re<=Z||isNaN(re))&&(q[V++]=Q),Q++}Y=!0}else if(O===2){for(var ee=this._storage[G],me=this._storage[k[1]],we=D[k[1]][0],pe=D[k[1]][1],J=0;J<this._chunkCount;J++)for(var ae=ee[J],ce=me[J],j=Math.min(this._count-J*this._chunkSize,this._chunkSize),ie=0;ie<j;ie++){var re=ae[ie],Se=ce[ie];(re>=$&&re<=Z||isNaN(re))&&(Se>=we&&Se<=pe||isNaN(Se))&&(q[V++]=Q),Q++}Y=!0}}if(!Y)if(O===1)for(var ie=0;ie<N;ie++){var H=this.getRawIndex(ie),re=this._getFast(G,H);(re>=$&&re<=Z||isNaN(re))&&(q[V++]=H)}else for(var ie=0;ie<N;ie++){for(var U=!0,H=this.getRawIndex(ie),J=0;J<O;J++){var X=k[J],re=this._getFast(z,H);(re<D[X][0]||re>D[X][1])&&(U=!1)}U&&(q[V++]=this.getRawIndex(ie))}return V<N&&(this._indices=q),this._count=V,this._extent={},this.getRawIndex=this._indices?T:A,this}}},x.mapArray=function(D,k,z,O){typeof D=="function"&&(O=z,z=k,k=D,D=[]),z=z||O||this;var N=[];return this.each(D,function(){N.push(k&&k.apply(this,arguments))},z),N};function L(D,k){var z=D.dimensions,O=new b(e.map(z,D.getDimensionInfo,D),D.hostModel);y(O,D);for(var N=O._storage={},B=D._storage,q=0;q<z.length;q++){var V=z[q];B[V]&&(e.indexOf(k,V)>=0?(N[V]=I(B[V]),O._rawExtent[V]=P(),O._extent[V]=null):N[V]=B[V])}return O}function I(D){for(var k=new Array(D.length),z=0;z<D.length;z++)k[z]=g(D[z]);return k}function P(){return[1/0,-1/0]}x.map=function(D,k,z,O){z=z||O||this,D=e.map(C(D),this.getDimension,this);var N=L(this,D);N._indices=this._indices,N.getRawIndex=N._indices?T:A;for(var B=N._storage,q=[],V=this._chunkSize,G=D.length,$=this.count(),Z=[],Y=N._rawExtent,Q=0;Q<$;Q++){for(var ee=0;ee<G;ee++)Z[ee]=this.get(D[ee],Q);Z[G]=Q;var J=k&&k.apply(z,Z);if(J!=null){typeof J!="object"&&(q[0]=J,J=q);for(var ae=this.getRawIndex(Q),j=Math.floor(ae/V),ie=ae%V,re=0;re<J.length;re++){var me=D[re],we=J[re],pe=Y[me],ce=B[me];ce&&(ce[j][ie]=we),we<pe[0]&&(pe[0]=we),we>pe[1]&&(pe[1]=we)}}}return N},x.downSample=function(D,k,z,O){for(var N=L(this,[D]),B=N._storage,q=[],V=Math.floor(1/k),G=B[D],$=this.count(),Z=this._chunkSize,Y=N._rawExtent[D],Q=new(p(this))($),ee=0,J=0;J<$;J+=V){V>$-J&&(V=$-J,q.length=V);for(var ae=0;ae<V;ae++){var j=this.getRawIndex(J+ae),ie=Math.floor(j/Z),re=j%Z;q[ae]=G[ie][re]}var me=z(q),we=this.getRawIndex(Math.min(J+O(q,me)||0,$-1)),pe=Math.floor(we/Z),ce=we%Z;G[pe][ce]=me,me<Y[0]&&(Y[0]=me),me>Y[1]&&(Y[1]=me),Q[ee++]=we}return N._count=ee,N._indices=Q,N.getRawIndex=T,N},x.getItemModel=function(D){var k=this.hostModel;return new t(this.getRawDataItem(D),k,k&&k.ecModel)},x.diff=function(D){var k=this;return new r(D?D.getIndices():[],this.getIndices(),function(z){return M(D,z)},function(z){return M(k,z)})},x.getVisual=function(D){var k=this._visual;return k&&k[D]},x.setVisual=function(D,k){if(f(D)){for(var z in D)D.hasOwnProperty(z)&&this.setVisual(z,D[z]);return}this._visual=this._visual||{},this._visual[D]=k},x.setLayout=function(D,k){if(f(D)){for(var z in D)D.hasOwnProperty(z)&&this.setLayout(z,D[z]);return}this._layout[D]=k},x.getLayout=function(D){return this._layout[D]},x.getItemLayout=function(D){return this._itemLayouts[D]},x.setItemLayout=function(D,k,z){this._itemLayouts[D]=z?e.extend(this._itemLayouts[D]||{},k):k},x.clearItemLayouts=function(){this._itemLayouts.length=0},x.getItemVisual=function(D,k,z){var O=this._itemVisuals[D],N=O&&O[k];return N==null&&!z?this.getVisual(k):N},x.setItemVisual=function(D,k,z){var O=this._itemVisuals[D]||{},N=this.hasItemVisual;if(this._itemVisuals[D]=O,f(k)){for(var B in k)k.hasOwnProperty(B)&&(O[B]=k[B],N[B]=!0);return}O[k]=z,N[k]=!0},x.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var R=function(D){D.seriesIndex=this.seriesIndex,D.dataIndex=this.dataIndex,D.dataType=this.dataType};x.setItemGraphicEl=function(D,k){var z=this.hostModel;k&&(k.dataIndex=D,k.dataType=this.dataType,k.seriesIndex=z&&z.seriesIndex,k.type==="group"&&k.traverse(R,k)),this._graphicEls[D]=k},x.getItemGraphicEl=function(D){return this._graphicEls[D]},x.eachItemGraphicEl=function(D,k){e.each(this._graphicEls,function(z,O){z&&D&&D.call(k,z,O)})},x.cloneShallow=function(D){if(!D){var k=e.map(this.dimensions,this.getDimensionInfo,this);D=new b(k,this.hostModel)}if(D._storage=this._storage,y(D,this),this._indices){var z=this._indices.constructor;D._indices=new z(this._indices)}else D._indices=null;return D.getRawIndex=D._indices?T:A,D},x.wrapMethod=function(D,k){var z=this[D];typeof z=="function"&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(D),this[D]=function(){var O=z.apply(this,arguments);return k.apply(this,[O].concat(e.slice(arguments)))})},x.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],x.CHANGABLE_METHODS=["filterSelf","selectRange"];var E=b;return ks=E,ks}var zs,_p;function tT(){if(_p)return zs;_p=1;var e=F,t=e.createHashMap,r=e.each,a=e.isString,i=e.defaults,n=e.extend,h=e.isObject,d=e.clone,o=Me,f=o.normalizeToArray,v=Cr,c=v.guessOrdinal,s=Qi,l=Ji(),u=l.OTHER_DIMENSIONS;function p(y,b,x){s.isInstance(b)||(b=s.seriesDataToSource(b)),x=x||{},y=(y||[]).slice();for(var w=(x.dimsDef||[]).slice(),S=t(x.encodeDef),A=t(),T=t(),M=[],C=g(b,y,w,x.dimCount),L=0;L<C;L++){var I=w[L]=n({},h(w[L])?w[L]:{name:w[L]}),P=I.name,R=M[L]={otherDims:{}};P!=null&&A.get(P)==null&&(R.name=R.displayName=P,A.set(P,L)),I.type!=null&&(R.type=I.type),I.displayName!=null&&(R.displayName=I.displayName)}S.each(function(V,G){V=f(V).slice();var $=S.set(G,[]);r(V,function(Z,Y){a(Z)&&(Z=A.get(Z)),Z!=null&&Z<C&&($[Y]=Z,D(M[Z],G,Y))})});var E=0;r(y,function(Z,G){var $,Z,Y,Q;if(a(Z))$=Z,Z={};else{$=Z.name;var ee=Z.ordinalMeta;Z.ordinalMeta=null,Z=d(Z),Z.ordinalMeta=ee,Y=Z.dimsDef,Q=Z.otherDims,Z.name=Z.coordDim=Z.coordDimIndex=Z.dimsDef=Z.otherDims=null}var J=f(S.get($));if(!J.length)for(var ae=0;ae<(Y&&Y.length||1);ae++){for(;E<M.length&&M[E].coordDim!=null;)E++;E<M.length&&J.push(E++)}r(J,function(j,ie){var re=M[j];if(D(i(re,Z),$,ie),re.name==null&&Y){var me=Y[ie];!h(me)&&(me={name:me}),re.name=re.displayName=me.name,re.defaultTooltip=me.defaultTooltip}Q&&i(re.otherDims,Q)})});function D(V,G,$){u.get(G)!=null?V.otherDims[G]=$:(V.coordDim=G,V.coordDimIndex=$,T.set(G,!0))}var k=x.generateCoord,z=x.generateCoordCount,O=z!=null;z=k?z||1:0;for(var N=k||"value",B=0;B<C;B++){var R=M[B]=M[B]||{},q=R.coordDim;q==null&&(R.coordDim=m(N,T,O),R.coordDimIndex=0,(!k||z<=0)&&(R.isExtraCoord=!0),z--),R.name==null&&(R.name=m(R.coordDim,A)),R.type==null&&c(b,B,R.name)&&(R.type="ordinal")}return M}function g(y,b,x,w){var S=Math.max(y.dimensionsDetectCount||1,b.length,x.length,w||0);return r(b,function(A){var T=A.dimsDef;T&&(S=Math.max(S,T.length))}),S}function m(y,b,x){if(x||b.get(y)!=null){for(var w=0;b.get(y+w)!=null;)w++;y+=w}return b.set(y,!0),y}var _=p;return zs=_,zs}var Os,xp;function oi(){if(xp)return Os;xp=1;var e=tT();function t(r,a){return a=a||{},e(a.coordDimensions||[],r,{dimsDef:a.dimensionsDefine||r.dimensionsDefine,encodeDef:a.encodeDefine||r.encodeDefine,dimCount:a.dimensionsCount,generateCoord:a.generateCoord,generateCoordCount:a.generateCoordCount})}return Os=t,Os}var _i={},Sp;function Dr(){if(Sp)return _i;Sp=1;var e=F,t=e.each,r=e.isString;function a(h,d,o){o=o||{};var f=o.byIndex,v=o.stackedCoordDimension,c=!!(h&&h.get("stack")),s,l,u,p;if(t(d,function(y,b){r(y)&&(d[b]=y={name:y}),c&&!y.isExtraCoord&&(!f&&!s&&y.ordinalMeta&&(s=y),!l&&y.type!=="ordinal"&&y.type!=="time"&&(!v||v===y.coordDim)&&(l=y))}),l&&!f&&!s&&(f=!0),l){u="__\0ecstackresult",p="__\0ecstackedover",s&&(s.createInvertedIndices=!0);var g=l.coordDim,m=l.type,_=0;t(d,function(y){y.coordDim===g&&_++}),d.push({name:u,coordDim:g,coordDimIndex:_,type:m,isExtraCoord:!0,isCalculationCoord:!0}),_++,d.push({name:p,coordDim:p,coordDimIndex:_,type:m,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:l&&l.name,stackedByDimension:s&&s.name,isStackedByIndex:f,stackedOverDimension:p,stackResultDimension:u}}function i(h,d){return!!d&&d===h.getCalculationInfo("stackedDimension")}function n(h,d){return i(h,d)?h.getCalculationInfo("stackResultDimension"):d}return _i.enableDataStack=a,_i.isDimensionStacked=i,_i.getStackedDimension=n,_i}var Ns,bp;function Lr(){if(bp)return Ns;bp=1;var e=F,t=qt(),r=oi(),a=Et,i=a.SOURCE_FORMAT_ORIGINAL,n=Ji(),h=n.getDimensionTypeByAxis,d=Me,o=d.getDataItemValue,f=cr,v=Nf,c=v.getCoordSysDefineBySeries,s=Qi,l=Dr(),u=l.enableDataStack;function p(y,b,x){x=x||{},s.isInstance(y)||(y=s.seriesDataToSource(y));var w=b.get("coordinateSystem"),S=f.get(w),A=c(b),T;A&&(T=e.map(A.coordSysDims,function(E){var D={name:E},k=A.axisMap.get(E);if(k){var z=k.get("type");D.type=h(z)}return D})),T||(T=S&&(S.getDimensionsInfo?S.getDimensionsInfo():S.dimensions.slice())||["x","y"]);var M=r(y,{coordDimensions:T,generateCoord:x.generateCoord}),C,L;A&&e.each(M,function(E,D){var k=E.coordDim,z=A.categoryAxisMap.get(k);z&&(C==null&&(C=D),E.ordinalMeta=z.getOrdinalMeta()),E.otherDims.itemName!=null&&(L=!0)}),!L&&C!=null&&(M[C].otherDims.itemName=0);var I=u(b,M),P=new t(M,b);P.setCalculationInfo(I);var R=C!=null&&g(y)?function(E,D,k,z){return z===C?k:this.defaultDimValueGetter(E,D,k,z)}:null;return P.hasItemOption=!1,P.initData(y,null,R),P}function g(y){if(y.sourceFormat===i){var b=m(y.data||[]);return b!=null&&!e.isArray(o(b))}}function m(y){for(var b=0;b<y.length&&y[b]==null;)b++;return y[b]}var _=p;return Ns=_,Ns}var pr={},Vs,wp;function zo(){if(wp)return Vs;wp=1;var e=Pt;function t(a){this._setting=a||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}t.prototype.parse=function(a){return a},t.prototype.getSetting=function(a){return this._setting[a]},t.prototype.contain=function(a){var i=this._extent;return a>=i[0]&&a<=i[1]},t.prototype.normalize=function(a){var i=this._extent;return i[1]===i[0]?.5:(a-i[0])/(i[1]-i[0])},t.prototype.scale=function(a){var i=this._extent;return a*(i[1]-i[0])+i[0]},t.prototype.unionExtent=function(a){var i=this._extent;a[0]<i[0]&&(i[0]=a[0]),a[1]>i[1]&&(i[1]=a[1])},t.prototype.unionExtentFromData=function(a,i){this.unionExtent(a.getApproximateExtent(i))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(a,i){var n=this._extent;isNaN(a)||(n[0]=a),isNaN(i)||(n[1]=i)},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(a){this._isBlank=a},t.prototype.getLabel=null,e.enableClassExtend(t),e.enableClassManagement(t,{registerWhenExtend:!0});var r=t;return Vs=r,Vs}var Bs,Ap;function rT(){if(Ap)return Bs;Ap=1;var e=F,t=e.createHashMap,r=e.isObject,a=e.map;function i(f){this.categories=f.categories||[],this._needCollect=f.needCollect,this._deduplication=f.deduplication,this._map}i.createByAxisModel=function(f){var v=f.option,c=v.data,s=c&&a(c,d);return new i({categories:s,needCollect:!s,deduplication:v.dedplication!==!1})};var n=i.prototype;n.getOrdinal=function(f){return h(this).get(f)},n.parseAndCollect=function(f){var v,c=this._needCollect;if(typeof f!="string"&&!c)return f;if(c&&!this._deduplication)return v=this.categories.length,this.categories[v]=f,v;var s=h(this);return v=s.get(f),v==null&&(c?(v=this.categories.length,this.categories[v]=f,s.set(f,v)):v=NaN),v};function h(f){return f._map||(f._map=t(f.categories))}function d(f){return r(f)&&f.value!=null?f.value:f+""}var o=i;return Bs=o,Bs}var qs,Tp;function KN(){if(Tp)return qs;Tp=1;var e=F,t=zo(),r=rT(),a=t.prototype,i=t.extend({type:"ordinal",init:function(h,d){(!h||e.isArray(h))&&(h=new r({categories:h})),this._ordinalMeta=h,this._extent=d||[0,h.categories.length-1]},parse:function(h){return typeof h=="string"?this._ordinalMeta.getOrdinal(h):Math.round(h)},contain:function(h){return h=this.parse(h),a.contain.call(this,h)&&this._ordinalMeta.categories[h]!=null},normalize:function(h){return a.normalize.call(this,this.parse(h))},scale:function(h){return Math.round(a.scale.call(this,h))},getTicks:function(){for(var h=[],d=this._extent,o=d[0];o<=d[1];)h.push(o),o++;return h},getLabel:function(h){if(!this.isBlank())return this._ordinalMeta.categories[h]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(h,d){this.unionExtent(h.getApproximateExtent(d))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:e.noop,niceExtent:e.noop});i.create=function(){return new i};var n=i;return qs=n,qs}var Ia={},Cp;function aT(){if(Cp)return Ia;Cp=1;var e=Ie(),t=e.round;function r(d,o,f,v){var c={},s=d[1]-d[0],l=c.interval=e.nice(s/o,!0);f!=null&&l<f&&(l=c.interval=f),v!=null&&l>v&&(l=c.interval=v);var u=c.intervalPrecision=a(l),p=c.niceTickExtent=[t(Math.ceil(d[0]/l)*l,u),t(Math.floor(d[1]/l)*l,u)];return n(p,d),c}function a(d){return e.getPrecisionSafe(d)+2}function i(d,o,f){d[o]=Math.max(Math.min(d[o],f[1]),f[0])}function n(d,o){!isFinite(d[0])&&(d[0]=o[0]),!isFinite(d[1])&&(d[1]=o[1]),i(d,0,o),i(d,1,o),d[0]>d[1]&&(d[0]=d[1])}function h(d,o,f,v){var c=[];if(!d)return c;var s=1e4;o[0]<f[0]&&c.push(o[0]);for(var l=f[0];l<=f[1]&&(c.push(l),l=t(l+d,v),l!==c[c.length-1]);)if(c.length>s)return[];return o[1]>(c.length?c[c.length-1]:f[1])&&c.push(o[1]),c}return Ia.intervalScaleNiceTicks=r,Ia.getIntervalPrecision=a,Ia.fixExtent=n,Ia.intervalScaleGetTicks=h,Ia}var Hs,Mp;function Oo(){if(Mp)return Hs;Mp=1;var e=Ie(),t=Oe,r=zo(),a=aT(),i=e.round,n=r.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(d,o){var f=this._extent;isNaN(d)||(f[0]=parseFloat(d)),isNaN(o)||(f[1]=parseFloat(o))},unionExtent:function(d){var o=this._extent;d[0]<o[0]&&(o[0]=d[0]),d[1]>o[1]&&(o[1]=d[1]),n.prototype.setExtent.call(this,o[0],o[1])},getInterval:function(){return this._interval},setInterval:function(d){this._interval=d,this._niceExtent=this._extent.slice(),this._intervalPrecision=a.getIntervalPrecision(d)},getTicks:function(){return a.intervalScaleGetTicks(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(d,o){if(d==null)return"";var f=o&&o.precision;return f==null?f=e.getPrecisionSafe(d)||0:f==="auto"&&(f=this._intervalPrecision),d=i(d,f,!0),t.addCommas(d)},niceTicks:function(d,o,f){d=d||5;var v=this._extent,c=v[1]-v[0];if(isFinite(c)){c<0&&(c=-c,v.reverse());var s=a.intervalScaleNiceTicks(v,d,o,f);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},niceExtent:function(d){var o=this._extent;if(o[0]===o[1])if(o[0]!==0){var f=o[0];d.fixMax||(o[1]+=f/2),o[0]-=f/2}else o[1]=1;var v=o[1]-o[0];isFinite(v)||(o[0]=0,o[1]=1),this.niceTicks(d.splitNumber,d.minInterval,d.maxInterval);var c=this._interval;d.fixMin||(o[0]=i(Math.floor(o[0]/c)*c)),d.fixMax||(o[1]=i(Math.ceil(o[1]/c)*c))}});n.create=function(){return new n};var h=n;return Hs=h,Hs}var zr={},Dp;function No(){if(Dp)return zr;Dp=1;var e=F,t=Ie(),r=t.parsePercent,a=Dr(),i=a.isDimensionStacked,n=ai,h="__ec_stack_",d=.5,o=typeof Float32Array<"u"?Float32Array:Array;function f(x){return x.get("stack")||h+x.seriesIndex}function v(x){return x.dim+x.index}function c(x){var w=[],S=x.axis,A="axis0";if(S.type==="category"){for(var T=S.getBandWidth(),M=0;M<x.count;M++)w.push(e.defaults({bandWidth:T,axisKey:A,stackId:h+M},x));for(var C=u(w),L=[],M=0;M<x.count;M++){var I=C[A][h+M];I.offsetCenter=I.offset+I.width/2,L.push(I)}return L}}function s(x,w){var S=[];return w.eachSeriesByType(x,function(A){_(A)&&!y(A)&&S.push(A)}),S}function l(x){var w=[];return e.each(x,function(S){var A=S.getData(),T=S.coordinateSystem,M=T.getBaseAxis(),C=M.getExtent(),L=M.type==="category"?M.getBandWidth():Math.abs(C[1]-C[0])/A.count(),I=r(S.get("barWidth"),L),P=r(S.get("barMaxWidth"),L),R=S.get("barGap"),E=S.get("barCategoryGap");w.push({bandWidth:L,barWidth:I,barMaxWidth:P,barGap:R,barCategoryGap:E,axisKey:v(M),stackId:f(S)})}),u(w)}function u(x){var w={};e.each(x,function(A,T){var M=A.axisKey,C=A.bandWidth,L=w[M]||{bandWidth:C,remainedWidth:C,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},I=L.stacks;w[M]=L;var P=A.stackId;I[P]||L.autoWidthCount++,I[P]=I[P]||{width:0,maxWidth:0};var R=A.barWidth;R&&!I[P].width&&(I[P].width=R,R=Math.min(L.remainedWidth,R),L.remainedWidth-=R);var E=A.barMaxWidth;E&&(I[P].maxWidth=E);var D=A.barGap;D!=null&&(L.gap=D);var k=A.barCategoryGap;k!=null&&(L.categoryGap=k)});var S={};return e.each(w,function(A,T){S[T]={};var M=A.stacks,C=A.bandWidth,L=r(A.categoryGap,C),I=r(A.gap,1),P=A.remainedWidth,R=A.autoWidthCount,E=(P-L)/(R+(R-1)*I);E=Math.max(E,0),e.each(M,function(O,N){var B=O.maxWidth;B&&B<E&&(B=Math.min(B,P),O.width&&(B=Math.min(B,O.width)),P-=B,O.width=B,R--)}),E=(P-L)/(R+(R-1)*I),E=Math.max(E,0);var D=0,k;e.each(M,function(O,N){O.width||(O.width=E),k=O,D+=O.width*(1+I)}),k&&(D-=k.width*I);var z=-D/2;e.each(M,function(O,N){S[T][N]=S[T][N]||{offset:z,width:O.width},z+=O.width*(1+I)})}),S}function p(x,w,S){if(x&&w){var A=x[v(w)];return A!=null&&S!=null&&(A=A[f(S)]),A}}function g(x,w){var S=s(x,w),A=l(S),T={};e.each(S,function(M){var C=M.getData(),L=M.coordinateSystem,I=L.getBaseAxis(),P=f(M),R=A[v(I)][P],E=R.offset,D=R.width,k=L.getOtherAxis(I),z=M.get("barMinHeight")||0;T[P]=T[P]||[],C.setLayout({offset:E,size:D});for(var O=C.mapDimension(k.dim),N=C.mapDimension(I.dim),B=i(C,O),q=k.isHorizontal(),V=b(I,k,B),G=0,$=C.count();G<$;G++){var Z=C.get(O,G),Y=C.get(N,G);if(!isNaN(Z)){var Q=Z>=0?"p":"n",ee=V;B&&(T[P][Y]||(T[P][Y]={p:V,n:V}),ee=T[P][Y][Q]);var J,ae,j,ie;if(q){var re=L.dataToPoint([Z,Y]);J=ee,ae=re[1]+E,j=re[0]-V,ie=D,Math.abs(j)<z&&(j=(j<0?-1:1)*z),B&&(T[P][Y][Q]+=j)}else{var re=L.dataToPoint([Y,Z]);J=re[0]+E,ae=ee,j=D,ie=re[1]-V,Math.abs(ie)<z&&(ie=(ie<=0?-1:1)*z),B&&(T[P][Y][Q]+=ie)}C.setItemLayout(G,{x:J,y:ae,width:j,height:ie})}}},this)}var m={seriesType:"bar",plan:n(),reset:function(x){if(!_(x)||!y(x))return;var w=x.getData(),S=x.coordinateSystem,A=S.getBaseAxis(),T=S.getOtherAxis(A),M=w.mapDimension(T.dim),C=w.mapDimension(A.dim),L=T.isHorizontal(),I=L?0:1,P=p(l([x]),A,x).width;return P>d||(P=d),{progress:R};function R(E,D){for(var k=new o(E.count*2),z,O=[],N=[],B=0;(z=E.next())!=null;)N[I]=D.get(M,z),N[1-I]=D.get(C,z),O=S.dataToPoint(N,null,O),k[B++]=O[0],k[B++]=O[1];D.setLayout({largePoints:k,barWidth:P,valueAxisStart:b(A,T,!1),valueAxisHorizontal:L})}}};function _(x){return x.coordinateSystem&&x.coordinateSystem.type==="cartesian2d"}function y(x){return x.pipelineContext&&x.pipelineContext.large}function b(x,w,S){return e.indexOf(x.getAxesOnZeroOf(),w)>=0||S?w.toGlobalCoord(w.dataToCoord(0)):w.getGlobalExtent()[0]}return zr.getLayoutOnAxis=c,zr.prepareLayoutBarSeries=s,zr.makeColumnLayout=l,zr.retrieveColumnLayout=p,zr.layout=g,zr.largeLayout=m,zr}var Gs,Lp;function QN(){if(Lp)return Gs;Lp=1;var e=F,t=Ie(),r=Oe,a=aT(),i=Oo(),n=i.prototype,h=Math.ceil,d=Math.floor,o=1e3,f=o*60,v=f*60,c=v*24,s=function(g,m,_,y){for(;_<y;){var b=_+y>>>1;g[b][1]<m?_=b+1:y=b}return _},l=i.extend({type:"time",getLabel:function(g){var m=this._stepLvl,_=new Date(g);return r.formatTime(m[0],_,this.getSetting("useUTC"))},niceExtent:function(g){var m=this._extent;if(m[0]===m[1]&&(m[0]-=c,m[1]+=c),m[1]===-1/0&&m[0]===1/0){var _=new Date;m[1]=+new Date(_.getFullYear(),_.getMonth(),_.getDate()),m[0]=m[1]-c}this.niceTicks(g.splitNumber,g.minInterval,g.maxInterval);var y=this._interval;g.fixMin||(m[0]=t.round(d(m[0]/y)*y)),g.fixMax||(m[1]=t.round(h(m[1]/y)*y))},niceTicks:function(g,m,_){g=g||10;var y=this._extent,b=y[1]-y[0],x=b/g;m!=null&&x<m&&(x=m),_!=null&&x>_&&(x=_);var w=u.length,S=s(u,x,0,w),A=u[Math.min(S,w-1)],T=A[1];if(A[0]==="year"){var M=b/T,C=t.nice(M/g,!0);T*=C}var L=this.getSetting("useUTC")?0:new Date(+y[0]||+y[1]).getTimezoneOffset()*60*1e3,I=[Math.round(h((y[0]-L)/T)*T+L),Math.round(d((y[1]-L)/T)*T+L)];a.fixExtent(I,y),this._stepLvl=A,this._interval=T,this._niceExtent=I},parse:function(g){return+t.parseDate(g)}});e.each(["contain","normalize"],function(g){l.prototype[g]=function(m){return n[g].call(this,this.parse(m))}});var u=[["hh:mm:ss",o],["hh:mm:ss",o*5],["hh:mm:ss",o*10],["hh:mm:ss",o*15],["hh:mm:ss",o*30],[`hh:mm
MM-dd`,f],[`hh:mm
MM-dd`,f*5],[`hh:mm
MM-dd`,f*10],[`hh:mm
MM-dd`,f*15],[`hh:mm
MM-dd`,f*30],[`hh:mm
MM-dd`,v],[`hh:mm
MM-dd`,v*2],[`hh:mm
MM-dd`,v*6],[`hh:mm
MM-dd`,v*12],[`MM-dd
yyyy`,c],[`MM-dd
yyyy`,c*2],[`MM-dd
yyyy`,c*3],[`MM-dd
yyyy`,c*4],[`MM-dd
yyyy`,c*5],[`MM-dd
yyyy`,c*6],["week",c*7],[`MM-dd
yyyy`,c*10],["week",c*14],["week",c*21],["month",c*31],["week",c*42],["month",c*62],["week",c*42],["quarter",c*380/4],["month",c*31*4],["month",c*31*5],["half-year",c*380/2],["month",c*31*8],["month",c*31*10],["year",c*380]];l.create=function(g){return new l({useUTC:g.ecModel.get("useUTC")})};var p=l;return Gs=p,Gs}var Fs,Ip;function jN(){if(Ip)return Fs;Ip=1;var e=F,t=zo(),r=Ie(),a=Oo(),i=t.prototype,n=a.prototype,h=r.getPrecisionSafe,d=r.round,o=Math.floor,f=Math.ceil,v=Math.pow,c=Math.log,s=t.extend({type:"log",base:10,$constructor:function(){t.apply(this,arguments),this._originalScale=new a},getTicks:function(){var p=this._originalScale,g=this._extent,m=p.getExtent();return e.map(n.getTicks.call(this),function(_){var y=r.round(v(this.base,_));return y=_===g[0]&&p.__fixMin?l(y,m[0]):y,y=_===g[1]&&p.__fixMax?l(y,m[1]):y,y},this)},getLabel:n.getLabel,scale:function(p){return p=i.scale.call(this,p),v(this.base,p)},setExtent:function(p,g){var m=this.base;p=c(p)/c(m),g=c(g)/c(m),n.setExtent.call(this,p,g)},getExtent:function(){var p=this.base,g=i.getExtent.call(this);g[0]=v(p,g[0]),g[1]=v(p,g[1]);var m=this._originalScale,_=m.getExtent();return m.__fixMin&&(g[0]=l(g[0],_[0])),m.__fixMax&&(g[1]=l(g[1],_[1])),g},unionExtent:function(p){this._originalScale.unionExtent(p);var g=this.base;p[0]=c(p[0])/c(g),p[1]=c(p[1])/c(g),i.unionExtent.call(this,p)},unionExtentFromData:function(p,g){this.unionExtent(p.getApproximateExtent(g))},niceTicks:function(p){p=p||10;var g=this._extent,m=g[1]-g[0];if(!(m===1/0||m<=0)){var _=r.quantity(m),y=p/m*_;for(y<=.5&&(_*=10);!isNaN(_)&&Math.abs(_)<1&&Math.abs(_)>0;)_*=10;var b=[r.round(f(g[0]/_)*_),r.round(o(g[1]/_)*_)];this._interval=_,this._niceExtent=b}},niceExtent:function(p){n.niceExtent.call(this,p);var g=this._originalScale;g.__fixMin=p.fixMin,g.__fixMax=p.fixMax}});e.each(["contain","normalize"],function(p){s.prototype[p]=function(g){return g=c(g)/c(this.base),i[p].call(this,g)}}),s.create=function(){return new s};function l(p,g){return d(p,h(g))}var u=s;return Fs=u,Fs}var Pp;function jt(){if(Pp)return pr;Pp=1;var e=F,t=KN(),r=Oo(),a=zo(),i=Ie(),n=No(),h=n.prepareLayoutBarSeries,d=n.makeColumnLayout,o=n.retrieveColumnLayout,f=Qe;QN(),jN();function v(y,b){var x=y.type,w=b.getMin(),S=b.getMax(),A=w!=null,T=S!=null,M=y.getExtent(),C,L,I;x==="ordinal"?C=b.getCategories().length:(L=b.get("boundaryGap"),e.isArray(L)||(L=[L||0,L||0]),typeof L[0]=="boolean"&&(L=[0,0]),L[0]=i.parsePercent(L[0],1),L[1]=i.parsePercent(L[1],1),I=M[1]-M[0]||Math.abs(M[0])),w==null&&(w=x==="ordinal"?C?0:NaN:M[0]-L[0]*I),S==null&&(S=x==="ordinal"?C?C-1:NaN:M[1]+L[1]*I),w==="dataMin"?w=M[0]:typeof w=="function"&&(w=w({min:M[0],max:M[1]})),S==="dataMax"?S=M[1]:typeof S=="function"&&(S=S({min:M[0],max:M[1]})),(w==null||!isFinite(w))&&(w=NaN),(S==null||!isFinite(S))&&(S=NaN),y.setBlank(e.eqNaN(w)||e.eqNaN(S)||x==="ordinal"&&!y.getOrdinalMeta().categories.length),b.getNeedCrossZero()&&(w>0&&S>0&&!A&&(w=0),w<0&&S<0&&!T&&(S=0));var P=b.ecModel;if(P&&x==="time"){var R=h("bar",P),E;if(e.each(R,function(z){E|=z.getBaseAxis()===b.axis}),E){var D=d(R),k=c(w,S,b,D);w=k.min,S=k.max}}return[w,S]}function c(y,b,x,w){var S=x.axis.getExtent(),A=S[1]-S[0],T=o(w,x.axis);if(T===void 0)return{min:y,max:b};var M=1/0;e.each(T,function(E){M=Math.min(E.offset,M)});var C=-1/0;e.each(T,function(E){C=Math.max(E.offset+E.width,C)}),M=Math.abs(M),C=Math.abs(C);var L=M+C,I=b-y,P=1-(M+C)/A,R=I/P-I;return b+=R*(C/L),y-=R*(M/L),{min:y,max:b}}function s(y,b){var x=v(y,b),w=b.getMin()!=null,S=b.getMax()!=null,A=b.get("splitNumber");y.type==="log"&&(y.base=b.get("logBase"));var T=y.type;y.setExtent(x[0],x[1]),y.niceExtent({splitNumber:A,fixMin:w,fixMax:S,minInterval:T==="interval"||T==="time"?b.get("minInterval"):null,maxInterval:T==="interval"||T==="time"?b.get("maxInterval"):null});var M=b.get("interval");M!=null&&y.setInterval&&y.setInterval(M)}function l(y,b){if(b=b||y.get("type"),b)switch(b){case"category":return new t(y.getOrdinalMeta?y.getOrdinalMeta():y.getCategories(),[1/0,-1/0]);case"value":return new r;default:return(a.getClass(b)||r).create(y)}}function u(y){var b=y.scale.getExtent(),x=b[0],w=b[1];return!(x>0&&w>0||x<0&&w<0)}function p(y){var b=y.getLabelModel().get("formatter"),x=y.type==="category"?y.scale.getExtent()[0]:null;return typeof b=="string"?(b=function(w){return function(S){return w.replace("{value}",S??"")}}(b),b):typeof b=="function"?function(w,S){return x!=null&&(S=w-x),b(g(y,w),S)}:function(w){return y.scale.getLabel(w)}}function g(y,b){return y.type==="category"?y.scale.getLabel(b):b}function m(y){var b=y.model,x=y.scale;if(!(!b.get("axisLabel.show")||x.isBlank())){var w=y.type==="category",S,A,T=x.getExtent();w?A=x.count():(S=x.getTicks(),A=S.length);var M=y.getLabelModel(),C=p(y),L,I=1;A>40&&(I=Math.ceil(A/40));for(var P=0;P<A;P+=I){var R=S?S[P]:T[0]+P,E=C(R),D=M.getTextRect(E),k=_(D,M.get("rotate")||0);L?L.union(k):L=k}return L}}function _(y,b){var x=b*Math.PI/180,w=y.plain(),S=w.width,A=w.height,T=S*Math.cos(x)+A*Math.sin(x),M=S*Math.sin(x)+A*Math.cos(x),C=new f(w.x,w.y,T,M);return C}return pr.getScaleExtent=v,pr.niceScaleExtent=s,pr.createScaleByModel=l,pr.ifAxisCrossZero=u,pr.makeLabelFormatter=p,pr.getAxisRawValue=g,pr.estimateLabelUnionRect=m,pr}var $s,Rp;function si(){if(Rp)return $s;Rp=1;var e=F;jt();var t={getMin:function(r){var a=this.option,i=!r&&a.rangeStart!=null?a.rangeStart:a.min;return this.axis&&i!=null&&i!=="dataMin"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(r){var a=this.option,i=!r&&a.rangeEnd!=null?a.rangeEnd:a.max;return this.axis&&i!=null&&i!=="dataMax"&&typeof i!="function"&&!e.eqNaN(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var r=this.option;return r.rangeStart!=null||r.rangeEnd!=null?!1:!r.scale},getCoordSysModel:e.noop,setRange:function(r,a){this.option.rangeStart=r,this.option.rangeEnd=a},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}};return $s=t,$s}var Us={},Ep;function Ht(){if(Ep)return Us;Ep=1;var e=F,t=le,r=Qe,a=t.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(l,u){var p=u.cx,g=u.cy,m=u.width/2,_=u.height/2;l.moveTo(p,g-_),l.lineTo(p+m,g+_),l.lineTo(p-m,g+_),l.closePath()}}),i=t.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(l,u){var p=u.cx,g=u.cy,m=u.width/2,_=u.height/2;l.moveTo(p,g-_),l.lineTo(p+m,g),l.lineTo(p,g+_),l.lineTo(p-m,g),l.closePath()}}),n=t.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(l,u){var p=u.x,g=u.y,m=u.width/5*3,_=Math.max(m,u.height),y=m/2,b=y*y/(_-y),x=g-_+y+b,w=Math.asin(b/y),S=Math.cos(w)*y,A=Math.sin(w),T=Math.cos(w),M=y*.6,C=y*.7;l.moveTo(p-S,x+b),l.arc(p,x,y,Math.PI-w,Math.PI*2+w),l.bezierCurveTo(p+S-A*M,x+b+T*M,p,g-C,p,g),l.bezierCurveTo(p,g-C,p-S+A*M,x+b+T*M,p-S,x+b),l.closePath()}}),h=t.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(l,u){var p=u.height,g=u.width,m=u.x,_=u.y,y=g/3*2;l.moveTo(m,_),l.lineTo(m+y,_+p),l.lineTo(m,_+p/4*3),l.lineTo(m-y,_+p),l.lineTo(m,_),l.closePath()}}),d={line:t.Line,rect:t.Rect,roundRect:t.Rect,square:t.Rect,circle:t.Circle,diamond:i,pin:n,arrow:h,triangle:a},o={line:function(l,u,p,g,m){m.x1=l,m.y1=u+g/2,m.x2=l+p,m.y2=u+g/2},rect:function(l,u,p,g,m){m.x=l,m.y=u,m.width=p,m.height=g},roundRect:function(l,u,p,g,m){m.x=l,m.y=u,m.width=p,m.height=g,m.r=Math.min(p,g)/4},square:function(l,u,p,g,m){var _=Math.min(p,g);m.x=l,m.y=u,m.width=_,m.height=_},circle:function(l,u,p,g,m){m.cx=l+p/2,m.cy=u+g/2,m.r=Math.min(p,g)/2},diamond:function(l,u,p,g,m){m.cx=l+p/2,m.cy=u+g/2,m.width=p,m.height=g},pin:function(l,u,p,g,m){m.x=l+p/2,m.y=u+g/2,m.width=p,m.height=g},arrow:function(l,u,p,g,m){m.x=l+p/2,m.y=u+g/2,m.width=p,m.height=g},triangle:function(l,u,p,g,m){m.cx=l+p/2,m.cy=u+g/2,m.width=p,m.height=g}},f={};e.each(d,function(l,u){f[u]=new l});var v=t.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var l=this.style,u=this.shape;u.symbolType==="pin"&&l.textPosition==="inside"&&(l.textPosition=["50%","40%"],l.textAlign="center",l.textVerticalAlign="middle")},buildPath:function(l,u,p){var g=u.symbolType,m=f[g];u.symbolType!=="none"&&(m||(g="rect",m=f[g]),o[g](u.x,u.y,u.width,u.height,m.shape),m.buildPath(l,m.shape,p))}});function c(l,u){if(this.type!=="image"){var p=this.style,g=this.shape;g&&g.symbolType==="line"?p.stroke=l:this.__isEmptyBrush?(p.stroke=l,p.fill=u||"#fff"):(p.fill&&(p.fill=l),p.stroke&&(p.stroke=l)),this.dirty(!1)}}function s(l,u,p,g,m,_,y){var b=l.indexOf("empty")===0;b&&(l=l.substr(5,1).toLowerCase()+l.substr(6));var x;return l.indexOf("image://")===0?x=t.makeImage(l.slice(8),new r(u,p,g,m),y?"center":"cover"):l.indexOf("path://")===0?x=t.makePath(l.slice(7),{},new r(u,p,g,m),y?"center":"cover"):x=new v({shape:{symbolType:l,x:u,y:p,width:g,height:m}}),x.__isEmptyBrush=b,x.setColor=c,x.setColor(_),x}return Us.createSymbol=s,Us}var kp;function JN(){if(kp)return ar;kp=1;var e=F,t=Lr(),r=jt(),a=si(),i=mt,n=ze;n.getLayoutRect,ar.getLayoutRect=n.getLayoutRect;var h=Dr(),d=h.enableDataStack,o=h.isDimensionStacked,f=h.getStackedDimension,v=tT();ar.completeDimensions=v;var c=oi();ar.createDimensions=c;var s=Ht();ar.createSymbol=s.createSymbol;function l(m){return t(m.getSource(),m)}var u={isDimensionStacked:o,enableDataStack:d,getStackedDimension:f};function p(m,_){var y=_;i.isInstance(_)||(y=new i(_),e.mixin(y,a));var b=r.createScaleByModel(y);return b.setExtent(m[0],m[1]),r.niceScaleExtent(b,y),b}function g(m){e.mixin(m,a)}return ar.createList=l,ar.dataStack=u,ar.createScale=p,ar.mixinAxisModelCommonMethods=g,ar}var Ws={},zp;function iT(){if(zp)return Ws;zp=1;var e=Zw,t=1e-8;function r(i,n){return Math.abs(i-n)<t}function a(i,n,h){var d=0,o=i[0];if(!o)return!1;for(var f=1;f<i.length;f++){var v=i[f];d+=e(o[0],o[1],v[0],v[1],n,h),o=v}var c=i[0];return(!r(o[0],c[0])||!r(o[1],c[1]))&&(d+=e(o[0],o[1],c[0],c[1],n,h)),d!==0}return Ws.contain=a,Ws}var Zs,Op;function nT(){if(Op)return Zs;Op=1;var e=Qe,t=wf(),r=Ce,a=iT();function i(h,d,o){if(this.name=h,this.geometries=d,o)o=[o[0],o[1]];else{var f=this.getBoundingRect();o=[f.x+f.width/2,f.y+f.height/2]}this.center=o}i.prototype={constructor:i,properties:null,getBoundingRect:function(){var h=this._rect;if(h)return h;for(var d=Number.MAX_VALUE,o=[d,d],f=[-d,-d],v=[],c=[],s=this.geometries,l=0;l<s.length;l++)if(s[l].type==="polygon"){var u=s[l].exterior;t.fromPoints(u,v,c),r.min(o,o,v),r.max(f,f,c)}return l===0&&(o[0]=o[1]=f[0]=f[1]=0),this._rect=new e(o[0],o[1],f[0]-o[0],f[1]-o[1])},contain:function(h){var d=this.getBoundingRect(),o=this.geometries;if(!d.contain(h[0],h[1]))return!1;e:for(var f=0,v=o.length;f<v;f++)if(o[f].type==="polygon"){var c=o[f].exterior,s=o[f].interiors;if(a.contain(c,h[0],h[1])){for(var l=0;l<(s?s.length:0);l++)if(a.contain(s[l]))continue e;return!0}}return!1},transformTo:function(h,d,o,f){var v=this.getBoundingRect(),c=v.width/v.height;o?f||(f=o/c):o=c*f;for(var s=new e(h,d,o,f),l=v.calculateTransform(s),u=this.geometries,p=0;p<u.length;p++)if(u[p].type==="polygon"){for(var g=u[p].exterior,m=u[p].interiors,_=0;_<g.length;_++)r.applyTransform(g[_],g[_],l);for(var y=0;y<(m?m.length:0);y++)for(var _=0;_<m[y].length;_++)r.applyTransform(m[y][_],m[y][_],l)}v=this._rect,v.copy(s),this.center=[v.x+v.width/2,v.y+v.height/2]}};var n=i;return Zs=n,Zs}var Ys,Np;function oT(){if(Np)return Ys;Np=1;var e=F,t=nT();function r(n){if(!n.UTF8Encoding)return n;var h=n.UTF8Scale;h==null&&(h=1024);for(var d=n.features,o=0;o<d.length;o++)for(var f=d[o],v=f.geometry,c=v.coordinates,s=v.encodeOffsets,l=0;l<c.length;l++){var u=c[l];if(v.type==="Polygon")c[l]=a(u,s[l],h);else if(v.type==="MultiPolygon")for(var p=0;p<u.length;p++){var g=u[p];u[p]=a(g,s[l][p],h)}}return n.UTF8Encoding=!1,n}function a(n,h,d){for(var o=[],f=h[0],v=h[1],c=0;c<n.length;c+=2){var s=n.charCodeAt(c)-64,l=n.charCodeAt(c+1)-64;s=s>>1^-(s&1),l=l>>1^-(l&1),s+=f,l+=v,f=s,v=l,o.push([s/d,l/d])}return o}function i(n){return r(n),e.map(e.filter(n.features,function(h){return h.geometry&&h.properties&&h.geometry.coordinates.length>0}),function(h){var d=h.properties,o=h.geometry,f=o.coordinates,v=[];o.type==="Polygon"&&v.push({type:"polygon",exterior:f[0],interiors:f.slice(1)}),o.type==="MultiPolygon"&&e.each(f,function(s){s[0]&&v.push({type:"polygon",exterior:s[0],interiors:s.slice(1)})});var c=new t(d.name,v,d.cp);return c.properties=d,c})}return Ys=i,Ys}var xi={},Vp;function eV(){if(Vp)return xi;Vp=1;var e=F,t=Ze,r=Me,a=r.makeInner,i=jt(),n=i.makeLabelFormatter,h=a();function d(w){return w.type==="category"?f(w):s(w)}function o(w,S){return w.type==="category"?c(w,S):{ticks:w.scale.getTicks()}}function f(w){var S=w.getLabelModel(),A=v(w,S);return!S.get("show")||w.scale.isBlank()?{labels:[],labelCategoryInterval:A.labelCategoryInterval}:A}function v(w,S){var A=l(w,"labels"),T=x(S),M=u(A,T);if(M)return M;var C,L;return e.isFunction(T)?C=b(w,T):(L=T==="auto"?g(w):T,C=y(w,L)),p(A,T,{labels:C,labelCategoryInterval:L})}function c(w,S){var A=l(w,"ticks"),T=x(S),M=u(A,T);if(M)return M;var C,L;if((!S.get("show")||w.scale.isBlank())&&(C=[]),e.isFunction(T))C=b(w,T,!0);else if(T==="auto"){var I=v(w,w.getLabelModel());L=I.labelCategoryInterval,C=e.map(I.labels,function(P){return P.tickValue})}else L=T,C=y(w,L,!0);return p(A,T,{ticks:C,tickCategoryInterval:L})}function s(w){var S=w.scale.getTicks(),A=n(w);return{labels:e.map(S,function(T,M){return{formattedLabel:A(T,M),rawLabel:w.scale.getLabel(T),tickValue:T}})}}function l(w,S){return h(w)[S]||(h(w)[S]=[])}function u(w,S){for(var A=0;A<w.length;A++)if(w[A].key===S)return w[A].value}function p(w,S,A){return w.push({key:S,value:A}),A}function g(w){var S=h(w).autoInterval;return S??(h(w).autoInterval=w.calculateCategoryInterval())}function m(w){var S=_(w),A=n(w),T=(S.axisRotate-S.labelRotate)/180*Math.PI,M=w.scale,C=M.getExtent(),L=M.count();if(C[1]-C[0]<1)return 0;var I=1;L>40&&(I=Math.max(1,Math.floor(L/40)));for(var P=C[0],R=w.dataToCoord(P+1)-w.dataToCoord(P),E=Math.abs(R*Math.cos(T)),D=Math.abs(R*Math.sin(T)),k=0,z=0;P<=C[1];P+=I){var O=0,N=0,B=t.getBoundingRect(A(P),S.font,"center","top");O=B.width*1.3,N=B.height*1.3,k=Math.max(k,O,7),z=Math.max(z,N,7)}var q=k/E,V=z/D;isNaN(q)&&(q=1/0),isNaN(V)&&(V=1/0);var G=Math.max(0,Math.floor(Math.min(q,V))),$=h(w.model),Z=$.lastAutoInterval,Y=$.lastTickCount;return Z!=null&&Y!=null&&Math.abs(Z-G)<=1&&Math.abs(Y-L)<=1&&Z>G?G=Z:($.lastTickCount=L,$.lastAutoInterval=G),G}function _(w){var S=w.getLabelModel();return{axisRotate:w.getRotate?w.getRotate():w.isHorizontal&&!w.isHorizontal()?90:0,labelRotate:S.get("rotate")||0,font:S.getFont()}}function y(w,S,A){var T=n(w),M=w.scale,C=M.getExtent(),L=w.getLabelModel(),I=[],P=Math.max((S||0)+1,1),R=C[0],E=M.count();R!==0&&P>1&&E/P>2&&(R=Math.round(Math.ceil(R/P)*P));var D={min:L.get("showMinLabel"),max:L.get("showMaxLabel")};D.min&&R!==C[0]&&z(C[0]);for(var k=R;k<=C[1];k+=P)z(k);D.max&&k!==C[1]&&z(C[1]);function z(O){I.push(A?O:{formattedLabel:T(O),rawLabel:M.getLabel(O),tickValue:O})}return I}function b(w,S,A){var T=w.scale,M=n(w),C=[];return e.each(T.getTicks(),function(L){var I=T.getLabel(L);S(L,I)&&C.push(A?L:{formattedLabel:M(L),rawLabel:I,tickValue:L})}),C}function x(w){var S=w.get("interval");return S??"auto"}return xi.createAxisLabels=d,xi.createAxisTicks=o,xi.calculateCategoryInterval=m,xi}var Xs,Bp;function Yr(){if(Bp)return Xs;Bp=1;var e=F,t=e.each,r=e.map,a=Ie(),i=a.linearMap,n=a.getPixelPrecision,h=eV(),d=h.createAxisTicks,o=h.createAxisLabels,f=h.calculateCategoryInterval,v=[0,1],c=function(p,g,m){this.dim=p,this.scale=g,this._extent=m||[0,0],this.inverse=!1,this.onBand=!1};c.prototype={constructor:c,contain:function(p){var g=this._extent,m=Math.min(g[0],g[1]),_=Math.max(g[0],g[1]);return p>=m&&p<=_},containData:function(p){return this.contain(this.dataToCoord(p))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(p){return n(p||this.scale.getExtent(),this._extent)},setExtent:function(p,g){var m=this._extent;m[0]=p,m[1]=g},dataToCoord:function(p,g){var m=this._extent,_=this.scale;return p=_.normalize(p),this.onBand&&_.type==="ordinal"&&(m=m.slice(),s(m,_.count())),i(p,v,m,g)},coordToData:function(p,g){var m=this._extent,_=this.scale;this.onBand&&_.type==="ordinal"&&(m=m.slice(),s(m,_.count()));var y=i(p,m,v,g);return this.scale.scale(y)},pointToData:function(p,g){},getTicksCoords:function(p){p=p||{};var g=p.tickModel||this.getTickModel(),m=d(this,g),_=m.ticks,y=r(_,function(x){return{coord:this.dataToCoord(x),tickValue:x}},this),b=g.get("alignWithLabel");return l(this,y,m.tickCategoryInterval,b,p.clamp),y},getViewLabels:function(){return o(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var p=this._extent,g=this.scale.getExtent(),m=g[1]-g[0]+(this.onBand?1:0);m===0&&(m=1);var _=Math.abs(p[1]-p[0]);return Math.abs(_)/m},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return f(this)}};function s(p,g){var m=p[1]-p[0],_=g,y=m/_/2;p[0]+=y,p[1]-=y}function l(p,g,m,_,y){var b=g.length;if(!p.onBand||_||!b)return;var x=p.getExtent(),w;if(b===1)g[0].coord=x[0],w=g[1]={coord:x[0]};else{var S=g[1].coord-g[0].coord;t(g,function(M){M.coord-=S/2;var C=C||0;C%2>0&&(M.coord-=S/((C+1)*2))}),w={coord:g[b-1].coord+S},g.push(w)}var A=x[0]>x[1];T(g[0].coord,x[0])&&(y?g[0].coord=x[0]:g.shift()),y&&T(x[0],g[0].coord)&&g.unshift({coord:x[0]}),T(x[1],w.coord)&&(y?w.coord=x[1]:g.pop()),y&&T(w.coord,x[1])&&g.push({coord:x[1]});function T(M,C){return A?M>C:M<C}}var u=c;return Xs=u,Xs}var qp;function sT(){if(qp)return pt;qp=1;var e=Ar;pt.zrender=e;var t=We;pt.matrix=t;var r=Ce;pt.vector=r;var a=F,i=ut;pt.color=i;var n=le;pt.graphic=n;var h=Ie();pt.number=h;var d=Oe;pt.format=d;var o=fr;o.throttle,pt.throttle=o.throttle;var f=JN();pt.helper=f;var v=oT();pt.parseGeoJSON=v;var c=qt();pt.List=c;var s=mt;pt.Model=s;var l=Yr();pt.Axis=l;var u=lt;pt.env=u;var p=v,g={};return a.each(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(m){g[m]=a[m]}),pt.parseGeoJson=p,pt.util=g,pt}(function(e){var t=Ar,r=F,a=ut,i=lt,n=of,h=ua,d=kA,o=zA,f=cr,v=Nz,c=Qz,s=rO,l=vt,u=yt,p=Ro,g=Mr,m=le,_=Me,y=fr,b=y.throttle,x=sN,w=fN,S=pN,A=BN,T=HN,M=FN,C=r.assert,L=r.each,I=r.isFunction,P=r.isObject,R=l.parseClassType,E="4.1.0",D={zrender:"4.0.4"},k=1,z=1e3,O=5e3,N=1e3,B=2e3,q=3e3,V=4e3,G=5e3,$={PROCESSOR:{FILTER:z,STATISTIC:O},VISUAL:{LAYOUT:N,GLOBAL:B,CHART:q,COMPONENT:V,BRUSH:G}},Z="__flagInMainProcess",Y="__optionUpdated",Q=/^[a-zA-Z0-9_]+$/;function ee(W){return function(K,se,ue){K=K&&K.toLowerCase(),h.prototype[W].call(this,K,se,ue)}}function J(){h.call(this)}J.prototype.on=ee("on"),J.prototype.off=ee("off"),J.prototype.one=ee("one"),r.mixin(J,h);function ae(W,ge,se){se=se||{},typeof ge=="string"&&(ge=nt[ge]),this.id,this.group,this._dom=W;var ue="canvas",fe=this._zr=t.init(W,{renderer:se.renderer||ue,devicePixelRatio:se.devicePixelRatio,width:se.width,height:se.height});this._throttledZrFlush=b(r.bind(fe.flush,fe),17);var ge=r.clone(ge);ge&&c(ge,!0),this._theme=ge,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new f;var Ae=this._api=De(this);function Re(Te,Be){return Te.__prio-Be.__prio}n(qe,Re),n(Ye,Re),this._scheduler=new A(this,Ae,Ye,qe),h.call(this),this._messageCenter=new J,this._initEvents(),this.resize=r.bind(this.resize,this),this._pendingActions=[],fe.animation.on("frame",this._onframe,this),U(fe,this),r.setAsPrimitive(this)}var j=ae.prototype;j._onframe=function(){if(!this._disposed){var W=this._scheduler;if(this[Y]){var K=this[Y].silent;this[Z]=!0,me(this),re.update.call(this),this[Z]=!1,this[Y]=!1,Se.call(this,K),H.call(this,K)}else if(W.unfinished){var se=k,ue=this._model,fe=this._api;W.unfinished=!1;do{var ge=+new Date;W.performSeriesTasks(ue),W.performDataProcessorTasks(ue),pe(this,ue),W.performVisualTasks(ue),he(this,this._model,fe,"remain"),se-=+new Date-ge}while(se>0&&W.unfinished);W.unfinished||this._zr.flush()}}},j.getDom=function(){return this._dom},j.getZr=function(){return this._zr},j.setOption=function(W,K,se){var ue;if(P(K)&&(se=K.lazyUpdate,ue=K.silent,K=K.notMerge),this[Z]=!0,!this._model||K){var fe=new v(this._api),ge=this._theme,Ae=this._model=new d(null,null,ge,fe);Ae.scheduler=this._scheduler,Ae.init(null,null,ge,fe)}this._model.setOption(W,ht),se?(this[Y]={silent:ue},this[Z]=!1):(me(this),re.update.call(this),this._zr.flush(),this[Y]=!1,this[Z]=!1,Se.call(this,ue),H.call(this,ue))},j.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},j.getModel=function(){return this._model},j.getOption=function(){return this._model&&this._model.getOption()},j.getWidth=function(){return this._zr.getWidth()},j.getHeight=function(){return this._zr.getHeight()},j.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},j.getRenderedCanvas=function(W){if(i.canvasSupported){W=W||{},W.pixelRatio=W.pixelRatio||1,W.backgroundColor=W.backgroundColor||this._model.get("backgroundColor");var K=this._zr;return K.painter.getRenderedCanvas(W)}},j.getSvgDataUrl=function(){if(i.svgSupported){var W=this._zr,K=W.storage.getDisplayList();return r.each(K,function(se){se.stopAnimation(!0)}),W.painter.pathToDataUrl()}},j.getDataURL=function(W){W=W||{};var K=W.excludeComponents,se=this._model,ue=[],fe=this;L(K,function(Ae){se.eachComponent({mainType:Ae},function(Re){var Te=fe._componentsMap[Re.__viewId];Te.group.ignore||(ue.push(Te),Te.group.ignore=!0)})});var ge=this._zr.painter.getType()==="svg"?this.getSvgDataUrl():this.getRenderedCanvas(W).toDataURL("image/"+(W&&W.type||"png"));return L(ue,function(Ae){Ae.group.ignore=!1}),ge},j.getConnectedDataURL=function(W){if(i.canvasSupported){var K=this.group,se=Math.min,ue=Math.max,fe=1/0;if(ke[K]){var ge=fe,Ae=fe,Re=-fe,Te=-fe,Be=[],He=W&&W.pixelRatio||1;r.each(Pe,function($t,un){if($t.group===K){var fC=$t.getRenderedCanvas(r.clone(W)),Sa=$t.getDom().getBoundingClientRect();ge=se(Sa.left,ge),Ae=se(Sa.top,Ae),Re=ue(Sa.right,Re),Te=ue(Sa.bottom,Te),Be.push({dom:fC,left:Sa.left,top:Sa.top})}}),ge*=He,Ae*=He,Re*=He,Te*=He;var Ge=Re-ge,At=Te-Ae,rt=r.createCanvas();rt.width=Ge,rt.height=At;var Dt=t.init(rt);return L(Be,function($t){var un=new m.Image({style:{x:$t.left*He-ge,y:$t.top*He-Ae,image:$t.dom}});Dt.add(un)}),Dt.refreshImmediately(),rt.toDataURL("image/"+(W&&W.type||"png"))}else return this.getDataURL(W)}},j.convertToPixel=r.curry(ie,"convertToPixel"),j.convertFromPixel=r.curry(ie,"convertFromPixel");function ie(W,K,se){var ue=this._model,fe=this._coordSysMgr.getCoordinateSystems(),ge;K=_.parseFinder(ue,K);for(var Ae=0;Ae<fe.length;Ae++){var Re=fe[Ae];if(Re[W]&&(ge=Re[W](ue,K,se))!=null)return ge}}j.containPixel=function(W,K){var se=this._model,ue;return W=_.parseFinder(se,W),r.each(W,function(fe,ge){ge.indexOf("Models")>=0&&r.each(fe,function(Ae){var Re=Ae.coordinateSystem;if(Re&&Re.containPoint)ue|=!!Re.containPoint(K);else if(ge==="seriesModels"){var Te=this._chartsMap[Ae.__viewId];Te&&Te.containPoint&&(ue|=Te.containPoint(K,Ae))}},this)},this),!!ue},j.getVisual=function(W,K){var se=this._model;W=_.parseFinder(se,W,{defaultMainType:"series"});var ue=W.seriesModel,fe=ue.getData(),ge=W.hasOwnProperty("dataIndexInside")?W.dataIndexInside:W.hasOwnProperty("dataIndex")?fe.indexOfRawIndex(W.dataIndex):null;return ge!=null?fe.getItemVisual(ge,K):fe.getVisual(K)},j.getViewOfComponentModel=function(W){return this._componentsMap[W.__viewId]},j.getViewOfSeriesModel=function(W){return this._chartsMap[W.__viewId]};var re={prepareAndUpdate:function(W){me(this),re.update.call(this,W)},update:function(W){var K=this._model,se=this._api,ue=this._zr,fe=this._coordSysMgr,ge=this._scheduler;if(K){ge.restoreData(K,W),ge.performSeriesTasks(K),fe.create(K,se),ge.performDataProcessorTasks(K,W),pe(this,K),fe.update(K,se),ne(K),ge.performVisualTasks(K,W),te(this,K,se,W);var Ae=K.get("backgroundColor")||"transparent";if(i.canvasSupported)ue.setBackgroundColor(Ae);else{var Re=a.parse(Ae);Ae=a.stringify(Re,"rgb"),Re[3]===0&&(Ae="transparent")}_e(K,se)}},updateTransform:function(W){var K=this._model,se=this,ue=this._api;if(K){var fe=[];K.eachComponent(function(Ae,Re){var Te=se.getViewOfComponentModel(Re);if(Te&&Te.__alive)if(Te.updateTransform){var Be=Te.updateTransform(Re,K,ue,W);Be&&Be.update&&fe.push(Te)}else fe.push(Te)});var ge=r.createHashMap();K.eachSeries(function(Ae){var Re=se._chartsMap[Ae.__viewId];if(Re.updateTransform){var Te=Re.updateTransform(Ae,K,ue,W);Te&&Te.update&&ge.set(Ae.uid,1)}else ge.set(Ae.uid,1)}),ne(K),this._scheduler.performVisualTasks(K,W,{setDirty:!0,dirtyMap:ge}),he(se,K,ue,W,ge),_e(K,this._api)}},updateView:function(W){var K=this._model;K&&(g.markUpdateMethod(W,"updateView"),ne(K),this._scheduler.performVisualTasks(K,W,{setDirty:!0}),te(this,this._model,this._api,W),_e(K,this._api))},updateVisual:function(W){re.update.call(this,W)},updateLayout:function(W){re.update.call(this,W)}};function me(W){var K=W._model,se=W._scheduler;se.restorePipelines(K),se.prepareStageTasks(),X(W,"component",K,se),X(W,"chart",K,se),se.plan()}function we(W,K,se,ue,fe){var ge=W._model;if(!ue){L(W._componentsViews.concat(W._chartsViews),Be);return}var Ae={};Ae[ue+"Id"]=se[ue+"Id"],Ae[ue+"Index"]=se[ue+"Index"],Ae[ue+"Name"]=se[ue+"Name"];var Re={mainType:ue,query:Ae};fe&&(Re.subType=fe);var Te=se.excludeSeriesId;Te!=null&&(Te=r.createHashMap(_.normalizeToArray(Te))),ge&&ge.eachComponent(Re,function(He){(!Te||Te.get(He.id)==null)&&Be(W[ue==="series"?"_chartsMap":"_componentsMap"][He.__viewId])},W);function Be(He){He&&He.__alive&&He[K]&&He[K](He.__model,ge,W._api,se)}}j.resize=function(W){this._zr.resize(W);var K=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!K){var se=K.resetOption("media"),ue=W&&W.silent;this[Z]=!0,se&&me(this),re.update.call(this),this[Z]=!1,Se.call(this,ue),H.call(this,ue)}};function pe(W,K){var se=W._chartsMap,ue=W._scheduler;K.eachSeries(function(fe){ue.updateStreamModes(fe,se[fe.__viewId])})}j.showLoading=function(W,K){if(P(W)&&(K=W,W=""),W=W||"default",this.hideLoading(),!!tt[W]){var se=tt[W](this._api,K),ue=this._zr;this._loadingFX=se,ue.add(se)}},j.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},j.makeActionFromEvent=function(W){var K=r.extend({},W);return K.type=Le[W.type],K},j.dispatchAction=function(W,K){if(P(K)||(K={silent:!!K}),!!Ee[W.type]&&this._model){if(this[Z]){this._pendingActions.push(W);return}ce.call(this,W,K.silent),K.flush?this._zr.flush(!0):K.flush!==!1&&i.browser.weChat&&this._throttledZrFlush(),Se.call(this,K.silent),H.call(this,K.silent)}};function ce(W,K){var se=W.type,ue=W.escapeConnect,fe=Ee[se],ge=fe.actionInfo,Ae=(ge.update||"update").split(":"),Re=Ae.pop();Ae=Ae[0]!=null&&R(Ae[0]),this[Z]=!0;var Te=[W],Be=!1;W.batch&&(Be=!0,Te=r.map(W.batch,function(rt){return rt=r.defaults(r.extend({},rt),W),rt.batch=null,rt}));var He=[],Ge,At=se==="highlight"||se==="downplay";L(Te,function(rt){Ge=fe.action(rt,this._model,this._api),Ge=Ge||r.extend({},rt),Ge.type=ge.event||Ge.type,He.push(Ge),At?we(this,Re,rt,"series"):Ae&&we(this,Re,rt,Ae.main,Ae.sub)},this),Re!=="none"&&!At&&!Ae&&(this[Y]?(me(this),re.update.call(this,W),this[Y]=!1):re[Re].call(this,W)),Be?Ge={type:ge.event||se,escapeConnect:ue,batch:He}:Ge=He[0],this[Z]=!1,!K&&this._messageCenter.trigger(Ge.type,Ge)}function Se(W){for(var K=this._pendingActions;K.length;){var se=K.shift();ce.call(this,se,W)}}function H(W){!W&&this.trigger("updated")}function U(W,K){W.on("rendered",function(){K.trigger("rendered"),W.animation.isFinished()&&!K[Y]&&!K._scheduler.unfinished&&!K._pendingActions.length&&K.trigger("finished")})}j.appendData=function(W){var K=W.seriesIndex,se=this.getModel(),ue=se.getSeriesByIndex(K);ue.appendData(W),this._scheduler.unfinished=!0},j.on=ee("on"),j.off=ee("off"),j.one=ee("one");function X(W,K,se,ue){for(var fe=K==="component",ge=fe?W._componentsViews:W._chartsViews,Ae=fe?W._componentsMap:W._chartsMap,Re=W._zr,Te=W._api,Be=0;Be<ge.length;Be++)ge[Be].__alive=!1;fe?se.eachComponent(function(At,rt){At!=="series"&&He(rt)}):se.eachSeries(He);function He(At){var rt="_ec_"+At.id+"_"+At.type,Dt=Ae[rt];if(!Dt){var $t=R(At.type),un=fe?p.getClass($t.main,$t.sub):g.getClass($t.sub);Dt=new un,Dt.init(se,Te),Ae[rt]=Dt,ge.push(Dt),Re.add(Dt.group)}At.__viewId=Dt.__id=rt,Dt.__alive=!0,Dt.__model=At,Dt.group.__ecComponentInfo={mainType:At.mainType,index:At.componentIndex},!fe&&ue.prepareView(Dt,At,se,Te)}for(var Be=0;Be<ge.length;){var Ge=ge[Be];Ge.__alive?Be++:(!fe&&Ge.renderTask.dispose(),Re.remove(Ge.group),Ge.dispose(se,Te),ge.splice(Be,1),delete Ae[Ge.__id],Ge.__id=Ge.group.__ecComponentInfo=null)}}function ne(W){W.clearColorPalette(),W.eachSeries(function(K){K.clearColorPalette()})}function te(W,K,se,ue){oe(W,K,se,ue),L(W._chartsViews,function(fe){fe.__alive=!1}),he(W,K,se,ue),L(W._chartsViews,function(fe){fe.__alive||fe.remove(K,se)})}function oe(W,K,se,ue,fe){L(fe||W._componentsViews,function(ge){var Ae=ge.__model;ge.render(Ae,K,se,ue),de(Ae,ge)})}function he(W,K,se,ue,fe){var ge=W._scheduler,Ae;K.eachSeries(function(Re){var Te=W._chartsMap[Re.__viewId];Te.__alive=!0;var Be=Te.renderTask;ge.updatePayload(Be,ue),fe&&fe.get(Re.uid)&&Be.dirty(),Ae|=Be.perform(ge.getPerformArgs(Be)),Te.group.silent=!!Re.get("silent"),de(Re,Te),ye(Re,Te)}),ge.unfinished|=Ae,xe(W._zr,K),w(W._zr.dom,K)}function _e(W,K){L($e,function(se){se(W,K)})}var be=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];j._initEvents=function(){L(be,function(W){this._zr.on(W,function(K){var se=this.getModel(),ue=K.target,fe;if(W==="globalout")fe={};else if(ue&&ue.dataIndex!=null){var ge=ue.dataModel||se.getSeriesByIndex(ue.seriesIndex);fe=ge&&ge.getDataParams(ue.dataIndex,ue.dataType)||{}}else ue&&ue.eventData&&(fe=r.extend({},ue.eventData));fe&&(fe.event=K,fe.type=W,this.trigger(W,fe))},this)},this),L(Le,function(W,K){this._messageCenter.on(K,function(se){this.trigger(K,se)},this)},this)},j.isDisposed=function(){return this._disposed},j.clear=function(){this.setOption({series:[]},!0)},j.dispose=function(){if(!this._disposed){this._disposed=!0,_.setAttribute(this.getDom(),Ve,"");var W=this._api,K=this._model;L(this._componentsViews,function(se){se.dispose(K,W)}),L(this._chartsViews,function(se){se.dispose(K,W)}),this._zr.dispose(),delete Pe[this.id]}},r.mixin(ae,h);function xe(W,K){var se=W.storage,ue=0;se.traverse(function(fe){fe.isGroup||ue++}),ue>K.get("hoverLayerThreshold")&&!i.node&&se.traverse(function(fe){fe.isGroup||(fe.useHoverLayer=!0)})}function ye(W,K){var se=W.get("blendMode")||null;K.group.traverse(function(ue){ue.isGroup||ue.style.blend!==se&&ue.setStyle("blend",se),ue.eachPendingDisplayable&&ue.eachPendingDisplayable(function(fe){fe.setStyle("blend",se)})})}function de(W,K){var se=W.get("z"),ue=W.get("zlevel");K.group.traverse(function(fe){fe.type!=="group"&&(se!=null&&(fe.z=se),ue!=null&&(fe.zlevel=ue))})}function De(W){var K=W._coordSysMgr;return r.extend(new o(W),{getCoordinateSystems:r.bind(K.getCoordinateSystems,K),getComponentByElement:function(se){for(;se;){var ue=se.__ecComponentInfo;if(ue!=null)return W._model.getComponent(ue.mainType,ue.index);se=se.parent}}})}var Ee={},Le={},Ye=[],ht=[],$e=[],qe=[],nt={},tt={},Pe={},ke={},Ne=new Date-0,je=new Date-0,Ve="_echarts_instance_",Ue={};function ot(W){var K=0,se=1,ue=2,fe="__connectUpdateStatus";function ge(Ae,Re){for(var Te=0;Te<Ae.length;Te++){var Be=Ae[Te];Be[fe]=Re}}L(Le,function(Ae,Re){W._messageCenter.on(Re,function(Te){if(ke[W.group]&&W[fe]!==K){if(Te&&Te.escapeConnect)return;var Be=W.makeActionFromEvent(Te),He=[];L(Pe,function(Ge){Ge!==W&&Ge.group===W.group&&He.push(Ge)}),ge(He,K),L(He,function(Ge){Ge[fe]!==se&&Ge.dispatchAction(Be)}),ge(He,ue)}})})}function Gt(W,K,se){var ue=ft(W);if(ue)return ue;var fe=new ae(W,K,se);return fe.id="ec_"+Ne++,Pe[fe.id]=fe,_.setAttribute(W,Ve,fe.id),ot(fe),fe}function Jt(W){if(r.isArray(W)){var K=W;W=null,L(K,function(se){se.group!=null&&(W=se.group)}),W=W||"g_"+je++,L(K,function(se){se.group=W})}return ke[W]=!0,W}function Ft(W){ke[W]=!1}var ct=Ft;function Xe(W){typeof W=="string"?W=Pe[W]:W instanceof ae||(W=ft(W)),W instanceof ae&&!W.isDisposed()&&W.dispose()}function ft(W){return Pe[_.getAttribute(W,Ve)]}function dt(W){return Pe[W]}function _t(W,K){nt[W]=K}function Ir(W){ht.push(W)}function Je(W,K){Wo(Ye,W,K,z)}function xt(W){$e.push(W)}function Pr(W,K,se){typeof K=="function"&&(se=K,K="");var ue=P(W)?W.type:[W,W={event:K}][0];W.event=(W.event||ue).toLowerCase(),K=W.event,C(Q.test(ue)&&Q.test(K)),Ee[ue]||(Ee[ue]={action:se,actionInfo:W}),Le[K]=ue}function xa(W,K){f.register(W,K)}function aC(W){var K=f.get(W);if(K)return K.getDimensionsInfo?K.getDimensionsInfo():K.dimensions.slice()}function iC(W,K){Wo(qe,W,K,N,"layout")}function pd(W,K){Wo(qe,W,K,q,"visual")}function Wo(W,K,se,ue,fe){(I(K)||P(K))&&(se=K,K=ue);var ge=A.wrapStageHandler(se,fe);return ge.__prio=K,ge.__raw=se,W.push(ge),ge}function md(W,K){tt[W]=K}function nC(W){return l.extend(W)}function oC(W){return p.extend(W)}function sC(W){return u.extend(W)}function lC(W){return g.extend(W)}function uC(W){r.$override("createCanvas",W)}function vC(W,K,se){K.geoJson&&!K.features&&(se=K.specialAreas,K=K.geoJson),typeof K=="string"&&(K=typeof JSON<"u"&&JSON.parse?JSON.parse(K):new Function("return ("+K+");")()),Ue[W]={geoJson:K,specialAreas:se}}function hC(W){return Ue[W]}pd(B,x),Ir(c),Je(O,s),md("default",S),Pr({type:"highlight",event:"highlight",update:"highlight"},r.noop),Pr({type:"downplay",event:"downplay",update:"downplay"},r.noop),_t("light",T),_t("dark",M);var cC={};e.version=E,e.dependencies=D,e.PRIORITY=$,e.init=Gt,e.connect=Jt,e.disConnect=Ft,e.disconnect=ct,e.dispose=Xe,e.getInstanceByDom=ft,e.getInstanceById=dt,e.registerTheme=_t,e.registerPreprocessor=Ir,e.registerProcessor=Je,e.registerPostUpdate=xt,e.registerAction=Pr,e.registerCoordinateSystem=xa,e.getCoordinateSystemDimensions=aC,e.registerLayout=iC,e.registerVisual=pd,e.registerLoading=md,e.extendComponentModel=nC,e.extendComponentView=oC,e.extendSeriesModel=sC,e.extendChartView=lC,e.setCanvasCreator=uC,e.registerMap=vC,e.getMap=hC,e.dataTool=cC;var Zo=sT();(function(){for(var W in Zo)Zo.hasOwnProperty(W)&&(e[W]=Zo[W])})()})(ve);var Hp={},Ks,Gp;function tV(){if(Gp)return Ks;Gp=1;var e=Lr(),t=yt,r=t.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});return Ks=r,Ks}var Qs={},Fp;function Jf(){if(Fp)return Qs;Fp=1;var e=Qt,t=e.retrieveRawValue;function r(a,i){var n=a.mapDimension("defaultedLabel",!0),h=n.length;if(h===1)return t(a,i,n[0]);if(h){for(var d=[],o=0;o<n.length;o++){var f=t(a,i,n[o]);d.push(f)}return d.join(" ")}}return Qs.getDefaultLabel=r,Qs}var js,$p;function Vo(){if($p)return js;$p=1;var e=F,t=Ht(),r=t.createSymbol,a=le,i=Ie(),n=i.parsePercent,h=Jf(),d=h.getDefaultLabel;function o(_,y,b){a.Group.call(this),this.updateData(_,y,b)}var f=o.prototype,v=o.getSymbolSize=function(_,y){var b=_.getItemVisual(y,"symbolSize");return b instanceof Array?b.slice():[+b,+b]};function c(_){return[_[0]/2,_[1]/2]}function s(_,y){this.parent.drift(_,y)}f._createSymbol=function(_,y,b,x,w){this.removeAll();var S=y.getItemVisual(b,"color"),A=r(_,-1,-1,2,2,S,w);A.attr({z2:100,culling:!0,scale:c(x)}),A.drift=s,this._symbolType=_,this.add(A)},f.stopSymbolAnimation=function(_){this.childAt(0).stopAnimation(_)},f.getSymbolPath=function(){return this.childAt(0)},f.getScale=function(){return this.childAt(0).scale},f.highlight=function(){this.childAt(0).trigger("emphasis")},f.downplay=function(){this.childAt(0).trigger("normal")},f.setZ=function(_,y){var b=this.childAt(0);b.zlevel=_,b.z=y},f.setDraggable=function(_){var y=this.childAt(0);y.draggable=_,y.cursor=_?"move":"pointer"},f.updateData=function(_,y,b){this.silent=!1;var x=_.getItemVisual(y,"symbol")||"circle",w=_.hostModel,S=v(_,y),A=x!==this._symbolType;if(A){var T=_.getItemVisual(y,"symbolKeepAspect");this._createSymbol(x,_,y,S,T)}else{var M=this.childAt(0);M.silent=!1,a.updateProps(M,{scale:c(S)},w,y)}if(this._updateCommon(_,y,S,b),A){var M=this.childAt(0),C=b&&b.fadeIn,L={scale:M.scale.slice()};C&&(L.style={opacity:M.style.opacity}),M.scale=[0,0],C&&(M.style.opacity=0),a.initProps(M,L,w,y)}this._seriesModel=w};var l=["itemStyle"],u=["emphasis","itemStyle"],p=["label"],g=["emphasis","label"];f._updateCommon=function(_,y,b,x){var w=this.childAt(0),S=_.hostModel,A=_.getItemVisual(y,"color");w.type!=="image"&&w.useStyle({strokeNoScale:!0});var T=x&&x.itemStyle,M=x&&x.hoverItemStyle,C=x&&x.symbolRotate,L=x&&x.symbolOffset,I=x&&x.labelModel,P=x&&x.hoverLabelModel,R=x&&x.hoverAnimation,E=x&&x.cursorStyle;if(!x||_.hasItemOption){var D=x&&x.itemModel?x.itemModel:_.getItemModel(y);T=D.getModel(l).getItemStyle(["color"]),M=D.getModel(u).getItemStyle(),C=D.getShallow("symbolRotate"),L=D.getShallow("symbolOffset"),I=D.getModel(p),P=D.getModel(g),R=D.getShallow("hoverAnimation"),E=D.getShallow("cursor")}else M=e.extend({},M);var k=w.style;w.attr("rotation",(C||0)*Math.PI/180||0),L&&w.attr("position",[n(L[0],b[0]),n(L[1],b[1])]),E&&w.attr("cursor",E),w.setColor(A,x&&x.symbolInnerColor),w.setStyle(T);var z=_.getItemVisual(y,"opacity");z!=null&&(k.opacity=z);var O=_.getItemVisual(y,"liftZ"),N=w.__z2Origin;O!=null?N==null&&(w.__z2Origin=w.z2,w.z2+=O):N!=null&&(w.z2=N,w.__z2Origin=null);var B=x&&x.useNameLabel;a.setLabelStyle(k,M,I,P,{labelFetcher:S,labelDataIndex:y,defaultText:q,isRectText:!0,autoColor:A});function q(Z,Y){return B?_.getName(Z):d(_,Z)}w.off("mouseover").off("mouseout").off("emphasis").off("normal"),w.hoverStyle=M,a.setHoverStyle(w);var V=c(b);if(R&&S.isAnimationEnabled()){var G=function(){if(!this.incremental){var Z=V[1]/V[0];this.animateTo({scale:[Math.max(V[0]*1.1,V[0]+3),Math.max(V[1]*1.1,V[1]+3*Z)]},400,"elasticOut")}},$=function(){this.incremental||this.animateTo({scale:V},400,"elasticOut")};w.on("mouseover",G).on("mouseout",$).on("emphasis",G).on("normal",$)}},f.fadeOut=function(_,y){var b=this.childAt(0);this.silent=b.silent=!0,!(y&&y.keepLabel)&&(b.style.text=null),a.updateProps(b,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,_)},e.inherits(o,a.Group);var m=o;return js=m,js}var Js,Up;function en(){if(Up)return Js;Up=1;var e=le,t=Vo(),r=F,a=r.isObject;function i(v){this.group=new e.Group,this._symbolCtor=v||t}var n=i.prototype;function h(v,c,s,l){return c&&!isNaN(c[0])&&!isNaN(c[1])&&!(l.isIgnore&&l.isIgnore(s))&&!(l.clipShape&&!l.clipShape.contain(c[0],c[1]))&&v.getItemVisual(s,"symbol")!=="none"}n.updateData=function(v,c){c=d(c);var s=this.group,l=v.hostModel,u=this._data,p=this._symbolCtor,g=o(v);u||s.removeAll(),v.diff(u).add(function(m){var _=v.getItemLayout(m);if(h(v,_,m,c)){var y=new p(v,m,g);y.attr("position",_),v.setItemGraphicEl(m,y),s.add(y)}}).update(function(m,_){var y=u.getItemGraphicEl(_),b=v.getItemLayout(m);if(!h(v,b,m,c)){s.remove(y);return}y?(y.updateData(v,m,g),e.updateProps(y,{position:b},l)):(y=new p(v,m),y.attr("position",b)),s.add(y),v.setItemGraphicEl(m,y)}).remove(function(m){var _=u.getItemGraphicEl(m);_&&_.fadeOut(function(){s.remove(_)})}).execute(),this._data=v},n.isPersistent=function(){return!0},n.updateLayout=function(){var v=this._data;v&&v.eachItemGraphicEl(function(c,s){var l=v.getItemLayout(s);c.attr("position",l)})},n.incrementalPrepareUpdate=function(v){this._seriesScope=o(v),this._data=null,this.group.removeAll()},n.incrementalUpdate=function(v,c,s){s=d(s);function l(m){m.isGroup||(m.incremental=m.useHoverLayer=!0)}for(var u=v.start;u<v.end;u++){var p=c.getItemLayout(u);if(h(c,p,u,s)){var g=new this._symbolCtor(c,u,this._seriesScope);g.traverse(l),g.attr("position",p),this.group.add(g),c.setItemGraphicEl(u,g)}}};function d(v){return v!=null&&!a(v)&&(v={isIgnore:v}),v||{}}n.remove=function(v){var c=this.group,s=this._data;s&&v?s.eachItemGraphicEl(function(l){l.fadeOut(function(){c.remove(l)})}):c.removeAll()};function o(v){var c=v.hostModel;return{itemStyle:c.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:c.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:c.get("symbolRotate"),symbolOffset:c.get("symbolOffset"),hoverAnimation:c.get("hoverAnimation"),labelModel:c.getModel("label"),hoverLabelModel:c.getModel("emphasis.label"),cursorStyle:c.get("cursor")}}var f=i;return Js=f,Js}var Rn={},Wp;function lT(){if(Wp)return Rn;Wp=1;var e=Dr(),t=e.isDimensionStacked,r=F,a=r.map;function i(d,o,f){var v=d.getBaseAxis(),c=d.getOtherAxis(v),s=n(c,f),l=v.dim,u=c.dim,p=o.mapDimension(u),g=o.mapDimension(l),m=u==="x"||u==="radius"?1:0,_=a(d.dimensions,function(x){return o.mapDimension(x)}),y,b=o.getCalculationInfo("stackResultDimension");return(y|=t(o,_[0]))&&(_[0]=b),(y|=t(o,_[1]))&&(_[1]=b),{dataDimsForPoint:_,valueStart:s,valueAxisDim:u,baseAxisDim:l,stacked:!!y,valueDim:p,baseDim:g,baseDataOffset:m,stackedOverDimension:o.getCalculationInfo("stackedOverDimension")}}function n(d,o){var f=0,v=d.scale.getExtent();return o==="start"?f=v[0]:o==="end"?f=v[1]:v[0]>0?f=v[0]:v[1]<0&&(f=v[1]),f}function h(d,o,f,v){var c=NaN;d.stacked&&(c=f.get(f.getCalculationInfo("stackedOverDimension"),v)),isNaN(c)&&(c=d.valueStart);var s=d.baseDataOffset,l=[];return l[s]=f.get(d.baseDim,v),l[1-s]=c,o.dataToPoint(l)}return Rn.prepareDataCoordInfo=i,Rn.getStackedOnPoint=h,Rn}var el,Zp;function rV(){if(Zp)return el;Zp=1;var e=lT(),t=e.prepareDataCoordInfo,r=e.getStackedOnPoint;function a(n,h){var d=[];return h.diff(n).add(function(o){d.push({cmd:"+",idx:o})}).update(function(o,f){d.push({cmd:"=",idx:f,idx1:o})}).remove(function(o){d.push({cmd:"-",idx:o})}).execute(),d}function i(n,h,d,o,f,v,c,s){for(var l=a(n,h),u=[],p=[],g=[],m=[],_=[],y=[],b=[],x=t(f,h,c),w=t(v,n,s),S=0;S<l.length;S++){var A=l[S],T=!0;switch(A.cmd){case"=":var M=n.getItemLayout(A.idx),C=h.getItemLayout(A.idx1);(isNaN(M[0])||isNaN(M[1]))&&(M=C.slice()),u.push(M),p.push(C),g.push(d[A.idx]),m.push(o[A.idx1]),b.push(h.getRawIndex(A.idx1));break;case"+":var L=A.idx;u.push(f.dataToPoint([h.get(x.dataDimsForPoint[0],L),h.get(x.dataDimsForPoint[1],L)])),p.push(h.getItemLayout(L).slice()),g.push(r(x,f,h,L)),m.push(o[L]),b.push(h.getRawIndex(L));break;case"-":var L=A.idx,I=n.getRawIndex(L);I!==L?(u.push(n.getItemLayout(L)),p.push(v.dataToPoint([n.get(w.dataDimsForPoint[0],L),n.get(w.dataDimsForPoint[1],L)])),g.push(d[L]),m.push(r(w,v,n,L)),b.push(I)):T=!1}T&&(_.push(A),y.push(y.length))}y.sort(function(z,O){return b[z]-b[O]});for(var P=[],R=[],E=[],D=[],k=[],S=0;S<y.length;S++){var L=y[S];P[S]=u[L],R[S]=p[L],E[S]=g[L],D[S]=m[L],k[S]=_[L]}return{current:P,next:R,stackedOnCurrent:E,stackedOnNext:D,status:k}}return el=i,el}var En={},Yp;function uT(){if(Yp)return En;Yp=1;var e=it,t=Ce,r=Qw,a=t.min,i=t.max,n=t.scaleAndAdd,h=t.copy,d=[],o=[],f=[];function v(m){return isNaN(m[0])||isNaN(m[1])}function c(m,_,y,b,x,w,S,A,T,M,C){return M==="none"||!M?l.apply(this,arguments):s.apply(this,arguments)}function s(m,_,y,b,x,w,S,A,T,M,C){for(var L=0,I=y,P=0;P<b;P++){var R=_[I];if(I>=x||I<0)break;if(v(R)){if(C){I+=w;continue}break}if(I===y)m[w>0?"moveTo":"lineTo"](R[0],R[1]);else if(T>0){var E=_[L],D=M==="y"?1:0,k=(R[D]-E[D])*T;h(o,E),o[D]=E[D]+k,h(f,R),f[D]=R[D]-k,m.bezierCurveTo(o[0],o[1],f[0],f[1],R[0],R[1])}else m.lineTo(R[0],R[1]);L=I,I+=w}return P}function l(m,_,y,b,x,w,S,A,T,M,C){for(var L=0,I=y,P=0;P<b;P++){var R=_[I];if(I>=x||I<0)break;if(v(R)){if(C){I+=w;continue}break}if(I===y)m[w>0?"moveTo":"lineTo"](R[0],R[1]),h(o,R);else if(T>0){var E=I+w,z=_[E];if(C)for(;z&&v(_[E]);)E+=w,z=_[E];var D=.5,k=_[L],z=_[E];if(!z||v(z))h(f,R);else{v(z)&&!C&&(z=R),t.sub(d,z,k);var O,N;if(M==="x"||M==="y"){var B=M==="x"?0:1;O=Math.abs(R[B]-k[B]),N=Math.abs(R[B]-z[B])}else O=t.dist(R,k),N=t.dist(R,z);D=N/(N+O),n(f,R,d,-T*(1-D))}a(o,o,A),i(o,o,S),a(f,f,A),i(f,f,S),m.bezierCurveTo(o[0],o[1],f[0],f[1],R[0],R[1]),n(o,R,d,T*D)}else m.lineTo(R[0],R[1]);L=I,I+=w}return P}function u(m,_){var y=[1/0,1/0],b=[-1/0,-1/0];if(_)for(var x=0;x<m.length;x++){var w=m[x];w[0]<y[0]&&(y[0]=w[0]),w[1]<y[1]&&(y[1]=w[1]),w[0]>b[0]&&(b[0]=w[0]),w[1]>b[1]&&(b[1]=w[1])}return{min:_?y:b,max:_?b:y}}var p=e.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:r(e.prototype.brush),buildPath:function(m,_){var y=_.points,b=0,x=y.length,w=u(y,_.smoothConstraint);if(_.connectNulls){for(;x>0&&v(y[x-1]);x--);for(;b<x&&v(y[b]);b++);}for(;b<x;)b+=c(m,y,b,x,x,1,w.min,w.max,_.smooth,_.smoothMonotone,_.connectNulls)+1}}),g=e.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:r(e.prototype.brush),buildPath:function(m,_){var y=_.points,b=_.stackedOnPoints,x=0,w=y.length,S=_.smoothMonotone,A=u(y,_.smoothConstraint),T=u(b,_.smoothConstraint);if(_.connectNulls){for(;w>0&&v(y[w-1]);w--);for(;x<w&&v(y[x]);x++);}for(;x<w;){var M=c(m,y,x,w,w,1,A.min,A.max,_.smooth,S,_.connectNulls);c(m,b,x+M-1,M,w,-1,T.min,T.max,_.stackedOnSmooth,S,_.connectNulls),x+=M+1,m.closePath()}}});return En.Polyline=p,En.Polygon=g,En}var tl,Xp;function aV(){if(Xp)return tl;Xp=1;var e=F,t=en(),r=Vo(),a=rV(),i=le,n=Me,h=uT(),d=h.Polyline,o=h.Polygon,f=Mr,v=Ie(),c=v.round,s=lT(),l=s.prepareDataCoordInfo,u=s.getStackedOnPoint;function p(C,L){if(C.length===L.length){for(var I=0;I<C.length;I++){var P=C[I],R=L[I];if(P[0]!==R[0]||P[1]!==R[1])return}return!0}}function g(C){return typeof C=="number"?C:C?.5:0}function m(C){var L=C.getGlobalExtent();if(C.onBand){var I=C.getBandWidth()/2-1,P=L[1]>L[0]?1:-1;L[0]+=P*I,L[1]-=P*I}return L}function _(C,L,I){if(!I.valueDim)return[];for(var P=[],R=0,E=L.count();R<E;R++)P.push(u(I,C,L,R));return P}function y(C,L,I,P){var R=m(C.getAxis("x")),E=m(C.getAxis("y")),D=C.getBaseAxis().isHorizontal(),k=Math.min(R[0],R[1]),z=Math.min(E[0],E[1]),O=Math.max(R[0],R[1])-k,N=Math.max(E[0],E[1])-z;if(I)k-=.5,O+=.5,z-=.5,N+=.5;else{var B=P.get("lineStyle.width")||2,q=P.get("clipOverflow")?B/2:Math.max(O,N);D?(z-=q,N+=q*2):(k-=q,O+=q*2)}var V=new i.Rect({shape:{x:k,y:z,width:O,height:N}});return L&&(V.shape[D?"width":"height"]=0,i.initProps(V,{shape:{width:O,height:N}},P)),V}function b(C,L,I,P){var R=C.getAngleAxis(),E=C.getRadiusAxis(),D=E.getExtent().slice();D[0]>D[1]&&D.reverse();var k=R.getExtent(),z=Math.PI/180;I&&(D[0]-=.5,D[1]+=.5);var O=new i.Sector({shape:{cx:c(C.cx,1),cy:c(C.cy,1),r0:c(D[0],1),r:c(D[1],1),startAngle:-k[0]*z,endAngle:-k[1]*z,clockwise:R.inverse}});return L&&(O.shape.endAngle=-k[0]*z,i.initProps(O,{shape:{endAngle:-k[1]*z}},P)),O}function x(C,L,I,P){return C.type==="polar"?b(C,L,I,P):y(C,L,I,P)}function w(C,L,I){for(var P=L.getBaseAxis(),R=P.dim==="x"||P.dim==="radius"?0:1,E=[],D=0;D<C.length-1;D++){var k=C[D+1],z=C[D];E.push(z);var O=[];switch(I){case"end":O[R]=k[R],O[1-R]=z[1-R],E.push(O);break;case"middle":var N=(z[R]+k[R])/2,B=[];O[R]=B[R]=N,O[1-R]=z[1-R],B[1-R]=k[1-R],E.push(O),E.push(B);break;default:O[R]=z[R],O[1-R]=k[1-R],E.push(O)}}return C[D]&&E.push(C[D]),E}function S(C,L){var I=C.getVisual("visualMeta");if(!(!I||!I.length||!C.count())&&L.type==="cartesian2d"){for(var P,R,E=I.length-1;E>=0;E--){var D=I[E].dimension,k=C.dimensions[D],z=C.getDimensionInfo(k);if(P=z&&z.coordDim,P==="x"||P==="y"){R=I[E];break}}if(R){var O=L.getAxis(P),N=e.map(R.stops,function(Q){return{coord:O.toGlobalCoord(O.dataToCoord(Q.value)),color:Q.color}}),B=N.length,q=R.outerColors.slice();B&&N[0].coord>N[B-1].coord&&(N.reverse(),q.reverse());var V=10,G=N[0].coord-V,$=N[B-1].coord+V,Z=$-G;if(Z<.001)return"transparent";e.each(N,function(Q){Q.offset=(Q.coord-G)/Z}),N.push({offset:B?N[B-1].offset:.5,color:q[1]||"transparent"}),N.unshift({offset:B?N[0].offset:.5,color:q[0]||"transparent"});var Y=new i.LinearGradient(0,0,0,0,N,!0);return Y[P]=G,Y[P+"2"]=$,Y}}}function A(C,L,I){var P=C.get("showAllSymbol"),R=P==="auto";if(!(P&&!R)){var E=I.getAxesByScale("ordinal")[0];if(E&&!(R&&T(E,L))){var D=L.mapDimension(E.dim),k={};return e.each(E.getViewLabels(),function(z){k[z.tickValue]=1}),function(z){return!k.hasOwnProperty(L.get(D,z))}}}}function T(C,L){var I=C.getExtent(),P=Math.abs(I[1]-I[0])/C.scale.count();isNaN(P)&&(P=0);for(var R=L.count(),E=Math.max(1,Math.round(R/5)),D=0;D<R;D+=E)if(r.getSymbolSize(L,D)[C.isHorizontal()?1:0]*1.5>P)return!1;return!0}var M=f.extend({type:"line",init:function(){var C=new i.Group,L=new t;this.group.add(L.group),this._symbolDraw=L,this._lineGroup=C},render:function(C,L,I){var P=C.coordinateSystem,R=this.group,E=C.getData(),D=C.getModel("lineStyle"),k=C.getModel("areaStyle"),z=E.mapArray(E.getItemLayout),O=P.type==="polar",N=this._coordSys,B=this._symbolDraw,q=this._polyline,V=this._polygon,G=this._lineGroup,$=C.get("animation"),Z=!k.isEmpty(),Y=k.get("origin"),Q=l(P,E,Y),ee=_(P,E,Q),J=C.get("showSymbol"),ae=J&&!O&&A(C,E,P),j=this._data;j&&j.eachItemGraphicEl(function(ce,Se){ce.__temp&&(R.remove(ce),j.setItemGraphicEl(Se,null))}),J||B.remove(),R.add(G);var ie=!O&&C.get("step");q&&N.type===P.type&&ie===this._step?(Z&&!V?V=this._newPolygon(z,ee,P,$):V&&!Z&&(G.remove(V),V=this._polygon=null),G.setClipPath(x(P,!1,!1,C)),J&&B.updateData(E,{isIgnore:ae,clipShape:x(P,!1,!0,C)}),E.eachItemGraphicEl(function(ce){ce.stopAnimation(!0)}),(!p(this._stackedOnPoints,ee)||!p(this._points,z))&&($?this._updateAnimation(E,ee,P,I,ie,Y):(ie&&(z=w(z,P,ie),ee=w(ee,P,ie)),q.setShape({points:z}),V&&V.setShape({points:z,stackedOnPoints:ee})))):(J&&B.updateData(E,{isIgnore:ae,clipShape:x(P,!1,!0,C)}),ie&&(z=w(z,P,ie),ee=w(ee,P,ie)),q=this._newPolyline(z,P,$),Z&&(V=this._newPolygon(z,ee,P,$)),G.setClipPath(x(P,!0,!1,C)));var re=S(E,P)||E.getVisual("color");q.useStyle(e.defaults(D.getLineStyle(),{fill:"none",stroke:re,lineJoin:"bevel"}));var me=C.get("smooth");if(me=g(C.get("smooth")),q.setShape({smooth:me,smoothMonotone:C.get("smoothMonotone"),connectNulls:C.get("connectNulls")}),V){var we=E.getCalculationInfo("stackedOnSeries"),pe=0;V.useStyle(e.defaults(k.getAreaStyle(),{fill:re,opacity:.7,lineJoin:"bevel"})),we&&(pe=g(we.get("smooth"))),V.setShape({smooth:me,stackedOnSmooth:pe,smoothMonotone:C.get("smoothMonotone"),connectNulls:C.get("connectNulls")})}this._data=E,this._coordSys=P,this._stackedOnPoints=ee,this._points=z,this._step=ie,this._valueOrigin=Y},dispose:function(){},highlight:function(C,L,I,P){var R=C.getData(),E=n.queryDataIndex(R,P);if(!(E instanceof Array)&&E!=null&&E>=0){var D=R.getItemGraphicEl(E);if(!D){var k=R.getItemLayout(E);if(!k)return;D=new r(R,E),D.position=k,D.setZ(C.get("zlevel"),C.get("z")),D.ignore=isNaN(k[0])||isNaN(k[1]),D.__temp=!0,R.setItemGraphicEl(E,D),D.stopSymbolAnimation(!0),this.group.add(D)}D.highlight()}else f.prototype.highlight.call(this,C,L,I,P)},downplay:function(C,L,I,P){var R=C.getData(),E=n.queryDataIndex(R,P);if(E!=null&&E>=0){var D=R.getItemGraphicEl(E);D&&(D.__temp?(R.setItemGraphicEl(E,null),this.group.remove(D)):D.downplay())}else f.prototype.downplay.call(this,C,L,I,P)},_newPolyline:function(C){var L=this._polyline;return L&&this._lineGroup.remove(L),L=new d({shape:{points:C},silent:!0,z2:10}),this._lineGroup.add(L),this._polyline=L,L},_newPolygon:function(C,L){var I=this._polygon;return I&&this._lineGroup.remove(I),I=new o({shape:{points:C,stackedOnPoints:L},silent:!0}),this._lineGroup.add(I),this._polygon=I,I},_updateAnimation:function(C,L,I,P,R,E){var D=this._polyline,k=this._polygon,z=C.hostModel,O=a(this._data,C,this._stackedOnPoints,L,this._coordSys,I,this._valueOrigin,E),N=O.current,B=O.stackedOnCurrent,q=O.next,V=O.stackedOnNext;R&&(N=w(O.current,I,R),B=w(O.stackedOnCurrent,I,R),q=w(O.next,I,R),V=w(O.stackedOnNext,I,R)),D.shape.__points=O.current,D.shape.points=N,i.updateProps(D,{shape:{points:q}},z),k&&(k.setShape({points:N,stackedOnPoints:B}),i.updateProps(k,{shape:{points:q,stackedOnPoints:V}},z));for(var G=[],$=O.status,Z=0;Z<$.length;Z++){var Y=$[Z].cmd;if(Y==="="){var Q=C.getItemGraphicEl($[Z].idx1);Q&&G.push({el:Q,ptIdx:Z})}}D.animators&&D.animators.length&&D.animators[0].during(function(){for(var ee=0;ee<G.length;ee++){var J=G[ee].el;J.attr("position",D.shape.__points[G[ee].ptIdx])}})},remove:function(C){var L=this.group,I=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),I&&I.eachItemGraphicEl(function(P,R){P.__temp&&(L.remove(P),I.setItemGraphicEl(R,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});return tl=M,tl}var rl,Kp;function ga(){if(Kp)return rl;Kp=1;function e(t,r,a){return{seriesType:t,performRawSeries:!0,reset:function(i,n,h){var d=i.getData(),o=i.get("symbol")||r,f=i.get("symbolSize"),v=i.get("symbolKeepAspect");if(d.setVisual({legendSymbol:a||o,symbol:o,symbolSize:f,symbolKeepAspect:v}),n.isSeriesFiltered(i))return;var c=typeof f=="function";function s(l,u){if(typeof f=="function"){var p=i.getRawValue(u),g=i.getDataParams(u);l.setItemVisual(u,"symbolSize",f(p,g))}if(l.hasItemOption){var m=l.getItemModel(u),_=m.getShallow("symbol",!0),y=m.getShallow("symbolSize",!0),b=m.getShallow("symbolKeepAspect",!0);_!=null&&l.setItemVisual(u,"symbol",_),y!=null&&l.setItemVisual(u,"symbolSize",y),b!=null&&l.setItemVisual(u,"symbolKeepAspect",b)}}return{dataEach:d.hasItemOption||c?s:null}}}}return rl=e,rl}var al,Qp;function tn(){if(Qp)return al;Qp=1;var e=F,t=e.map,r=ai,a=Dr(),i=a.isDimensionStacked;function n(h){return{seriesType:h,plan:r(),reset:function(d){var o=d.getData(),f=d.coordinateSystem,v=d.pipelineContext,c=v.large;if(!f)return;var s=t(f.dimensions,function(g){return o.mapDimension(g)}).slice(0,2),l=s.length,u=o.getCalculationInfo("stackResultDimension");i(o,s[0])&&(s[0]=u),i(o,s[1])&&(s[1]=u);function p(g,m){for(var _=g.end-g.start,y=c&&new Float32Array(_*l),b=g.start,x=0,w=[],S=[];b<g.end;b++){var A;if(l===1){var T=m.get(s[0],b);A=!isNaN(T)&&f.dataToPoint(T,null,S)}else{var T=w[0]=m.get(s[0],b),M=w[1]=m.get(s[1],b);A=!isNaN(T)&&!isNaN(M)&&f.dataToPoint(w,null,S)}c?(y[x++]=A?A[0]:NaN,y[x++]=A?A[1]:NaN):m.setItemLayout(b,A&&A.slice()||[NaN,NaN])}c&&m.setLayout("symbolPoints",y)}return l&&{progress:p}}}}return al=n,al}var il,jp;function iV(){if(jp)return il;jp=1;var e={average:function(a){for(var i=0,n=0,h=0;h<a.length;h++)isNaN(a[h])||(i+=a[h],n++);return n===0?NaN:i/n},sum:function(a){for(var i=0,n=0;n<a.length;n++)i+=a[n]||0;return i},max:function(a){for(var i=-1/0,n=0;n<a.length;n++)a[n]>i&&(i=a[n]);return isFinite(i)?i:NaN},min:function(a){for(var i=1/0,n=0;n<a.length;n++)a[n]<i&&(i=a[n]);return isFinite(i)?i:NaN},nearest:function(a){return a[0]}},t=function(a,i){return Math.round(a.length/2)};function r(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(i,n,h){var d=i.getData(),o=i.get("sampling"),f=i.coordinateSystem;if(f.type==="cartesian2d"&&o){var v=f.getBaseAxis(),c=f.getOtherAxis(v),s=v.getExtent(),l=s[1]-s[0],u=Math.round(d.count()/l);if(u>1){var p;typeof o=="string"?p=e[o]:typeof o=="function"&&(p=o),p&&i.setData(d.downSample(d.mapDimension(c.dim),1/u,p,t))}}}}}return il=r,il}var Jp={},nl,em;function nV(){if(em)return nl;em=1;var e=F;function t(i){return this._axes[i]}var r=function(i){this._axes={},this._dimList=[],this.name=i||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(i){return this._axes[i]},getAxes:function(){return e.map(this._dimList,t,this)},getAxesByScale:function(i){return i=i.toLowerCase(),e.filter(this.getAxes(),function(n){return n.scale.type===i})},addAxis:function(i){var n=i.dim;this._axes[n]=i,this._dimList.push(n)},dataToCoord:function(i){return this._dataCoordConvert(i,"dataToCoord")},coordToData:function(i){return this._dataCoordConvert(i,"coordToData")},_dataCoordConvert:function(i,n){for(var h=this._dimList,d=i instanceof Array?[]:{},o=0;o<h.length;o++){var f=h[o],v=this._axes[f];d[f]=v[n](i[f])}return d}};var a=r;return nl=a,nl}var ol,tm;function oV(){if(tm)return ol;tm=1;var e=F,t=nV();function r(i){t.call(this,i)}r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(i){var n=this.getAxis("x"),h=this.getAxis("y");return n.contain(n.toLocalCoord(i[0]))&&h.contain(h.toLocalCoord(i[1]))},containData:function(i){return this.getAxis("x").containData(i[0])&&this.getAxis("y").containData(i[1])},dataToPoint:function(i,n,h){var d=this.getAxis("x"),o=this.getAxis("y");return h=h||[],h[0]=d.toGlobalCoord(d.dataToCoord(i[0])),h[1]=o.toGlobalCoord(o.dataToCoord(i[1])),h},clampData:function(i,n){var h=this.getAxis("x").scale,d=this.getAxis("y").scale,o=h.getExtent(),f=d.getExtent(),v=h.parse(i[0]),c=d.parse(i[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),v),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(f[0],f[1]),c),Math.max(f[0],f[1])),n},pointToData:function(i,n){var h=this.getAxis("x"),d=this.getAxis("y");return n=n||[],n[0]=h.coordToData(h.toLocalCoord(i[0])),n[1]=d.coordToData(d.toLocalCoord(i[1])),n},getOtherAxis:function(i){return this.getAxis(i.dim==="x"?"y":"x")}},e.inherits(r,t);var a=r;return ol=a,ol}var sl,rm;function sV(){if(rm)return sl;rm=1;var e=F,t=Yr(),r=function(i,n,h,d,o){t.call(this,i,n,h),this.type=d||"value",this.position=o||"bottom"};r.prototype={constructor:r,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},getGlobalExtent:function(i){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),i&&n[0]>n[1]&&n.reverse(),n},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(i,n){return this.coordToData(this.toLocalCoord(i[this.dim==="x"?0:1]),n)},toLocalCoord:null,toGlobalCoord:null},e.inherits(r,t);var a=r;return sl=a,sl}var ll,am;function vT(){if(am)return ll;am=1;var e=F,t={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},r={};r.categoryAxis=e.merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},t),r.valueAxis=e.merge({boundaryGap:[0,0],splitNumber:5},t),r.timeAxis=e.defaults({scale:!0,min:"dataMin",max:"dataMax"},r.valueAxis),r.logAxis=e.defaults({scale:!0,logBase:10},r.valueAxis);var a=r;return ll=a,ll}var ul,im;function Bo(){if(im)return ul;im=1;var e=F,t=vT(),r=vt,a=ze,i=a.getLayoutParams,n=a.mergeLayoutParam,h=rT(),d=["value","category","time","log"];function o(f,v,c,s){e.each(d,function(l){v.extend({type:f+"Axis."+l,mergeDefaultAndTheme:function(u,p){var g=this.layoutMode,m=g?i(u):{},_=p.getTheme();e.merge(u,_.get(l+"Axis")),e.merge(u,this.getDefaultOption()),u.type=c(f,u),g&&n(u,m,g)},optionUpdated:function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=h.createByAxisModel(this))},getCategories:function(u){var p=this.option;if(p.type==="category")return u?p.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:e.mergeAll([{},t[l+"Axis"],s],!0)})}),r.registerSubTypeDefaulter(f+"Axis",e.curry(c,f))}return ul=o,ul}var vl,nm;function hT(){if(nm)return vl;nm=1;var e=F,t=vt,r=Bo(),a=si(),i=t.extend({type:"cartesian2dAxis",axis:null,init:function(){i.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){i.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){i.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function n(o,f){return f.type||(f.data?"category":"value")}e.merge(i.prototype,a);var h={offset:0};r("x",i,n,h),r("y",i,n,h);var d=i;return vl=d,vl}var hl,om;function lV(){if(om)return hl;om=1,hT();var e=vt,t=e.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});return hl=t,hl}var cl,sm;function ed(){if(sm)return cl;sm=1;var e=F,t=e.isObject,r=e.each,a=e.map,i=e.indexOf;e.retrieve;var n=ze,h=n.getLayoutRect,d=jt(),o=d.createScaleByModel,f=d.ifAxisCrossZero,v=d.niceScaleExtent,c=d.estimateLabelUnionRect,s=oV(),l=sV(),u=cr,p=Dr(),g=p.getStackedDimension;lV();function m(C,L,I){return C.getCoordSysModel()===L}function _(C,L,I){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(C,L,I),this.model=C}var y=_.prototype;y.type="grid",y.axisPointerEnabled=!0,y.getRect=function(){return this._rect},y.update=function(C,L){var I=this._axesMap;this._updateScale(C,this.model),r(I.x,function(P){v(P.scale,P.model)}),r(I.y,function(P){v(P.scale,P.model)}),r(I.x,function(P){b(I,"y",P)}),r(I.y,function(P){b(I,"x",P)}),this.resize(this.model,L)};function b(C,L,I){I.getAxesOnZeroOf=function(){return R?[R]:[]};var P=C[L],R,E=I.model,D=E.get("axisLine.onZero"),k=E.get("axisLine.onZeroAxisIndex");if(D){if(k!=null){x(P[k])&&(R=P[k]);return}for(var z in P)if(P.hasOwnProperty(z)&&x(P[z])){R=P[z];break}}}function x(C){return C&&C.type!=="category"&&C.type!=="time"&&f(C)}y.resize=function(C,L,I){var P=h(C.getBoxLayoutParams(),{width:L.getWidth(),height:L.getHeight()});this._rect=P;var R=this._axesList;E(),!I&&C.get("containLabel")&&(r(R,function(D){if(!D.model.get("axisLabel.inside")){var k=c(D);if(k){var z=D.isHorizontal()?"height":"width",O=D.model.get("axisLabel.margin");P[z]-=k[z]+O,D.position==="top"?P.y+=k.height+O:D.position==="left"&&(P.x+=k.width+O)}}}),E());function E(){r(R,function(D){var k=D.isHorizontal(),z=k?[0,P.width]:[0,P.height],O=D.inverse?1:0;D.setExtent(z[O],z[1-O]),w(D,k?P.x:P.y)})}},y.getAxis=function(C,L){var I=this._axesMap[C];if(I!=null){if(L==null){for(var P in I)if(I.hasOwnProperty(P))return I[P]}return I[L]}},y.getAxes=function(){return this._axesList.slice()},y.getCartesian=function(C,L){if(C!=null&&L!=null){var I="x"+C+"y"+L;return this._coordsMap[I]}t(C)&&(L=C.yAxisIndex,C=C.xAxisIndex);for(var P=0,R=this._coordsList;P<R.length;P++)if(R[P].getAxis("x").index===C||R[P].getAxis("y").index===L)return R[P]},y.getCartesians=function(){return this._coordsList.slice()},y.convertToPixel=function(C,L,I){var P=this._findConvertTarget(C,L);return P.cartesian?P.cartesian.dataToPoint(I):P.axis?P.axis.toGlobalCoord(P.axis.dataToCoord(I)):null},y.convertFromPixel=function(C,L,I){var P=this._findConvertTarget(C,L);return P.cartesian?P.cartesian.pointToData(I):P.axis?P.axis.coordToData(P.axis.toLocalCoord(I)):null},y._findConvertTarget=function(C,L){var I=L.seriesModel,P=L.xAxisModel||I&&I.getReferringComponents("xAxis")[0],R=L.yAxisModel||I&&I.getReferringComponents("yAxis")[0],E=L.gridModel,D=this._coordsList,k,z;if(I)k=I.coordinateSystem,i(D,k)<0&&(k=null);else if(P&&R)k=this.getCartesian(P.componentIndex,R.componentIndex);else if(P)z=this.getAxis("x",P.componentIndex);else if(R)z=this.getAxis("y",R.componentIndex);else if(E){var O=E.coordinateSystem;O===this&&(k=this._coordsList[0])}return{cartesian:k,axis:z}},y.containPoint=function(C){var L=this._coordsList[0];if(L)return L.containPoint(C)},y._initCartesian=function(C,L,I){var P={left:!1,right:!1,top:!1,bottom:!1},R={x:{},y:{}},E={x:0,y:0};if(L.eachComponent("xAxis",D("x"),this),L.eachComponent("yAxis",D("y"),this),!E.x||!E.y){this._axesMap={},this._axesList=[];return}this._axesMap=R,r(R.x,function(k,z){r(R.y,function(O,N){var B="x"+z+"y"+N,q=new s(B);q.grid=this,q.model=C,this._coordsMap[B]=q,this._coordsList.push(q),q.addAxis(k),q.addAxis(O)},this)},this);function D(k){return function(z,O){if(m(z,C)){var N=z.get("position");k==="x"?N!=="top"&&N!=="bottom"&&(N="bottom",P[N]&&(N=N==="top"?"bottom":"top")):N!=="left"&&N!=="right"&&(N="left",P[N]&&(N=N==="left"?"right":"left")),P[N]=!0;var B=new l(k,o(z),[0,0],z.get("type"),N),q=B.type==="category";B.onBand=q&&z.get("boundaryGap"),B.inverse=z.get("inverse"),z.axis=B,B.model=z,B.grid=this,B.index=O,this._axesList.push(B),R[k][O]=B,E[k]++}}}},y._updateScale=function(C,L){r(this._axesList,function(P){P.scale.setExtent(1/0,-1/0)}),C.eachSeries(function(P){if(T(P)){var R=A(P),E=R[0],D=R[1];if(!m(E,L)||!m(D,L))return;var k=this.getCartesian(E.componentIndex,D.componentIndex),z=P.getData(),O=k.getAxis("x"),N=k.getAxis("y");z.type==="list"&&(I(z,O),I(z,N))}},this);function I(P,R,E){r(P.mapDimension(R.dim,!0),function(D){R.scale.unionExtentFromData(P,g(P,D))})}},y.getTooltipAxes=function(C){var L=[],I=[];return r(this.getCartesians(),function(P){var R=C!=null&&C!=="auto"?P.getAxis(C):P.getBaseAxis(),E=P.getOtherAxis(R);i(L,R)<0&&L.push(R),i(I,E)<0&&I.push(E)}),{baseAxes:L,otherAxes:I}};function w(C,L){var I=C.getExtent(),P=I[0]+I[1];C.toGlobalCoord=C.dim==="x"?function(R){return R+L}:function(R){return P-R+L},C.toLocalCoord=C.dim==="x"?function(R){return R-L}:function(R){return P-R+L}}var S=["xAxis","yAxis"];function A(C,L){return a(S,function(I){var P=C.getReferringComponents(I)[0];return P})}function T(C){return C.get("coordinateSystem")==="cartesian2d"}_.create=function(C,L){var I=[];return C.eachComponent("grid",function(P,R){var E=new _(P,C,L);E.name="grid_"+R,E.resize(P,L,!0),P.coordinateSystem=E,I.push(E)}),C.eachSeries(function(P){if(T(P)){var R=A(P),E=R[0],D=R[1],k=E.getCoordSysModel(),z=k.coordinateSystem;P.coordinateSystem=z.getCartesian(E.componentIndex,D.componentIndex)}}),I},_.dimensions=_.prototype.dimensions=s.prototype.dimensions,u.register("cartesian2d",_);var M=_;return cl=M,cl}var lm={},um={},fl,vm;function pa(){if(vm)return fl;vm=1;var e=F,t=e.retrieve,r=e.defaults,a=e.extend,i=e.each,n=Oe,h=le,d=mt,o=Ie(),f=o.isRadianAroundZero,v=o.remRadian,c=Ht(),s=c.createSymbol,l=We,u=Ce,p=u.applyTransform,g=Math.PI;function m(P){var R={componentType:P.mainType};return R[P.mainType+"Index"]=P.componentIndex,R}var _=function(P,R){this.opt=R,this.axisModel=P,r(R,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new h.Group;var E=new h.Group({position:R.position.slice(),rotation:R.rotation});E.updateTransform(),this._transform=E.transform,this._dumbGroup=E};_.prototype={constructor:_,hasBuilder:function(P){return!!y[P]},add:function(P){y[P].call(this)},getGroup:function(){return this.group}};var y={axisLine:function(){var P=this.opt,R=this.axisModel;if(R.get("axisLine.show")){var E=this.axisModel.axis.getExtent(),D=this._transform,k=[E[0],0],z=[E[1],0];D&&(p(k,k,D),p(z,z,D));var O=a({lineCap:"round"},R.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new h.Line(h.subPixelOptimizeLine({anid:"line",shape:{x1:k[0],y1:k[1],x2:z[0],y2:z[1]},style:O,strokeContainThreshold:P.strokeContainThreshold||5,silent:!0,z2:1})));var N=R.get("axisLine.symbol"),B=R.get("axisLine.symbolSize"),q=R.get("axisLine.symbolOffset")||0;if(typeof q=="number"&&(q=[q,q]),N!=null){typeof N=="string"&&(N=[N,N]),(typeof B=="string"||typeof B=="number")&&(B=[B,B]);var V=B[0],G=B[1];i([{rotate:P.rotation+Math.PI/2,offset:q[0],r:0},{rotate:P.rotation-Math.PI/2,offset:q[1],r:Math.sqrt((k[0]-z[0])*(k[0]-z[0])+(k[1]-z[1])*(k[1]-z[1]))}],function($,Z){if(N[Z]!=="none"&&N[Z]!=null){var Y=s(N[Z],-V/2,-G/2,V,G,O.stroke,!0),Q=$.r+$.offset,ee=[k[0]+Q*Math.cos(P.rotation),k[1]-Q*Math.sin(P.rotation)];Y.attr({rotation:$.rotate,position:ee,silent:!0}),this.group.add(Y)}},this)}}},axisTickLabel:function(){var P=this.axisModel,R=this.opt,E=C(this,P,R),D=L(this,P,R);S(P,D,E)},axisName:function(){var P=this.opt,R=this.axisModel,E=t(P.axisName,R.get("name"));if(E){var D=R.get("nameLocation"),k=P.nameDirection,z=R.getModel("nameTextStyle"),O=R.get("nameGap")||0,N=this.axisModel.axis.getExtent(),B=N[0]>N[1]?-1:1,q=[D==="start"?N[0]-B*O:D==="end"?N[1]+B*O:(N[0]+N[1])/2,M(D)?P.labelOffset+k*O:0],V,G=R.get("nameRotate");G!=null&&(G=G*g/180);var $;M(D)?V=b(P.rotation,G??P.rotation,k):(V=x(P,D,G||0,N),$=P.axisNameAvailableWidth,$!=null&&($=Math.abs($/Math.sin(V.rotation)),!isFinite($)&&($=null)));var Z=z.getFont(),Y=R.get("nameTruncate",!0)||{},Q=Y.ellipsis,ee=t(P.nameTruncateMaxWidth,Y.maxWidth,$),J=Q!=null&&ee!=null?n.truncateText(E,ee,Z,Q,{minChar:2,placeholder:Y.placeholder}):E,ae=R.get("tooltip",!0),j=R.mainType,ie={componentType:j,name:E,$vars:["name"]};ie[j+"Index"]=R.componentIndex;var re=new h.Text({anid:"name",__fullText:E,__truncatedText:J,position:q,rotation:V.rotation,silent:w(R),z2:1,tooltip:ae&&ae.show?a({content:E,formatter:function(){return E},formatterParams:ie},ae):null});h.setTextStyle(re.style,z,{text:J,textFont:Z,textFill:z.getTextColor()||R.get("axisLine.lineStyle.color"),textAlign:V.textAlign,textVerticalAlign:V.textVerticalAlign}),R.get("triggerEvent")&&(re.eventData=m(R),re.eventData.targetType="axisName",re.eventData.name=E),this._dumbGroup.add(re),re.updateTransform(),this.group.add(re),re.decomposeTransform()}}},b=_.innerTextLayout=function(P,R,E){var D=v(R-P),k,z;return f(D)?(z=E>0?"top":"bottom",k="center"):f(D-g)?(z=E>0?"bottom":"top",k="center"):(z="middle",D>0&&D<g?k=E>0?"right":"left":k=E>0?"left":"right"),{rotation:D,textAlign:k,textVerticalAlign:z}};function x(P,R,E,D){var k=v(E-P.rotation),z,O,N=D[0]>D[1],B=R==="start"&&!N||R!=="start"&&N;return f(k-g/2)?(O=B?"bottom":"top",z="center"):f(k-g*1.5)?(O=B?"top":"bottom",z="center"):(O="middle",k<g*1.5&&k>g/2?z=B?"left":"right":z=B?"right":"left"),{rotation:k,textAlign:z,textVerticalAlign:O}}function w(P){var R=P.get("tooltip");return P.get("silent")||!(P.get("triggerEvent")||R&&R.show)}function S(P,R,E){var D=P.get("axisLabel.showMinLabel"),k=P.get("axisLabel.showMaxLabel");R=R||[],E=E||[];var z=R[0],O=R[1],N=R[R.length-1],B=R[R.length-2],q=E[0],V=E[1],G=E[E.length-1],$=E[E.length-2];D===!1?(A(z),A(q)):T(z,O)&&(D?(A(O),A(V)):(A(z),A(q))),k===!1?(A(N),A(G)):T(B,N)&&(k?(A(B),A($)):(A(N),A(G)))}function A(P){P&&(P.ignore=!0)}function T(P,R,E){var D=P&&P.getBoundingRect().clone(),k=R&&R.getBoundingRect().clone();if(!(!D||!k)){var z=l.identity([]);return l.rotate(z,z,-P.rotation),D.applyTransform(l.mul([],z,P.getLocalTransform())),k.applyTransform(l.mul([],z,R.getLocalTransform())),D.intersect(k)}}function M(P){return P==="middle"||P==="center"}function C(P,R,E){var D=R.axis;if(!(!R.get("axisTick.show")||D.scale.isBlank())){for(var k=R.getModel("axisTick"),z=k.getModel("lineStyle"),O=k.get("length"),N=D.getTicksCoords(),B=[],q=[],V=P._transform,G=[],$=0;$<N.length;$++){var Z=N[$].coord;B[0]=Z,B[1]=0,q[0]=Z,q[1]=E.tickDirection*O,V&&(p(B,B,V),p(q,q,V));var Y=new h.Line(h.subPixelOptimizeLine({anid:"tick_"+N[$].tickValue,shape:{x1:B[0],y1:B[1],x2:q[0],y2:q[1]},style:r(z.getLineStyle(),{stroke:R.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));P.group.add(Y),G.push(Y)}return G}}function L(P,R,E){var D=R.axis,k=t(E.axisLabelShow,R.get("axisLabel.show"));if(!(!k||D.scale.isBlank())){var z=R.getModel("axisLabel"),O=z.get("margin"),N=D.getViewLabels(),B=(t(E.labelRotate,z.get("rotate"))||0)*g/180,q=b(E.rotation,B,E.labelDirection),V=R.getCategories(!0),G=[],$=w(R),Z=R.get("triggerEvent");return i(N,function(Y,Q){var ee=Y.tickValue,J=Y.formattedLabel,ae=Y.rawLabel,j=z;V&&V[ee]&&V[ee].textStyle&&(j=new d(V[ee].textStyle,z,R.ecModel));var ie=j.getTextColor()||R.get("axisLine.lineStyle.color"),re=D.dataToCoord(ee),me=[re,E.labelOffset+E.labelDirection*O],we=new h.Text({anid:"label_"+ee,position:me,rotation:q.rotation,silent:$,z2:10});h.setTextStyle(we.style,j,{text:J,textAlign:j.getShallow("align",!0)||q.textAlign,textVerticalAlign:j.getShallow("verticalAlign",!0)||j.getShallow("baseline",!0)||q.textVerticalAlign,textFill:typeof ie=="function"?ie(D.type==="category"?ae:D.type==="value"?ee+"":ee,Q):ie}),Z&&(we.eventData=m(R),we.eventData.targetType="axisLabel",we.eventData.value=ae),P._dumbGroup.add(we),we.updateTransform(),G.push(we),P.group.add(we),we.decomposeTransform()}),G}}var I=_;return fl=I,fl}var ea={},hm;function qo(){if(hm)return ea;hm=1;var e=F,t=mt,r=e.each,a=e.curry;function i(p,g){var m={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return n(m,p,g),m.seriesInvolved&&d(m,p),m}function n(p,g,m){var _=g.getComponent("tooltip"),y=g.getComponent("axisPointer"),b=y.get("link",!0)||[],x=[];r(m.getCoordinateSystems(),function(w){if(!w.axisPointerEnabled)return;var S=u(w.model),A=p.coordSysAxesInfo[S]={};p.coordSysMap[S]=w;var T=w.model,M=T.getModel("tooltip",_);if(r(w.getAxes(),a(P,!1,null)),w.getTooltipAxes&&_&&M.get("show")){var C=M.get("trigger")==="axis",L=M.get("axisPointer.type")==="cross",I=w.getTooltipAxes(M.get("axisPointer.axis"));(C||L)&&r(I.baseAxes,a(P,L?"cross":!0,C)),L&&r(I.otherAxes,a(P,"cross",!1))}function P(R,E,D){var k=D.model.getModel("axisPointer",y),z=k.get("show");if(!(!z||z==="auto"&&!R&&!l(k))){E==null&&(E=k.get("triggerTooltip")),k=R?h(D,M,y,g,R,E):k;var O=k.get("snap"),N=u(D.model),B=E||O||D.type==="category",q=p.axesInfo[N]={key:N,axis:D,coordSys:w,axisPointerModel:k,triggerTooltip:E,involveSeries:B,snap:O,useHandle:l(k),seriesModels:[]};A[N]=q,p.seriesInvolved|=B;var V=o(b,D);if(V!=null){var G=x[V]||(x[V]={axesInfo:{}});G.axesInfo[N]=q,G.mapper=b[V].mapper,q.linkGroup=G}}}})}function h(p,g,m,_,y,b){var x=g.getModel("axisPointer"),w={};r(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(M){w[M]=e.clone(x.get(M))}),w.snap=p.type!=="category"&&!!b,x.get("type")==="cross"&&(w.type="line");var S=w.label||(w.label={});if(S.show==null&&(S.show=!1),y==="cross"){var A=x.get("label.show");if(S.show=A??!0,!b){var T=w.lineStyle=x.get("crossStyle");T&&e.defaults(S,T.textStyle)}}return p.model.getModel("axisPointer",new t(w,m,_))}function d(p,g){g.eachSeries(function(m){var _=m.coordinateSystem,y=m.get("tooltip.trigger",!0),b=m.get("tooltip.show",!0);!_||y==="none"||y===!1||y==="item"||b===!1||m.get("axisPointer.show",!0)===!1||r(p.coordSysAxesInfo[u(_.model)],function(x){var w=x.axis;_.getAxis(w.dim)===w&&(x.seriesModels.push(m),x.seriesDataCount==null&&(x.seriesDataCount=0),x.seriesDataCount+=m.getData().count())})},this)}function o(p,g){for(var m=g.model,_=g.dim,y=0;y<p.length;y++){var b=p[y]||{};if(f(b[_+"AxisId"],m.id)||f(b[_+"AxisIndex"],m.componentIndex)||f(b[_+"AxisName"],m.name))return y}}function f(p,g){return p==="all"||e.isArray(p)&&e.indexOf(p,g)>=0||p===g}function v(p){var g=c(p);if(g){var m=g.axisPointerModel,_=g.axis.scale,y=m.option,b=m.get("status"),x=m.get("value");x!=null&&(x=_.parse(x));var w=l(m);b==null&&(y.status=w?"show":"hide");var S=_.getExtent().slice();S[0]>S[1]&&S.reverse(),(x==null||x>S[1])&&(x=S[1]),x<S[0]&&(x=S[0]),y.value=x,w&&(y.status=g.axis.scale.isBlank()?"hide":"show")}}function c(p){var g=(p.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return g&&g.axesInfo[u(p)]}function s(p){var g=c(p);return g&&g.axisPointerModel}function l(p){return!!p.get("handle.show")}function u(p){return p.type+"||"+p.id}return ea.collect=i,ea.fixValue=v,ea.getAxisInfo=c,ea.getAxisPointerModel=s,ea.makeKey=u,ea}var dl,cm;function ma(){if(cm)return dl;cm=1;var e=ve,t=qo(),r=e.extendComponentView({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(d,o,f,v){this.axisPointerClass&&t.fixValue(d),r.superApply(this,"render",arguments),a(this,d,o,f,v,!0)},updateAxisPointer:function(d,o,f,v,c){a(this,d,o,f,v,!1)},remove:function(d,o){var f=this._axisPointer;f&&f.remove(o),r.superApply(this,"remove",arguments)},dispose:function(d,o){i(this,o),r.superApply(this,"dispose",arguments)}});function a(d,o,f,v,c,s){var l=r.getAxisPointerClass(d.axisPointerClass);if(l){var u=t.getAxisPointerModel(o);u?(d._axisPointer||(d._axisPointer=new l)).render(o,u,v,s):i(d,v)}}function i(d,o,f){var v=d._axisPointer;v&&v.dispose(o,f),d._axisPointer=null}var n=[];r.registerAxisPointerClass=function(d,o){n[d]=o},r.getAxisPointerClass=function(d){return d&&n[d]};var h=r;return dl=h,dl}var gl={},fm;function cT(){if(fm)return gl;fm=1;var e=F;function t(r,a,i){i=i||{};var n=r.coordinateSystem,h=a.axis,d={},o=h.getAxesOnZeroOf()[0],f=h.position,v=o?"onZero":f,c=h.dim,s=n.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],u={left:0,right:1,top:0,bottom:1,onZero:2},p=a.get("offset")||0,g=c==="x"?[l[2]-p,l[3]+p]:[l[0]-p,l[1]+p];if(o){var m=o.toGlobalCoord(o.dataToCoord(0));g[u.onZero]=Math.max(Math.min(m,g[1]),g[0])}d.position=[c==="y"?g[u[v]]:l[0],c==="x"?g[u[v]]:l[3]],d.rotation=Math.PI/2*(c==="x"?0:1);var _={top:-1,bottom:1,left:-1,right:1};d.labelDirection=d.tickDirection=d.nameDirection=_[f],d.labelOffset=o?g[u[f]]-g[u.onZero]:0,a.get("axisTick.inside")&&(d.tickDirection=-d.tickDirection),e.retrieve(i.labelInside,a.get("axisLabel.inside"))&&(d.labelDirection=-d.labelDirection);var y=a.get("axisLabel.rotate");return d.labelRotate=v==="top"?-y:y,d.z2=1,d}return gl.layout=t,gl}var dm;function uV(){if(dm)return um;dm=1;var e=F,t=le,r=pa(),a=ma(),i=cT(),n=["axisLine","axisTickLabel","axisName"],h=["splitArea","splitLine"],d=a.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(o,f,v,c){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new t.Group,this.group.add(this._axisGroup),!!o.get("show")){var l=o.getCoordSysModel(),u=i.layout(l,o),p=new r(o,u);e.each(n,p.add,p),this._axisGroup.add(p.getGroup()),e.each(h,function(g){o.get(g+".show")&&this["_"+g](o,l)},this),t.groupTransition(s,this._axisGroup,o),d.superCall(this,"render",o,f,v,c)}},remove:function(){this._splitAreaColors=null},_splitLine:function(o,f){var v=o.axis;if(!v.scale.isBlank()){var c=o.getModel("splitLine"),s=c.getModel("lineStyle"),l=s.get("color");l=e.isArray(l)?l:[l];for(var u=f.coordinateSystem.getRect(),p=v.isHorizontal(),g=0,m=v.getTicksCoords({tickModel:c}),_=[],y=[],b=s.getLineStyle(),x=0;x<m.length;x++){var w=v.toGlobalCoord(m[x].coord);p?(_[0]=w,_[1]=u.y,y[0]=w,y[1]=u.y+u.height):(_[0]=u.x,_[1]=w,y[0]=u.x+u.width,y[1]=w);var S=g++%l.length,A=m[x].tickValue;this._axisGroup.add(new t.Line(t.subPixelOptimizeLine({anid:A!=null?"line_"+m[x].tickValue:null,shape:{x1:_[0],y1:_[1],x2:y[0],y2:y[1]},style:e.defaults({stroke:l[S]},b),silent:!0})))}}},_splitArea:function(o,f){var v=o.axis;if(!v.scale.isBlank()){var c=o.getModel("splitArea"),s=c.getModel("areaStyle"),l=s.get("color"),u=f.coordinateSystem.getRect(),p=v.getTicksCoords({tickModel:c,clamp:!0});if(p.length){var g=l.length,m=this._splitAreaColors,_=e.createHashMap(),y=0;if(m)for(var b=0;b<p.length;b++){var x=m.get(p[b].tickValue);if(x!=null){y=(x+(g-1)*b)%g;break}}var w=v.toGlobalCoord(p[0].coord),S=s.getAreaStyle();l=e.isArray(l)?l:[l];for(var b=1;b<p.length;b++){var A=v.toGlobalCoord(p[b].coord),T,M,C,L;v.isHorizontal()?(T=w,M=u.y,C=A-T,L=u.height,w=T+C):(T=u.x,M=w,C=u.width,L=A-M,w=M+L);var I=p[b-1].tickValue;I!=null&&_.set(I,y),this._axisGroup.add(new t.Rect({anid:I!=null?"area_"+I:null,shape:{x:T,y:M,width:C,height:L},style:e.defaults({fill:l[y]},S),silent:!0})),y=(y+1)%g}this._splitAreaColors=_}}}});return d.extend({type:"xAxis"}),d.extend({type:"yAxis"}),um}var gm;function vV(){return gm||(gm=1,hT(),uV()),lm}var pm;function rn(){if(pm)return Jp;pm=1;var e=ve,t=F,r=le;return ed(),vV(),e.extendComponentView({type:"grid",render:function(a,i){this.group.removeAll(),a.get("show")&&this.group.add(new r.Rect({shape:a.coordinateSystem.getRect(),style:t.defaults({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}}),e.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})}),Jp}var mm;function hV(){if(mm)return Hp;mm=1;var e=ve;tV(),aV();var t=ga(),r=tn(),a=iV();return rn(),e.registerVisual(t("line","circle","line")),e.registerLayout(r("line")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a("line")),Hp}var ym={},pl,_m;function fT(){if(_m)return pl;_m=1;var e=yt,t=Lr(),r=e.extend({type:"series.__base_bar__",getInitialData:function(a,i){return t(this.getSource(),this)},getMarkerPosition:function(a){var i=this.coordinateSystem;if(i){var n=i.dataToPoint(i.clampData(a)),h=this.getData(),d=h.getLayout("offset"),o=h.getLayout("size"),f=i.getBaseAxis().isHorizontal()?0:1;return n[f]+=d+o/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:5e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});return pl=r,pl}var ml,xm;function cV(){if(xm)return ml;xm=1;var e=fT(),t=e.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return this.get("large")?this.get("progressive"):!1},getProgressiveThreshold:function(){var r=this.get("progressiveThreshold"),a=this.get("largeThreshold");return a>r&&(r=a),r}});return ml=t,ml}var yl={},Sm;function dT(){if(Sm)return yl;Sm=1;var e=le,t=Jf(),r=t.getDefaultLabel;function a(n,h,d,o,f,v,c){var s=d.getModel("label"),l=d.getModel("emphasis.label");e.setLabelStyle(n,h,s,l,{labelFetcher:f,labelDataIndex:v,defaultText:r(f.getData(),v),isRectText:!0,autoColor:o}),i(n),i(h)}function i(n,h){n.textPosition==="outside"&&(n.textPosition=h)}return yl.setLabel=a,yl}var _l,bm;function fV(){if(bm)return _l;bm=1;var e=Ja,t=e([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),r={getBarItemStyle:function(a){var i=t(this,a);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(i.lineDash=n)}return i}};return _l=r,_l}var xl,wm;function dV(){if(wm)return xl;wm=1;var e=ve,t=F,r=le,a=dT(),i=a.setLabel,n=mt,h=fV(),d=it,o=["itemStyle","barBorderWidth"];t.extend(n.prototype,h);var f=e.extendChartView({type:"bar",render:function(y,b,x){this._updateDrawMode(y);var w=y.get("coordinateSystem");return(w==="cartesian2d"||w==="polar")&&(this._isLargeDraw?this._renderLarge(y,b,x):this._renderNormal(y,b,x)),this.group},incrementalPrepareRender:function(y,b,x){this._clear(),this._updateDrawMode(y)},incrementalRender:function(y,b,x,w){this._incrementalRenderLarge(y,b)},_updateDrawMode:function(y){var b=y.pipelineContext.large;(this._isLargeDraw==null||b^this._isLargeDraw)&&(this._isLargeDraw=b,this._clear())},_renderNormal:function(y,b,x){var w=this.group,S=y.getData(),A=this._data,T=y.coordinateSystem,M=T.getBaseAxis(),C;T.type==="cartesian2d"?C=M.isHorizontal():T.type==="polar"&&(C=M.dim==="angle");var L=y.isAnimationEnabled()?y:null;S.diff(A).add(function(I){if(S.hasValue(I)){var P=S.getItemModel(I),R=l[T.type](S,I,P),E=v[T.type](S,I,P,R,C,L);S.setItemGraphicEl(I,E),w.add(E),u(E,S,I,P,R,y,C,T.type==="polar")}}).update(function(I,P){var R=A.getItemGraphicEl(P);if(!S.hasValue(I)){w.remove(R);return}var E=S.getItemModel(I),D=l[T.type](S,I,E);R?r.updateProps(R,{shape:D},L,I):R=v[T.type](S,I,E,D,C,L,!0),S.setItemGraphicEl(I,R),w.add(R),u(R,S,I,E,D,y,C,T.type==="polar")}).remove(function(I){var P=A.getItemGraphicEl(I);T.type==="cartesian2d"?P&&c(I,L,P):P&&s(I,L,P)}).execute(),this._data=S},_renderLarge:function(y,b,x){this._clear(),m(y,this.group)},_incrementalRenderLarge:function(y,b){m(b,this.group,!0)},dispose:t.noop,remove:function(y){this._clear(y)},_clear:function(y){var b=this.group,x=this._data;y&&y.get("animation")&&x&&!this._isLargeDraw?x.eachItemGraphicEl(function(w){w.type==="sector"?s(w.dataIndex,y,w):c(w.dataIndex,y,w)}):b.removeAll(),this._data=null}}),v={cartesian2d:function(y,b,x,w,S,A,T){var M=new r.Rect({shape:t.extend({},w)});if(A){var C=M.shape,L=S?"height":"width",I={};C[L]=0,I[L]=w[L],r[T?"updateProps":"initProps"](M,{shape:I},A,b)}return M},polar:function(y,b,x,w,S,A,T){var M=w.startAngle<w.endAngle,C=new r.Sector({shape:t.defaults({clockwise:M},w)});if(A){var L=C.shape,I=S?"r":"endAngle",P={};L[I]=S?0:w.startAngle,P[I]=w[I],r[T?"updateProps":"initProps"](C,{shape:P},A,b)}return C}};function c(y,b,x){x.style.text=null,r.updateProps(x,{shape:{width:0}},b,y,function(){x.parent&&x.parent.remove(x)})}function s(y,b,x){x.style.text=null,r.updateProps(x,{shape:{r:x.shape.r0}},b,y,function(){x.parent&&x.parent.remove(x)})}var l={cartesian2d:function(y,b,x){var w=y.getItemLayout(b),S=p(x,w),A=w.width>0?1:-1,T=w.height>0?1:-1;return{x:w.x+A*S/2,y:w.y+T*S/2,width:w.width-A*S,height:w.height-T*S}},polar:function(y,b,x){var w=y.getItemLayout(b);return{cx:w.cx,cy:w.cy,r0:w.r0,r:w.r,startAngle:w.startAngle,endAngle:w.endAngle}}};function u(y,b,x,w,S,A,T,M){var C=b.getItemVisual(x,"color"),L=b.getItemVisual(x,"opacity"),I=w.getModel("itemStyle"),P=w.getModel("emphasis.itemStyle").getBarItemStyle();M||y.setShape("r",I.get("barBorderRadius")||0),y.useStyle(t.defaults({fill:C,opacity:L},I.getBarItemStyle()));var R=w.getShallow("cursor");R&&y.attr("cursor",R);var E=T?S.height>0?"bottom":"top":S.width>0?"left":"right";M||i(y.style,P,w,C,A,x,E),r.setHoverStyle(y,P)}function p(y,b){var x=y.get(o)||0;return Math.min(x,Math.abs(b.width),Math.abs(b.height))}var g=d.extend({type:"largeBar",shape:{points:[]},buildPath:function(y,b){for(var x=b.points,w=this.__startPoint,S=this.__valueIdx,A=0;A<x.length;A+=2)w[this.__valueIdx]=x[A+S],y.moveTo(w[0],w[1]),y.lineTo(x[A],x[A+1])}});function m(y,b,x){var w=y.getData(),S=[],A=w.getLayout("valueAxisHorizontal")?1:0;S[1-A]=w.getLayout("valueAxisStart");var T=new g({shape:{points:w.getLayout("largePoints")},incremental:!!x,__startPoint:S,__valueIdx:A});b.add(T),_(T,y,w)}function _(y,b,x){var w=x.getVisual("borderColor")||x.getVisual("color"),S=b.getModel("itemStyle").getItemStyle(["color","borderColor"]);y.useStyle(S),y.style.fill=null,y.style.stroke=w,y.style.lineWidth=x.getLayout("barWidth")}return xl=f,xl}var Am;function gV(){if(Am)return ym;Am=1;var e=ve,t=F,r=No(),a=r.layout,i=r.largeLayout;return ed(),cV(),dV(),rn(),e.registerLayout(t.curry(a,"bar")),e.registerLayout(i),e.registerVisual({seriesType:"bar",reset:function(n){n.getData().setVisual("legendSymbol","roundRect")}}),ym}var Tm={},Sl,Cm;function li(){if(Cm)return Sl;Cm=1;var e=oi(),t=qt(),r=F,a=r.extend,i=r.isArray;function n(h,d,o){d=i(d)&&{coordDimensions:d}||a({},d);var f=h.getSource(),v=e(f,d),c=new t(v,h);return c.initData(f,o),c}return Sl=n,Sl}var bl,Mm;function td(){if(Mm)return bl;Mm=1;var e=F,t={updateSelectedMap:function(r){this._targetList=e.isArray(r)?r.slice():[],this._selectTargetMap=e.reduce(r||[],function(a,i){return a.set(i.name,i),a},e.createHashMap())},select:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r),n=this.get("selectedMode");n==="single"&&this._selectTargetMap.each(function(h){h.selected=!1}),i&&(i.selected=!0)},unSelect:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);i&&(i.selected=!1)},toggleSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);if(i!=null)return this[i.selected?"unSelect":"select"](r,a),i.selected},isSelected:function(r,a){var i=a!=null?this._targetList[a]:this._selectTargetMap.get(r);return i&&i.selected}};return bl=t,bl}var wl,Dm;function pV(){if(Dm)return wl;Dm=1;var e=ve,t=li(),r=F,a=Me,i=Ie(),n=i.getPercentWithPrecision,h=td(),d=Qt,o=d.retrieveRawAttr,f=e.extendSeriesModel({type:"series.pie",init:function(c){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(c)},mergeOption:function(c){f.superCall(this,"mergeOption",c),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(c,s){return t(this,["value"])},_createSelectableList:function(){for(var c=this.getRawData(),s=c.mapDimension("value"),l=[],u=0,p=c.count();u<p;u++)l.push({name:c.getName(u),value:c.get(s,u),selected:o(c,u,"selected")});return l},getDataParams:function(c){var s=this.getData(),l=f.superCall(this,"getDataParams",c),u=[];return s.each(s.mapDimension("value"),function(p){u.push(p)}),l.percent=n(u,c,s.hostModel.get("percentPrecision")),l.$vars.push("percent"),l},_defaultLabelLine:function(c){a.defaultEmphasis(c,"labelLine",["show"]);var s=c.labelLine,l=c.emphasis.labelLine;s.show=s.show&&c.label.show,l.show=l.show&&c.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});r.mixin(f,h);var v=f;return wl=v,wl}var Al,Lm;function mV(){if(Lm)return Al;Lm=1;var e=F,t=le,r=Mr;function a(f,v,c,s){var l=v.getData(),u=this.dataIndex,p=l.getName(u),g=v.get("selectedOffset");s.dispatchAction({type:"pieToggleSelect",from:f,name:p,seriesId:v.id}),l.each(function(m){i(l.getItemGraphicEl(m),l.getItemLayout(m),v.isSelected(l.getName(m)),g,c)})}function i(f,v,c,s,l){var u=(v.startAngle+v.endAngle)/2,p=Math.cos(u),g=Math.sin(u),m=c?s:0,_=[p*m,g*m];l?f.animate().when(200,{position:_}).start("bounceOut"):f.attr("position",_)}function n(f,v){t.Group.call(this);var c=new t.Sector({z2:2}),s=new t.Polyline,l=new t.Text;this.add(c),this.add(s),this.add(l),this.updateData(f,v,!0);function u(){s.ignore=s.hoverIgnore,l.ignore=l.hoverIgnore}function p(){s.ignore=s.normalIgnore,l.ignore=l.normalIgnore}this.on("emphasis",u).on("normal",p).on("mouseover",u).on("mouseout",p)}var h=n.prototype;h.updateData=function(f,v,c){var s=this.childAt(0),l=f.hostModel,u=f.getItemModel(v),p=f.getItemLayout(v),g=e.extend({},p);if(g.label=null,c){s.setShape(g);var m=l.getShallow("animationType");m==="scale"?(s.shape.r=p.r0,t.initProps(s,{shape:{r:p.r}},l,v)):(s.shape.endAngle=p.startAngle,t.updateProps(s,{shape:{endAngle:p.endAngle}},l,v))}else t.updateProps(s,{shape:g},l,v);var _=f.getItemVisual(v,"color");s.useStyle(e.defaults({lineJoin:"bevel",fill:_},u.getModel("itemStyle").getItemStyle())),s.hoverStyle=u.getModel("emphasis.itemStyle").getItemStyle();var y=u.getShallow("cursor");y&&s.attr("cursor",y),i(this,f.getItemLayout(v),l.isSelected(null,v),l.get("selectedOffset"),l.get("animation"));function b(){s.stopAnimation(!0),s.animateTo({shape:{r:p.r+l.get("hoverOffset")}},300,"elasticOut")}function x(){s.stopAnimation(!0),s.animateTo({shape:{r:p.r}},300,"elasticOut")}s.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.get("hoverAnimation")&&l.isAnimationEnabled()&&s.on("mouseover",b).on("mouseout",x).on("emphasis",b).on("normal",x),this._updateLabel(f,v),t.setHoverStyle(this)},h._updateLabel=function(f,v){var c=this.childAt(1),s=this.childAt(2),l=f.hostModel,u=f.getItemModel(v),p=f.getItemLayout(v),g=p.label,x=f.getItemVisual(v,"color");t.updateProps(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},l,v),t.updateProps(s,{style:{x:g.x,y:g.y}},l,v),s.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var m=u.getModel("label"),_=u.getModel("emphasis.label"),y=u.getModel("labelLine"),b=u.getModel("emphasis.labelLine"),x=f.getItemVisual(v,"color");t.setLabelStyle(s.style,s.hoverStyle={},m,_,{labelFetcher:f.hostModel,labelDataIndex:v,defaultText:f.getName(v),autoColor:x,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:f.getItemVisual(v,"opacity")}),s.ignore=s.normalIgnore=!m.get("show"),s.hoverIgnore=!_.get("show"),c.ignore=c.normalIgnore=!y.get("show"),c.hoverIgnore=!b.get("show"),c.setStyle({stroke:x,opacity:f.getItemVisual(v,"opacity")}),c.setStyle(y.getModel("lineStyle").getLineStyle()),c.hoverStyle=b.getModel("lineStyle").getLineStyle();var w=y.get("smooth");w&&w===!0&&(w=.4),c.setShape({smooth:w})},e.inherits(n,t.Group);var d=r.extend({type:"pie",init:function(){var f=new t.Group;this._sectorGroup=f},render:function(f,v,c,s){if(!(s&&s.from===this.uid)){var l=f.getData(),u=this._data,p=this.group,g=v.get("animation"),m=!u,_=f.get("animationType"),y=e.curry(a,this.uid,f,g,c),b=f.get("selectedMode");if(l.diff(u).add(function(A){var T=new n(l,A);m&&_!=="scale"&&T.eachChild(function(M){M.stopAnimation(!0)}),b&&T.on("click",y),l.setItemGraphicEl(A,T),p.add(T)}).update(function(A,T){var M=u.getItemGraphicEl(T);M.updateData(l,A),M.off("click"),b&&M.on("click",y),p.add(M),l.setItemGraphicEl(A,M)}).remove(function(A){var T=u.getItemGraphicEl(A);p.remove(T)}).execute(),g&&m&&l.count()>0&&_!=="scale"){var x=l.getItemLayout(0),w=Math.max(c.getWidth(),c.getHeight())/2,S=e.bind(p.removeClipPath,p);p.setClipPath(this._createClipPath(x.cx,x.cy,w,x.startAngle,x.clockwise,S,f))}this._data=l}},dispose:function(){},_createClipPath:function(f,v,c,s,l,u,p){var g=new t.Sector({shape:{cx:f,cy:v,r0:0,r:c,startAngle:s,endAngle:s,clockwise:l}});return t.initProps(g,{shape:{endAngle:s+(l?1:-1)*Math.PI*2}},p,u),g},containPoint:function(f,v){var c=v.getData(),s=c.getItemLayout(0);if(s){var l=f[0]-s.cx,u=f[1]-s.cy,p=Math.sqrt(l*l+u*u);return p<=s.r&&p>=s.r0}}}),o=d;return Al=o,Al}var Tl,Im;function gT(){if(Im)return Tl;Im=1;var e=ve,t=F;function r(a,i){t.each(i,function(n){n.update="updateView",e.registerAction(n,function(h,d){var o={};return d.eachComponent({mainType:"series",subType:a,query:h},function(f){f[n.method]&&f[n.method](h.name,h.dataIndex);var v=f.getData();v.each(function(c){var s=v.getName(c);o[s]=f.isSelected(s)||!1})}),{name:h.name,selected:o}})})}return Tl=r,Tl}var Cl,Pm;function Ho(){if(Pm)return Cl;Pm=1;var e=F,t=e.createHashMap;function r(a){return{getTargetSeries:function(i){var n={},h=t();return i.eachSeriesByType(a,function(d){d.__paletteScope=n,h.set(d.uid,d)}),h},reset:function(i,n){var h=i.getRawData(),d={},o=i.getData();o.each(function(f){var v=o.getRawIndex(f);d[v]=f}),h.each(function(f){var v=d[f],c=v!=null&&o.getItemVisual(v,"color",!0);if(c)h.setItemVisual(f,"color",c);else{var s=h.getItemModel(f),l=s.get("itemStyle.color")||i.getColorFromPalette(h.getName(f)||f+"",i.__paletteScope,h.count());h.setItemVisual(f,"color",l),v!=null&&o.setItemVisual(v,"color",l)}})}}}return Cl=r,Cl}var Ml,Rm;function yV(){if(Rm)return Ml;Rm=1;var e=Ze;function t(i,n,h,d,o,f,v){i.sort(function(b,x){return b.y-x.y});function c(b,x,w,S){for(var A=b;A<x;A++)if(i[A].y+=w,A>b&&A+1<x&&i[A+1].y>i[A].y+i[A].height){s(A,w/2);return}s(x-1,w/2)}function s(b,x){for(var w=b;w>=0&&(i[w].y-=x,!(w>0&&i[w].y>i[w-1].y+i[w-1].height));w--);}function l(b,x,w,S,A,T){for(var M=(T>0,x?Number.MAX_VALUE:0),C=0,L=b.length;C<L;C++)if(b[C].position!=="center"){var I=Math.abs(b[C].y-S),P=b[C].len,R=b[C].len2,E=I<A+P?Math.sqrt((A+P+R)*(A+P+R)-I*I):Math.abs(b[C].x-w);x&&E>=M&&(E=M-10),!x&&E<=M&&(E=M+10),b[C].x=w+E*T,M=E}}for(var u=0,p,g=i.length,m=[],_=[],y=0;y<g;y++)p=i[y].y-u,p<0&&c(y,g,-p),u=i[y].y+i[y].height;v-u<0&&s(g-1,u-v);for(var y=0;y<g;y++)i[y].y>=h?_.push(i[y]):m.push(i[y]);l(m,!1,n,h,d,o),l(_,!0,n,h,d,o)}function r(i,n,h,d,o,f){for(var v=[],c=[],s=0;s<i.length;s++)i[s].x<n?v.push(i[s]):c.push(i[s]);t(c,n,h,d,1,o,f),t(v,n,h,d,-1,o,f);for(var s=0;s<i.length;s++){var l=i[s].linePoints;if(l){var u=l[1][0]-l[2][0];i[s].x<n?l[2][0]=i[s].x+3:l[2][0]=i[s].x-3,l[1][1]=l[2][1]=i[s].y,l[1][0]=l[2][0]+u}}}function a(i,n,h,d){var o=i.getData(),f=[],v,c,s=!1;o.each(function(l){var u=o.getItemLayout(l),p=o.getItemModel(l),g=p.getModel("label"),m=g.get("position")||p.get("emphasis.label.position"),_=p.getModel("labelLine"),y=_.get("length"),b=_.get("length2"),x=(u.startAngle+u.endAngle)/2,w=Math.cos(x),S=Math.sin(x),A,T,M,C;v=u.cx,c=u.cy;var L=m==="inside"||m==="inner";if(m==="center")A=u.cx,T=u.cy,C="center";else{var I=(L?(u.r+u.r0)/2*w:u.r*w)+v,P=(L?(u.r+u.r0)/2*S:u.r*S)+c;if(A=I+w*3,T=P+S*3,!L){var R=I+w*(y+n-u.r),E=P+S*(y+n-u.r),D=R+(w<0?-1:1)*b,k=E;A=D+(w<0?-5:5),T=k,M=[[I,P],[R,E],[D,k]]}C=L?"center":w>0?"left":"right"}var z=g.getFont(),O=g.get("rotate")?w<0?-x+Math.PI:-x:0,N=i.getFormattedLabel(l,"normal")||o.getName(l),B=e.getBoundingRect(N,z,C,"top");s=!!O,u.label={x:A,y:T,position:m,height:B.height,len:y,len2:b,linePoints:M,textAlign:C,verticalAlign:"middle",rotation:O,inside:L},L||f.push(u.label)}),!s&&i.get("avoidLabelOverlap")&&r(f,v,c,n,h,d)}return Ml=a,Ml}var Dl,Em;function _V(){if(Em)return Dl;Em=1;var e=Ie(),t=e.parsePercent,r=e.linearMap,a=yV(),i=F,n=Math.PI*2,h=Math.PI/180;function d(o,f,v,c){f.eachSeriesByType(o,function(s){var l=s.getData(),u=l.mapDimension("value"),p=s.get("center"),g=s.get("radius");i.isArray(g)||(g=[0,g]),i.isArray(p)||(p=[p,p]);var m=v.getWidth(),_=v.getHeight(),y=Math.min(m,_),b=t(p[0],m),x=t(p[1],_),w=t(g[0],y/2),S=t(g[1],y/2),A=-s.get("startAngle")*h,T=s.get("minAngle")*h,M=0;l.each(u,function(B){!isNaN(B)&&M++});var C=l.getSum(u),L=Math.PI/(C||M)*2,I=s.get("clockwise"),P=s.get("roseType"),R=s.get("stillShowZeroSum"),E=l.getDataExtent(u);E[0]=0;var D=n,k=0,z=A,O=I?1:-1;if(l.each(u,function(B,q){var V;if(isNaN(B)){l.setItemLayout(q,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:I,cx:b,cy:x,r0:w,r:P?NaN:S});return}P!=="area"?V=C===0&&R?L:B*L:V=n/M,V<T?(V=T,D-=T):k+=B;var G=z+O*V;l.setItemLayout(q,{angle:V,startAngle:z,endAngle:G,clockwise:I,cx:b,cy:x,r0:w,r:P?r(B,E,[w,S]):S}),z=G}),D<n&&M)if(D<=.001){var N=n/M;l.each(u,function(B,q){if(!isNaN(B)){var V=l.getItemLayout(q);V.angle=N,V.startAngle=A+O*q*N,V.endAngle=A+O*(q+1)*N}})}else L=D/k,z=A,l.each(u,function(B,q){if(!isNaN(B)){var V=l.getItemLayout(q),G=V.angle===T?T:B*L;V.startAngle=z,V.endAngle=z+O*G,z+=O*G}});a(s,S,m,_)})}return Dl=d,Dl}var Ll,km;function an(){if(km)return Ll;km=1;function e(t){return{seriesType:t,reset:function(r,a){var i=a.findComponents({mainType:"legend"});if(!(!i||!i.length)){var n=r.getData();n.filterSelf(function(h){for(var d=n.getName(h),o=0;o<i.length;o++)if(!i[o].isSelected(d))return!1;return!0})}}}}return Ll=e,Ll}var zm;function xV(){if(zm)return Tm;zm=1;var e=ve,t=F;pV(),mV();var r=gT(),a=Ho(),i=_V(),n=an();return r("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),e.registerVisual(a("pie")),e.registerLayout(t.curry(i,"pie")),e.registerProcessor(n("pie")),Tm}var Om={},Il,Nm;function SV(){if(Nm)return Il;Nm=1;var e=Lr(),t=yt,r=t.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,i){return e(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return a??(this.option.large?5e3:this.get("progressive"))},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return a??(this.option.large?1e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});return Il=r,Il}var Vm={},Pl,Bm;function bV(){if(Bm)return Pl;Bm=1;var e=le,t=Ht(),r=t.createSymbol,a=Rf,i=4,n=e.extendShape({shape:{points:null},symbolProxy:null,buildPath:function(f,v){var c=v.points,s=v.size,l=this.symbolProxy,u=l.shape,p=f.getContext?f.getContext():f,g=p&&s[0]<i;if(!g)for(var m=0;m<c.length;){var _=c[m++],y=c[m++];isNaN(_)||isNaN(y)||(u.x=_-s[0]/2,u.y=y-s[1]/2,u.width=s[0],u.height=s[1],l.buildPath(f,u,!0))}},afterBrush:function(f){var v=this.shape,c=v.points,s=v.size,l=s[0]<i;if(l){this.setTransform(f);for(var u=0;u<c.length;){var p=c[u++],g=c[u++];isNaN(p)||isNaN(g)||f.fillRect(p-s[0]/2,g-s[1]/2,s[0],s[1])}this.restoreTransform(f)}},findDataIndex:function(f,v){for(var c=this.shape,s=c.points,l=c.size,u=Math.max(l[0],4),p=Math.max(l[1],4),g=s.length/2-1;g>=0;g--){var m=g*2,_=s[m]-u/2,y=s[m+1]-p/2;if(f>=_&&v>=y&&f<=_+u&&v<=y+p)return g}return-1}});function h(){this.group=new e.Group}var d=h.prototype;d.isPersistent=function(){return!this._incremental},d.updateData=function(f){this.group.removeAll();var v=new n({rectHover:!0,cursor:"default"});v.setShape({points:f.getLayout("symbolPoints")}),this._setCommon(v,f),this.group.add(v),this._incremental=null},d.updateLayout=function(f){if(!this._incremental){var v=f.getLayout("symbolPoints");this.group.eachChild(function(c){if(c.startIndex!=null){var s=(c.endIndex-c.startIndex)*2,l=c.startIndex*4*2;v=new Float32Array(v.buffer,l,s)}c.setShape("points",v)})}},d.incrementalPrepareUpdate=function(f){this.group.removeAll(),this._clearIncremental(),f.count()>2e6?(this._incremental||(this._incremental=new a({silent:!0})),this.group.add(this._incremental)):this._incremental=null},d.incrementalUpdate=function(f,v){var c;this._incremental?(c=new n,this._incremental.addDisplayable(c,!0)):(c=new n({rectHover:!0,cursor:"default",startIndex:f.start,endIndex:f.end}),c.incremental=!0,this.group.add(c)),c.setShape({points:v.getLayout("symbolPoints")}),this._setCommon(c,v,!!this._incremental)},d._setCommon=function(f,v,c){var s=v.hostModel,l=v.getVisual("symbolSize");f.setShape("size",l instanceof Array?l:[l,l]),f.symbolProxy=r(v.getVisual("symbol"),0,0,0,0),f.setColor=f.symbolProxy.setColor;var u=f.shape.size[0]<i;f.useStyle(s.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var p=v.getVisual("color");p&&f.setColor(p),c||(f.seriesIndex=s.seriesIndex,f.on("mousemove",function(g){f.dataIndex=null;var m=f.findDataIndex(g.offsetX,g.offsetY);m>=0&&(f.dataIndex=m+(f.startIndex||0))}))},d.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},d._clearIncremental=function(){var f=this._incremental;f&&f.clearDisplaybles()};var o=h;return Pl=o,Pl}var qm;function wV(){if(qm)return Vm;qm=1;var e=ve,t=en(),r=bV(),a=tn();return e.extendChartView({type:"scatter",render:function(i,n,h){var d=i.getData(),o=this._updateSymbolDraw(d,i);o.updateData(d),this._finished=!0},incrementalPrepareRender:function(i,n,h){var d=i.getData(),o=this._updateSymbolDraw(d,i);o.incrementalPrepareUpdate(d),this._finished=!1},incrementalRender:function(i,n,h){this._symbolDraw.incrementalUpdate(i,n.getData()),this._finished=i.end===n.getData().count()},updateTransform:function(i,n,h){var d=i.getData();if(this.group.dirty(),!this._finished||d.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=a().reset(i);o.progress&&o.progress({start:0,end:d.count()},d),this._symbolDraw.updateLayout(d)},_updateSymbolDraw:function(i,n){var h=this._symbolDraw,d=n.pipelineContext,o=d.large;return(!h||o!==this._isLargeDraw)&&(h&&h.remove(),h=this._symbolDraw=o?new r:new t,this._isLargeDraw=o,this.group.removeAll()),this.group.add(h.group),h},remove:function(i,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Vm}var Hm;function AV(){if(Hm)return Om;Hm=1;var e=ve;SV(),wV();var t=ga(),r=tn();return rn(),e.registerVisual(t("scatter","circle")),e.registerLayout(r("scatter")),Om}var Gm={},Fm={},Rl,$m;function TV(){if($m)return Rl;$m=1;var e=F,t=Yr();function r(i,n,h){t.call(this,i,n,h),this.type="value",this.angle=0,this.name="",this.model}e.inherits(r,t);var a=r;return Rl=a,Rl}var El,Um;function CV(){if(Um)return El;Um=1;var e=F,t=TV(),r=Oo(),a=Ie(),i=jt(),n=i.getScaleExtent,h=i.niceScaleExtent,d=cr;function o(v,c,s){this._model=v,this.dimensions=[],this._indicatorAxes=e.map(v.getIndicatorModels(),function(l,u){var p="indicator_"+u,g=new t(p,new r);return g.name=l.get("name"),g.model=l,l.axis=g,this.dimensions.push(p),g},this),this.resize(v,s),this.cx,this.cy,this.r,this.startAngle}o.prototype.getIndicatorAxes=function(){return this._indicatorAxes},o.prototype.dataToPoint=function(v,c){var s=this._indicatorAxes[c];return this.coordToPoint(s.dataToCoord(v),c)},o.prototype.coordToPoint=function(v,c){var s=this._indicatorAxes[c],l=s.angle,u=this.cx+v*Math.cos(l),p=this.cy-v*Math.sin(l);return[u,p]},o.prototype.pointToData=function(v){var c=v[0]-this.cx,s=v[1]-this.cy,l=Math.sqrt(c*c+s*s);c/=l,s/=l;for(var u=Math.atan2(-s,c),p=1/0,g,m=-1,_=0;_<this._indicatorAxes.length;_++){var y=this._indicatorAxes[_],b=Math.abs(u-y.angle);b<p&&(g=y,m=_,p=b)}return[m,+(g&&g.coodToData(l))]},o.prototype.resize=function(v,c){var s=v.get("center"),l=c.getWidth(),u=c.getHeight(),p=Math.min(l,u)/2;this.cx=a.parsePercent(s[0],l),this.cy=a.parsePercent(s[1],u),this.startAngle=v.get("startAngle")*Math.PI/180,this.r=a.parsePercent(v.get("radius"),p),e.each(this._indicatorAxes,function(g,m){g.setExtent(0,this.r);var _=this.startAngle+m*Math.PI*2/this._indicatorAxes.length;_=Math.atan2(Math.sin(_),Math.cos(_)),g.angle=_},this)},o.prototype.update=function(v,c){var s=this._indicatorAxes,l=this._model;e.each(s,function(g){g.scale.setExtent(1/0,-1/0)}),v.eachSeriesByType("radar",function(g,m){if(!(g.get("coordinateSystem")!=="radar"||v.getComponent("radar",g.get("radarIndex"))!==l)){var _=g.getData();e.each(s,function(y){y.scale.unionExtentFromData(_,_.mapDimension(y.dim))})}},this);var u=l.get("splitNumber");function p(g){var m=Math.pow(10,Math.floor(Math.log(g)/Math.LN10)),_=g/m;return _===2?_=5:_*=2,_*m}e.each(s,function(g,m){var _=n(g.scale,g.model);h(g.scale,g.model);var y=g.model,b=g.scale,x=y.getMin(),w=y.getMax(),S=b.getInterval();if(x!=null&&w!=null)b.setExtent(+x,+w),b.setInterval((w-x)/u);else if(x!=null){var A;do A=x+S*u,b.setExtent(+x,A),b.setInterval(S),S=p(S);while(A<_[1]&&isFinite(A)&&isFinite(_[1]))}else if(w!=null){var T;do T=w-S*u,b.setExtent(T,+w),b.setInterval(S),S=p(S);while(T>_[0]&&isFinite(T)&&isFinite(_[0]))}else{var M=b.getTicks().length-1;M>u&&(S=p(S));var C=Math.round((_[0]+_[1])/2/S)*S,L=Math.round(u/2);b.setExtent(a.round(C-L*S),a.round(C+(u-L)*S)),b.setInterval(S)}})},o.dimensions=[],o.create=function(v,c){var s=[];return v.eachComponent("radar",function(l){var u=new o(l,v,c);s.push(u),l.coordinateSystem=u}),v.eachSeriesByType("radar",function(l){l.get("coordinateSystem")==="radar"&&(l.coordinateSystem=s[l.get("radarIndex")||0])}),s},d.register("radar",o);var f=o;return El=f,El}var kl,Wm;function MV(){if(Wm)return kl;Wm=1;var e=ve,t=F,r=vT(),a=mt,i=si(),n=r.valueAxis;function h(f,v){return t.defaults({show:v},f)}var d=e.extendComponentModel({type:"radar",optionUpdated:function(){var f=this.get("boundaryGap"),v=this.get("splitNumber"),c=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),u=this.get("axisLabel"),p=this.get("name"),g=this.get("name.show"),m=this.get("name.formatter"),_=this.get("nameGap"),y=this.get("triggerEvent"),b=t.map(this.get("indicator")||[],function(x){x.max!=null&&x.max>0&&!x.min?x.min=0:x.min!=null&&x.min<0&&!x.max&&(x.max=0);var w=p;if(x.color!=null&&(w=t.defaults({color:x.color},p)),x=t.merge(t.clone(x),{boundaryGap:f,splitNumber:v,scale:c,axisLine:s,axisTick:l,axisLabel:u,name:x.text,nameLocation:"end",nameGap:_,nameTextStyle:w,triggerEvent:y},!1),g||(x.name=""),typeof m=="string"){var S=x.name;x.name=m.replace("{value}",S??"")}else typeof m=="function"&&(x.name=m(x.name,x));var A=t.extend(new a(x,null,this.ecModel),i);return A.mainType="radar",A.componentIndex=this.componentIndex,A},this);this.getIndicatorModels=function(){return b}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:t.merge({lineStyle:{color:"#bbb"}},n.axisLine),axisLabel:h(n.axisLabel,!1),axisTick:h(n.axisTick,!1),splitLine:h(n.splitLine,!0),splitArea:h(n.splitArea,!0),indicator:[]}}),o=d;return kl=o,kl}var zl,Zm;function DV(){if(Zm)return zl;Zm=1;var e=ve,t=F,r=pa(),a=le,i=["axisLine","axisTickLabel","axisName"],n=e.extendComponentView({type:"radar",render:function(h,d,o){var f=this.group;f.removeAll(),this._buildAxes(h),this._buildSplitLineAndArea(h)},_buildAxes:function(h){var d=h.coordinateSystem,o=d.getIndicatorAxes(),f=t.map(o,function(v){var c=new r(v.model,{position:[d.cx,d.cy],rotation:v.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return c});t.each(f,function(v){t.each(i,v.add,v),this.group.add(v.getGroup())},this)},_buildSplitLineAndArea:function(h){var d=h.coordinateSystem,o=d.getIndicatorAxes();if(!o.length)return;var f=h.get("shape"),v=h.getModel("splitLine"),c=h.getModel("splitArea"),s=v.getModel("lineStyle"),l=c.getModel("areaStyle"),u=v.get("show"),p=c.get("show"),g=s.get("color"),m=l.get("color");g=t.isArray(g)?g:[g],m=t.isArray(m)?m:[m];var _=[],y=[];function b(D,k,z){var O=z%k.length;return D[O]=D[O]||[],O}if(f==="circle")for(var x=o[0].getTicksCoords(),w=d.cx,S=d.cy,A=0;A<x.length;A++){if(u){var T=b(_,g,A);_[T].push(new a.Circle({shape:{cx:w,cy:S,r:x[A].coord}}))}if(p&&A<x.length-1){var T=b(y,m,A);y[T].push(new a.Ring({shape:{cx:w,cy:S,r0:x[A].coord,r:x[A+1].coord}}))}}else for(var M,C=t.map(o,function(D,k){var z=D.getTicksCoords();return M=M==null?z.length-1:Math.min(z.length-1,M),t.map(z,function(O){return d.coordToPoint(O.coord,k)})}),L=[],A=0;A<=M;A++){for(var I=[],P=0;P<o.length;P++)I.push(C[P][A]);if(I[0]&&I.push(I[0].slice()),u){var T=b(_,g,A);_[T].push(new a.Polyline({shape:{points:I}}))}if(p&&L){var T=b(y,m,A-1);y[T].push(new a.Polygon({shape:{points:I.concat(L)}}))}L=I.slice().reverse()}var R=s.getLineStyle(),E=l.getAreaStyle();t.each(y,function(D,k){this.group.add(a.mergePath(D,{style:t.defaults({stroke:"none",fill:m[k%m.length]},E),silent:!0}))},this),t.each(_,function(D,k){this.group.add(a.mergePath(D,{style:t.defaults({fill:"none",stroke:g[k%g.length]},R),silent:!0}))},this)}});return zl=n,zl}var Ym;function LV(){return Ym||(Ym=1,CV(),MV(),DV()),Fm}var Ol,Xm;function IV(){if(Xm)return Ol;Xm=1;var e=yt,t=li(),r=F,a=Oe,i=a.encodeHTML,n=e.extend({type:"series.radar",dependencies:["radar"],init:function(d){n.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(d,o){return t(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(d){var o=this.getData(),f=this.coordinateSystem,v=f.getIndicatorAxes(),c=this.getData().getName(d);return i(c===""?this.name:c)+"<br/>"+r.map(v,function(s,l){var u=o.get(o.mapDimension(s.dim),d);return i(s.name+" : "+u)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}}),h=n;return Ol=h,Ol}var Nl,Km;function PV(){if(Km)return Nl;Km=1;var e=ve,t=le,r=F,a=Ht();function i(h){return r.isArray(h)||(h=[+h,+h]),h}var n=e.extendChartView({type:"radar",render:function(h,d,o){var f=h.coordinateSystem,v=this.group,c=h.getData(),s=this._data;function l(g,m){var _=g.getItemVisual(m,"symbol")||"circle",y=g.getItemVisual(m,"color");if(_!=="none"){var b=i(g.getItemVisual(m,"symbolSize")),x=a.createSymbol(_,-1,-1,2,2,y);return x.attr({style:{strokeNoScale:!0},z2:100,scale:[b[0]/2,b[1]/2]}),x}}function u(g,m,_,y,b,x){_.removeAll();for(var w=0;w<m.length-1;w++){var S=l(y,b);S&&(S.__dimIdx=w,g[w]?(S.attr("position",g[w]),t[x?"initProps":"updateProps"](S,{position:m[w]},h,b)):S.attr("position",m[w]),_.add(S))}}function p(g){return r.map(g,function(m){return[f.cx,f.cy]})}c.diff(s).add(function(g){var m=c.getItemLayout(g);if(m){var _=new t.Polygon,y=new t.Polyline,b={shape:{points:m}};_.shape.points=p(m),y.shape.points=p(m),t.initProps(_,b,h,g),t.initProps(y,b,h,g);var x=new t.Group,w=new t.Group;x.add(y),x.add(_),x.add(w),u(y.shape.points,m,w,c,g,!0),c.setItemGraphicEl(g,x)}}).update(function(g,m){var _=s.getItemGraphicEl(m),y=_.childAt(0),b=_.childAt(1),x=_.childAt(2),w={shape:{points:c.getItemLayout(g)}};w.shape.points&&(u(y.shape.points,w.shape.points,x,c,g,!1),t.updateProps(y,w,h),t.updateProps(b,w,h),c.setItemGraphicEl(g,_))}).remove(function(g){v.remove(s.getItemGraphicEl(g))}).execute(),c.eachItemGraphicEl(function(g,m){var _=c.getItemModel(m),y=g.childAt(0),b=g.childAt(1),x=g.childAt(2),w=c.getItemVisual(m,"color");v.add(g),y.useStyle(r.defaults(_.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:w})),y.hoverStyle=_.getModel("emphasis.lineStyle").getLineStyle();var S=_.getModel("areaStyle"),A=_.getModel("emphasis.areaStyle"),T=S.isEmpty()&&S.parentModel.isEmpty(),M=A.isEmpty()&&A.parentModel.isEmpty();M=M&&T,b.ignore=T,b.useStyle(r.defaults(S.getAreaStyle(),{fill:w,opacity:.7})),b.hoverStyle=A.getAreaStyle();var C=_.getModel("itemStyle").getItemStyle(["color"]),L=_.getModel("emphasis.itemStyle").getItemStyle(),I=_.getModel("label"),P=_.getModel("emphasis.label");x.eachChild(function(D){D.setStyle(C),D.hoverStyle=r.clone(L),t.setLabelStyle(D.style,D.hoverStyle,I,P,{labelFetcher:c.hostModel,labelDataIndex:m,labelDimIndex:D.__dimIdx,defaultText:c.get(c.dimensions[D.__dimIdx],m),autoColor:w,isRectText:!0})});function R(){b.attr("ignore",M)}function E(){b.attr("ignore",T)}g.off("mouseover").off("mouseout").off("normal").off("emphasis"),g.on("emphasis",R).on("mouseover",R).on("normal",E).on("mouseout",E),t.setHoverStyle(g)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});return Nl=n,Nl}var Vl,Qm;function RV(){if(Qm)return Vl;Qm=1;function e(t){t.eachSeriesByType("radar",function(r){var a=r.getData(),i=[],n=r.coordinateSystem;if(!n)return;function h(f,v){i[v]=i[v]||[],i[v][o]=n.dataToPoint(f,o)}for(var d=n.getIndicatorAxes(),o=0;o<d.length;o++)a.each(a.mapDimension(d[o].dim),h);a.each(function(f){i[f][0]&&i[f].push(i[f][0].slice()),a.setItemLayout(f,i[f])})})}return Vl=e,Vl}var Bl,jm;function EV(){if(jm)return Bl;jm=1;var e=F;function t(r){var a=r.polar;if(a){e.isArray(a)||(a=[a]);var i=[];e.each(a,function(n,h){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),r.radar=r.radar||[],e.isArray(r.radar)||(r.radar=[r.radar]),r.radar.push(n)):i.push(n)}),r.polar=i}e.each(r.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}return Bl=t,Bl}var Jm;function kV(){if(Jm)return Gm;Jm=1;var e=ve;LV(),IV(),PV();var t=Ho(),r=ga(),a=RV(),i=an(),n=EV();return e.registerVisual(t("radar")),e.registerVisual(r("radar","circle")),e.registerLayout(a),e.registerProcessor(i("radar")),e.registerPreprocessor(n),Gm}var ey={},ql,ty;function pT(){if(ty)return ql;ty=1;var e=F,t=Ce,r=We,a=Qe,i=af,n=t.applyTransform;function h(){i.call(this)}e.mixin(h,i);function d(v){this.name=v,this.zoomLimit,i.call(this),this._roamTransformable=new h,this._rawTransformable=new h,this._center,this._zoom}d.prototype={constructor:d,type:"view",dimensions:["x","y"],setBoundingRect:function(v,c,s,l){return this._rect=new a(v,c,s,l),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(v,c,s,l){this.transformTo(v,c,s,l),this._viewRect=new a(v,c,s,l)},transformTo:function(v,c,s,l){var u=this.getBoundingRect(),p=this._rawTransformable;p.transform=u.calculateTransform(new a(v,c,s,l)),p.decomposeTransform(),this._updateTransform()},setCenter:function(v){v&&(this._center=v,this._updateCenterAndZoom())},setZoom:function(v){v=v||1;var c=this.zoomLimit;c&&(c.max!=null&&(v=Math.min(c.max,v)),c.min!=null&&(v=Math.max(c.min,v))),this._zoom=v,this._updateCenterAndZoom()},getDefaultCenter:function(){var v=this.getBoundingRect(),c=v.x+v.width/2,s=v.y+v.height/2;return[c,s]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var v=this._rawTransformable.getLocalTransform(),c=this._roamTransformable,s=this.getDefaultCenter(),l=this.getCenter(),u=this.getZoom();l=t.applyTransform([],l,v),s=t.applyTransform([],s,v),c.origin=l,c.position=[s[0]-l[0],s[1]-l[1]],c.scale=[u,u],this._updateTransform()},_updateTransform:function(){var v=this._roamTransformable,c=this._rawTransformable;c.parent=v,v.updateTransform(),c.updateTransform(),r.copy(this.transform||(this.transform=[]),c.transform||r.create()),this._rawTransform=c.getLocalTransform(),this.invTransform=this.invTransform||[],r.invert(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var v=this.getBoundingRect().clone();return v.applyTransform(this.transform),v},dataToPoint:function(v,c,s){var l=c?this._rawTransform:this.transform;return s=s||[],l?n(s,v,l):t.copy(s,v)},pointToData:function(v){var c=this.invTransform;return c?n([],v,c):[v[0],v[1]]},convertToPixel:e.curry(o,"dataToPoint"),convertFromPixel:e.curry(o,"pointToData"),containPoint:function(v){return this.getViewRectAfterRoam().contain(v[0],v[1])}},e.mixin(d,i);function o(v,c,s,l){var u=s.seriesModel,p=u?u.coordinateSystem:null;return p===this?p[v](l):null}var f=d;return ql=f,ql}var Hl,ry;function zV(){if(ry)return Hl;ry=1;for(var e=F,t=nT(),r=[126,25],a=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<a.length;i++)for(var n=0;n<a[i].length;n++)a[i][n][0]/=10.5,a[i][n][1]/=-10.5/.75,a[i][n][0]+=r[0],a[i][n][1]+=r[1];function h(d){d.map==="china"&&d.regions.push(new t("南海诸岛",e.map(a,function(o){return{type:"polygon",exterior:o}}),r))}return Hl=h,Hl}var Gl,ay;function OV(){if(ay)return Gl;ay=1;var e=F,t={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function r(a){e.each(a.regions,function(i){var n=t[i.name];if(n){var h=i.center;h[0]+=n[0]/10.5,h[1]+=-n[1]/(10.5/.75)}})}return Gl=r,Gl}var Fl,iy;function NV(){if(iy)return Fl;iy=1;var e=F,t={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function r(a){e.each(a.regions,function(i){var n=t[i.name];if(n){var h=i.center;h[0]=n[0],h[1]=n[1]}})}return Fl=r,Fl}var $l,ny;function VV(){if(ny)return $l;ny=1;var e=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function t(r){if(r.map==="china")for(var a=0,i=r.regions.length;a<i;++a)r.regions[a].name==="台湾"&&r.regions[a].geometries.push({type:"polygon",exterior:e[0]})}return $l=t,$l}var Ul,oy;function BV(){if(oy)return Ul;oy=1;var e=F,t=Qe,r=oT(),a=pT(),i=zV(),n=OV(),h=NV(),d=VV(),o=[i,n,h,d];function f(s,l,u,p,g){a.call(this,s),this.map=l,this._nameCoordMap=e.createHashMap(),this.loadGeoJson(u,p,g)}f.prototype={constructor:f,type:"geo",dimensions:["lng","lat"],containCoord:function(s){for(var l=this.regions,u=0;u<l.length;u++)if(l[u].contain(s))return!0;return!1},loadGeoJson:function(s,l,u){try{this.regions=s?r(s):[]}catch(b){throw`Invalid geoJson format
`+b.message}l=l||{},u=u||{};for(var p=this.regions,g=e.createHashMap(),m=0;m<p.length;m++){var _=p[m].name;_=u.hasOwnProperty(_)?u[_]:_,p[m].name=_,g.set(_,p[m]),this.addGeoCoord(_,p[m].center);var y=l[_];y&&p[m].transformTo(y.left,y.top,y.width,y.height)}this._regionsMap=g,this._rect=null,e.each(o,function(b){b(this)},this)},transformTo:function(s,l,u,p){var g=this.getBoundingRect();g=g.clone(),g.y=-g.y-g.height;var m=this._rawTransformable;m.transform=g.calculateTransform(new t(s,l,u,p)),m.decomposeTransform();var _=m.scale;_[1]=-_[1],m.updateTransform(),this._updateTransform()},getRegion:function(s){return this._regionsMap.get(s)},getRegionByCoord:function(s){for(var l=this.regions,u=0;u<l.length;u++)if(l[u].contain(s))return l[u]},addGeoCoord:function(s,l){this._nameCoordMap.set(s,l)},getGeoCoord:function(s){return this._nameCoordMap.get(s)},getBoundingRect:function(){if(this._rect)return this._rect;for(var s,l=this.regions,u=0;u<l.length;u++){var p=l[u].getBoundingRect();s=s||p.clone(),s.union(p)}return this._rect=s||new t(0,0,0,0)},dataToPoint:function(s,l,u){if(typeof s=="string"&&(s=this.getGeoCoord(s)),s)return a.prototype.dataToPoint.call(this,s,l,u)},convertToPixel:e.curry(v,"dataToPoint"),convertFromPixel:e.curry(v,"pointToData")},e.mixin(f,a);function v(s,l,u,p){var g=u.geoModel,m=u.seriesModel,_=g?g.coordinateSystem:m?m.coordinateSystem||(m.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return _===this?_[s](p):null}var c=f;return Ul=c,Ul}var Wl,sy;function Go(){if(sy)return Wl;sy=1;var e=ve,t=F,r=BV(),a=ze,i=Ie();function n(f,v){var c=f.get("boundingCoords");if(c!=null){var s=c[0],l=c[1];isNaN(s[0])||isNaN(s[1])||isNaN(l[0])||isNaN(l[1])||this.setBoundingRect(s[0],s[1],l[0]-s[0],l[1]-s[1])}var u=this.getBoundingRect(),p,g=f.get("layoutCenter"),m=f.get("layoutSize"),_=v.getWidth(),y=v.getHeight(),b=f.get("aspectScale")||.75,x=u.width/u.height*b,w=!1;g&&m&&(g=[i.parsePercent(g[0],_),i.parsePercent(g[1],y)],m=i.parsePercent(m,Math.min(_,y)),!isNaN(g[0])&&!isNaN(g[1])&&!isNaN(m)&&(w=!0));var S;if(w){var S={};x>1?(S.width=m,S.height=m/x):(S.height=m,S.width=m*x),S.y=g[1]-S.height/2,S.x=g[0]-S.width/2}else p=f.getBoxLayoutParams(),p.aspect=x,S=a.getLayoutRect(p,{width:_,height:y});this.setViewRect(S.x,S.y,S.width,S.height),this.setCenter(f.get("center")),this.setZoom(f.get("zoom"))}function h(f,v){t.each(v.get("geoCoord"),function(c,s){f.addGeoCoord(s,c)})}var d={dimensions:r.prototype.dimensions,create:function(f,v){var c=[];f.eachComponent("geo",function(l,u){var p=l.get("map"),g=e.getMap(p),m=new r(p+u,p,g&&g.geoJson,g&&g.specialAreas,l.get("nameMap"));m.zoomLimit=l.get("scaleLimit"),c.push(m),h(m,l),l.coordinateSystem=m,m.model=l,m.resize=n,m.resize(l,v)}),f.eachSeries(function(l){var u=l.get("coordinateSystem");if(u==="geo"){var p=l.get("geoIndex")||0;l.coordinateSystem=c[p]}});var s={};return f.eachSeriesByType("map",function(l){if(!l.getHostGeoModel()){var u=l.getMapType();s[u]=s[u]||[],s[u].push(l)}}),t.each(s,function(l,u){var p=e.getMap(u),g=t.map(l,function(_){return _.get("nameMap")}),m=new r(u,u,p&&p.geoJson,p&&p.specialAreas,t.mergeAll(g));m.zoomLimit=t.retrieve.apply(null,t.map(l,function(_){return _.get("scaleLimit")})),c.push(m),m.resize=n,m.resize(l[0],v),t.each(l,function(_){_.coordinateSystem=m,h(m,_)})}),c},getFilledRegions:function(f,v,c){var s=(f||[]).slice();c=c||{};var l=e.getMap(v),u=l&&l.geoJson;if(!u)return f;for(var p=t.createHashMap(),g=u.features,m=0;m<s.length;m++)p.set(s[m].name,s[m]);for(var m=0;m<g.length;m++){var _=g[m].properties.name;p.get(_)||(c.hasOwnProperty(_)&&(_=c[_]),s.push({name:_}))}return s}};e.registerCoordinateSystem("geo",d);var o=d;return Wl=o,Wl}var Zl,ly;function qV(){if(ly)return Zl;ly=1;var e=F,t=li(),r=yt,a=Oe,i=a.encodeHTML,n=a.addCommas,h=td(),d=Qt,o=d.retrieveRawAttr,f=Go(),v=r.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(s){v.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(s){return t(this,["value"])},mergeOption:function(s){v.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var s=this.getRawData(),l=s.mapDimension("value"),u=[],p=0,g=s.count();p<g;p++)u.push({name:s.getName(p),value:s.get(l,p),selected:o(s,p,"selected")});return u=f.getFilledRegions(u,this.getMapType(),this.option.nameMap),u},getHostGeoModel:function(){var s=this.option.geoIndex;return s!=null?this.dependentModels.geo[s]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(s,l){},getRawValue:function(s){var l=this.getData();return l.get(l.mapDimension("value"),s)},getRegionModel:function(s){var l=this.getData();return l.getItemModel(l.indexOfName(s))},formatTooltip:function(s){for(var l=this.getData(),u=n(this.getRawValue(s)),p=l.getName(s),g=this.seriesGroup,m=[],_=0;_<g.length;_++){var y=g[_].originalData.indexOfName(p),b=l.mapDimension("value");isNaN(g[_].originalData.get(b,y))||m.push(i(g[_].name))}return m.join(", ")+"<br />"+i(p+" : "+u)},getTooltipPosition:function(s){if(s!=null){var l=this.getData().getName(s),u=this.coordinateSystem,p=u.getRegion(l);return p&&u.dataToPoint(p.center)}},setZoom:function(s){this.option.zoom=s},setCenter:function(s){this.option.center=s},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});e.mixin(v,h);var c=v;return Zl=c,Zl}var Si={},uy;function mT(){if(uy)return Si;uy=1;var e=ve,t="\0_ec_interaction_mutex";function r(h,d,o){var f=n(h);f[d]=o}function a(h,d,o){var f=n(h),v=f[d];v===o&&(f[d]=null)}function i(h,d){return!!n(h)[d]}function n(h){return h[t]||(h[t]={})}return e.registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),Si.take=r,Si.release=a,Si.isTaken=i,Si}var Yl,vy;function Fo(){if(vy)return Yl;vy=1;var e=F,t=ua,r=wt,a=mT();function i(l){this.pointerChecker,this._zr=l,this._opt={};var u=e.bind,p=u(n,this),g=u(h,this),m=u(d,this),_=u(o,this),y=u(f,this);t.call(this),this.setPointerChecker=function(b){this.pointerChecker=b},this.enable=function(b,x){this.disable(),this._opt=e.defaults(e.clone(x)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),b==null&&(b=!0),(b===!0||b==="move"||b==="pan")&&(l.on("mousedown",p),l.on("mousemove",g),l.on("mouseup",m)),(b===!0||b==="scale"||b==="zoom")&&(l.on("mousewheel",_),l.on("pinch",y))},this.disable=function(){l.off("mousedown",p),l.off("mousemove",g),l.off("mouseup",m),l.off("mousewheel",_),l.off("pinch",y)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}e.mixin(i,t);function n(l){if(!(r.notLeftMouse(l)||l.target&&l.target.draggable)){var u=l.offsetX,p=l.offsetY;this.pointerChecker&&this.pointerChecker(l,u,p)&&(this._x=u,this._y=p,this._dragging=!0)}}function h(l){if(!(r.notLeftMouse(l)||!c(this,"moveOnMouseMove",l)||!this._dragging||l.gestureEvent==="pinch"||a.isTaken(this._zr,"globalPan"))){var u=l.offsetX,p=l.offsetY,g=this._x,m=this._y,_=u-g,y=p-m;this._x=u,this._y=p,this._opt.preventDefaultMouseMove&&r.stop(l.event),this.trigger("pan",_,y,g,m,u,p)}}function d(l){r.notLeftMouse(l)||(this._dragging=!1)}function o(l){if(!(!c(this,"zoomOnMouseWheel",l)||l.wheelDelta===0)){var u=l.wheelDelta>0?1.1:1/1.1;v.call(this,l,u,l.offsetX,l.offsetY)}}function f(l){if(!a.isTaken(this._zr,"globalPan")){var u=l.pinchScale>1?1.1:1/1.1;v.call(this,l,u,l.pinchX,l.pinchY)}}function v(l,u,p,g){this.pointerChecker&&this.pointerChecker(l,p,g)&&(r.stop(l.event),this.trigger("zoom",u,p,g))}function c(l,u,p){var g=l._opt[u];return g&&(!e.isString(g)||p.event[g+"Key"])}var s=i;return Yl=s,Yl}var kn={},hy;function yT(){if(hy)return kn;hy=1;function e(r,a,i){var n=r.target,h=n.position;h[0]+=a,h[1]+=i,n.dirty()}function t(r,a,i,n){var h=r.target,d=r.zoomLimit,o=h.position,f=h.scale,v=r.zoom=r.zoom||1;if(v*=a,d){var c=d.min||0,s=d.max||1/0;v=Math.max(Math.min(s,v),c)}var l=v/r.zoom;r.zoom=v,o[0]-=(i-o[0])*(l-1),o[1]-=(n-o[1])*(l-1),f[0]*=l,f[1]*=l,h.dirty()}return kn.updateViewOnPan=e,kn.updateViewOnZoom=t,kn}var Xl={},cy;function rd(){if(cy)return Xl;cy=1;var e={axisPointer:1,tooltip:1,brush:1};function t(r,a,i){var n=a.getComponentByElement(r.topTarget),h=n&&n.coordinateSystem;return n&&n!==i&&!e[n.mainType]&&h&&h.model!==i}return Xl.onIrrelevantElement=t,Xl}var Kl,fy;function _T(){if(fy)return Kl;fy=1;var e=F,t=Fo(),r=yT(),a=rd(),i=a.onIrrelevantElement,n=le;function h(c,s){var l=c.getItemStyle(),u=c.get("areaColor");return u!=null&&(l.fill=u),l}function d(c,s,l,u,p){l.off("click"),l.off("mousedown"),s.get("selectedMode")&&(l.on("mousedown",function(){c._mouseDownFlag=!0}),l.on("click",function(g){if(c._mouseDownFlag){c._mouseDownFlag=!1;for(var m=g.target;!m.__regions;)m=m.parent;if(m){var _={type:(s.mainType==="geo"?"geo":"map")+"ToggleSelect",batch:e.map(m.__regions,function(y){return{name:y.name,from:p.uid}})};_[s.mainType+"Id"]=s.id,u.dispatchAction(_),o(s,l)}}}))}function o(c,s){s.eachChild(function(l){e.each(l.__regions,function(u){l.trigger(c.isSelected(u.name)?"emphasis":"normal")})})}function f(c,s){var l=new n.Group;this._controller=new t(c.getZr()),this._controllerHost={target:s?l:null},this.group=l,this._updateGroup=s,this._mouseDownFlag}f.prototype={constructor:f,draw:function(c,s,l,u,p){var g=c.mainType==="geo",m=c.getData&&c.getData();g&&s.eachComponent({mainType:"series",subType:"map"},function(C){!m&&C.getHostGeoModel()===c&&(m=C.getData())});var _=c.coordinateSystem,y=this.group,b=_.scale,x={position:_.position,scale:b};!y.childAt(0)||p?y.attr(x):n.updateProps(y,x,c),y.removeAll();var w=["itemStyle"],S=["emphasis","itemStyle"],A=["label"],T=["emphasis","label"],M=e.createHashMap();e.each(_.regions,function(C){var L=M.get(C.name)||M.set(C.name,new n.Group),I=new n.CompoundPath({shape:{paths:[]}});L.add(I);var P=c.getRegionModel(C.name)||c,R=P.getModel(w),E=P.getModel(S),D=h(R),k=h(E),z=P.getModel(A),O=P.getModel(T),N;if(m){N=m.indexOfName(C.name);var B=m.getItemVisual(N,"color",!0);B&&(D.fill=B)}e.each(C.geometries,function(J){if(J.type==="polygon"){I.shape.paths.push(new n.Polygon({shape:{points:J.exterior}}));for(var ae=0;ae<(J.interiors?J.interiors.length:0);ae++)I.shape.paths.push(new n.Polygon({shape:{points:J.interiors[ae]}}))}}),I.setStyle(D),I.style.strokeNoScale=!0,I.culling=!0;var q=z.get("show"),V=O.get("show"),G=m&&isNaN(m.get(m.mapDimension("value"),N)),$=m&&m.getItemLayout(N);if(g||G&&(q||V)||$&&$.showLabel){var Z=g?C.name:N,Y;(!m||N>=0)&&(Y=c);var Q=new n.Text({position:C.center.slice(),scale:[1/b[0],1/b[1]],z2:10,silent:!0});n.setLabelStyle(Q.style,Q.hoverStyle={},z,O,{labelFetcher:Y,labelDataIndex:Z,defaultText:C.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),L.add(Q)}if(m)m.setItemGraphicEl(N,L);else{var P=c.getRegionModel(C.name);I.eventData={componentType:"geo",geoIndex:c.componentIndex,name:C.name,region:P&&P.option||{}}}var ee=L.__regions||(L.__regions=[]);ee.push(C),n.setHoverStyle(L,k,{hoverSilentOnTouch:!!c.get("selectedMode")}),y.add(L)}),this._updateController(c,s,l),d(this,c,y,l,u),o(c,y)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(c,s,l){var u=c.coordinateSystem,p=this._controller,g=this._controllerHost;g.zoomLimit=c.get("scaleLimit"),g.zoom=u.getZoom(),p.enable(c.get("roam")||!1);var m=c.mainType;function _(){var y={type:"geoRoam",componentType:m};return y[m+"Id"]=c.id,y}p.off("pan").on("pan",function(y,b){this._mouseDownFlag=!1,r.updateViewOnPan(g,y,b),l.dispatchAction(e.extend(_(),{dx:y,dy:b}))},this),p.off("zoom").on("zoom",function(y,b,x){if(this._mouseDownFlag=!1,r.updateViewOnZoom(g,y,b,x),l.dispatchAction(e.extend(_(),{zoom:y,originX:b,originY:x})),this._updateGroup){var w=this.group,S=w.scale;w.traverse(function(A){A.type==="text"&&A.attr("scale",[1/S[0],1/S[1]])})}},this),p.setPointerChecker(function(y,b,x){return u.getViewRectAfterRoam().contain(b,x)&&!i(y,l,c)})}};var v=f;return Kl=v,Kl}var Ql,dy;function HV(){if(dy)return Ql;dy=1;var e=ve,t=F,r=le,a=_T(),i=e.extendChartView({type:"map",render:function(n,h,d,o){if(!(o&&o.type==="mapToggleSelect"&&o.from===this.uid)){var f=this.group;if(f.removeAll(),!n.getHostGeoModel()){if(o&&o.type==="geoRoam"&&o.componentType==="series"&&o.seriesId===n.id){var v=this._mapDraw;v&&f.add(v.group)}else if(n.needsDrawMap){var v=this._mapDraw||new a(d,!0);f.add(v.group),v.draw(n,h,d,this,o),this._mapDraw=v}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;n.get("showLegendSymbol")&&h.getComponent("legend")&&this._renderSymbols(n,h,d)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(n,h,d){var o=n.originalData,f=this.group;o.each(o.mapDimension("value"),function(v,c){if(!isNaN(v)){var s=o.getItemLayout(c);if(!(!s||!s.point)){var l=s.point,u=s.offset,p=new r.Circle({style:{fill:n.getData().getVisual("color")},shape:{cx:l[0]+u*9,cy:l[1],r:3},silent:!0,z2:u?8:10});if(!u){var g=n.mainSeries.getData(),m=o.getName(c),_=g.indexOfName(m),y=o.getItemModel(c),b=y.getModel("label"),x=y.getModel("emphasis.label"),w=g.getItemGraphicEl(_),S=t.retrieve2(n.getFormattedLabel(c,"normal"),m),A=t.retrieve2(n.getFormattedLabel(c,"emphasis"),S),T=function(){var C=r.setTextStyle({},x,{text:x.get("show")?A:null},{isRectText:!0,useInsideStyle:!1},!0);p.style.extendFrom(C),p.__mapOriginalZ2=p.z2,p.z2+=1},M=function(){r.setTextStyle(p.style,b,{text:b.get("show")?S:null,textPosition:b.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),p.__mapOriginalZ2!=null&&(p.z2=p.__mapOriginalZ2,p.__mapOriginalZ2=null)};w.on("mouseover",T).on("mouseout",M).on("emphasis",T).on("normal",M),M()}f.add(p)}}})}});return Ql=i,Ql}var gy={},jl={},py;function xT(){if(py)return jl;py=1;function e(t,r,a){var i=t.getZoom(),n=t.getCenter(),h=r.zoom,d=t.dataToPoint(n);if(r.dx!=null&&r.dy!=null){d[0]-=r.dx,d[1]-=r.dy;var n=t.pointToData(d);t.setCenter(n)}if(h!=null){if(a){var o=a.min||0,f=a.max||1/0;h=Math.max(Math.min(i*h,f),o)/i}t.scale[0]*=h,t.scale[1]*=h;var v=t.position,c=(r.originX-v[0])*(h-1),s=(r.originY-v[1])*(h-1);v[0]-=c,v[1]-=s,t.updateTransform();var n=t.pointToData(d);t.setCenter(n),t.setZoom(h*i)}return{center:t.getCenter(),zoom:t.getZoom()}}return jl.updateCenterAndZoom=e,jl}var my;function ST(){if(my)return gy;my=1;var e=ve,t=F,r=xT(),a=r.updateCenterAndZoom;return e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,n){var h=i.componentType||"series";n.eachComponent({mainType:h,query:i},function(d){var o=d.coordinateSystem;if(o.type==="geo"){var f=a(o,i,d.get("scaleLimit"));d.setCenter&&d.setCenter(f.center),d.setZoom&&d.setZoom(f.zoom),h==="series"&&t.each(d.seriesGroup,function(v){v.setCenter(f.center),v.setZoom(f.zoom)})}})}),gy}var Jl,yy;function GV(){if(yy)return Jl;yy=1;var e=F;function t(r){var a={};r.eachSeriesByType("map",function(i){var n=i.getMapType();if(!(i.getHostGeoModel()||a[n])){var h={};e.each(i.seriesGroup,function(o){var f=o.coordinateSystem,v=o.originalData;o.get("showLegendSymbol")&&r.getComponent("legend")&&v.each(v.mapDimension("value"),function(c,s){var l=v.getName(s),u=f.getRegion(l);if(!(!u||isNaN(c))){var p=h[l]||0,g=f.dataToPoint(u.center);h[l]=p+1,v.setItemLayout(s,{point:g,offset:p})}})});var d=i.getData();d.each(function(o){var f=d.getName(o),v=d.getItemLayout(o)||{};v.showLabel=!h[f],d.setItemLayout(o,v)}),a[n]=!0}})}return Jl=t,Jl}var eu,_y;function FV(){if(_y)return eu;_y=1;function e(t){t.eachSeriesByType("map",function(r){var a=r.get("color"),i=r.getModel("itemStyle"),n=i.get("areaColor"),h=i.get("color")||a[r.seriesIndex%a.length];r.getData().setVisual({areaColor:n,color:h})})}return eu=e,eu}var tu,xy;function $V(){if(xy)return tu;xy=1;var e=F;function t(a,i){var n={};return e.each(a,function(h){h.each(h.mapDimension("value"),function(d,o){var f="ec-"+h.getName(o);n[f]=n[f]||[],isNaN(d)||n[f].push(d)})}),a[0].map(a[0].mapDimension("value"),function(h,d){for(var o="ec-"+a[0].getName(d),f=0,v=1/0,c=-1/0,s=n[o].length,l=0;l<s;l++)v=Math.min(v,n[o][l]),c=Math.max(c,n[o][l]),f+=n[o][l];var u;return i==="min"?u=v:i==="max"?u=c:i==="average"?u=f/s:u=f,s===0?NaN:u})}function r(a){var i={};a.eachSeriesByType("map",function(n){var h=n.getHostGeoModel(),d=h?"o"+h.id:"i"+n.getMapType();(i[d]=i[d]||[]).push(n)}),e.each(i,function(n,h){for(var d=t(e.map(n,function(f){return f.getData()}),n[0].get("mapValueCalculation")),o=0;o<n.length;o++)n[o].originalData=n[o].getData();for(var o=0;o<n.length;o++)n[o].seriesGroup=n,n[o].needsDrawMap=o===0&&!n[o].getHostGeoModel(),n[o].setData(d.cloneShallow()),n[o].mainSeries=n[0]})}return tu=r,tu}var ru,Sy;function UV(){if(Sy)return ru;Sy=1;var e=F;function t(r){e.each(r.series,function(a){a&&a.type==="map"&&(a.map=a.map||a.mapType,e.defaults(a,a.mapLocation))})}return ru=t,ru}var by;function WV(){if(by)return ey;by=1;var e=ve;qV(),HV(),ST(),Go();var t=GV(),r=FV(),a=$V(),i=UV(),n=gT();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,a),e.registerPreprocessor(i),n("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]),ey}var wy={},au,Ay;function bT(){if(Ay)return au;Ay=1;var e=F,t=e.each,r="\0__link_datas",a="\0__link_mainData";function i(l){var u=l.mainData,p=l.datas;p||(p={main:u},l.datasAttr={main:"data"}),l.datas=l.mainData=null,v(u,p,l),t(p,function(g){t(u.TRANSFERABLE_METHODS,function(m){g.wrapMethod(m,e.curry(n,l))})}),u.wrapMethod("cloneShallow",e.curry(d,l)),t(u.CHANGABLE_METHODS,function(g){u.wrapMethod(g,e.curry(h,l))}),e.assert(p[u.dataType]===u)}function n(l,u){if(f(this)){var p=e.extend({},this[r]);p[this.dataType]=u,v(u,p,l)}else c(u,this.dataType,this[a],l);return u}function h(l,u){return l.struct&&l.struct.update(this),u}function d(l,u){return t(u[r],function(p,g){p!==u&&c(p.cloneShallow(),g,u,l)}),u}function o(l){var u=this[a];return l==null||u==null?u:u[r][l]}function f(l){return l[a]===l}function v(l,u,p){l[r]={},t(u,function(g,m){c(g,m,l,p)})}function c(l,u,p,g){p[r][u]=l,l[a]=p,l.dataType=u,g.struct&&(l[g.structAttr]=g.struct,g.struct[g.datasAttr[u]]=l),l.getLinkedData=o}var s=i;return au=s,au}var iu,Ty;function ad(){if(Ty)return iu;Ty=1;var e=F,t=mt,r=bT(),a=qt(),i=oi(),n=function(f,v){this.name=f||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=v};n.prototype={constructor:n,isRemoved:function(){return this.dataIndex<0},eachNode:function(f,v,c){typeof f=="function"&&(c=v,v=f,f=null),f=f||{},e.isString(f)&&(f={order:f});var s=f.order||"preorder",l=this[f.attr||"children"],u;s==="preorder"&&(u=v.call(c,this));for(var p=0;!u&&p<l.length;p++)l[p].eachNode(f,v,c);s==="postorder"&&v.call(c,this)},updateDepthAndHeight:function(f){var v=0;this.depth=f;for(var c=0;c<this.children.length;c++){var s=this.children[c];s.updateDepthAndHeight(f+1),s.height>v&&(v=s.height)}this.height=v+1},getNodeById:function(f){if(this.getId()===f)return this;for(var v=0,c=this.children,s=c.length;v<s;v++){var l=c[v].getNodeById(f);if(l)return l}},contains:function(f){if(f===this)return!0;for(var v=0,c=this.children,s=c.length;v<s;v++){var l=c[v].contains(f);if(l)return l}},getAncestors:function(f){for(var v=[],c=f?this:this.parentNode;c;)v.push(c),c=c.parentNode;return v.reverse(),v},getValue:function(f){var v=this.hostTree.data;return v.get(v.getDimension(f||"value"),this.dataIndex)},setLayout:function(f,v){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,f,v)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(f){if(!(this.dataIndex<0)){var v=this.hostTree,c=v.data.getItemModel(this.dataIndex),s=this.getLevelModel(),l;return!s&&(this.children.length===0||this.children.length!==0&&this.isExpand===!1)&&(l=this.getLeavesModel()),c.getModel(f,(s||l||v.hostModel).getModel(f))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(f,v){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,f,v)},getVisual:function(f,v){return this.hostTree.data.getItemVisual(this.dataIndex,f,v)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(f){for(var v=f.parentNode;v;){if(v===this)return!0;v=v.parentNode}return!1},isDescendantOf:function(f){return f!==this&&f.isAncestorOf(this)}};function h(f,v,c){this.root,this.data,this._nodes=[],this.hostModel=f,this.levelModels=e.map(v||[],function(s){return new t(s,f,f.ecModel)}),this.leavesModel=new t(c||{},f,f.ecModel)}h.prototype={constructor:h,type:"tree",eachNode:function(f,v,c){this.root.eachNode(f,v,c)},getNodeByDataIndex:function(f){var v=this.data.getRawIndex(f);return this._nodes[v]},getNodeByName:function(f){return this.root.getNodeByName(f)},update:function(){for(var f=this.data,v=this._nodes,c=0,s=v.length;c<s;c++)v[c].dataIndex=-1;for(var c=0,s=f.count();c<s;c++)v[f.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}},h.createTree=function(f,v,c){var s=new h(v,c.levels,c.leaves),l=[],u=1;p(f);function p(_,y){var b=_.value;u=Math.max(u,e.isArray(b)?b.length:1),l.push(_);var x=new n(_.name,s);y?d(x,y):s.root=x,s._nodes.push(x);var w=_.children;if(w)for(var S=0;S<w.length;S++)p(w[S],x)}s.root.updateDepthAndHeight(0);var g=i(l,{coordDimensions:["value"],dimensionsCount:u}),m=new a(g,v);return m.initData(l),r({mainData:m,struct:s,structAttr:"tree"}),s.update(),s};function d(f,v){var c=v.children;f.parentNode!==v&&(c.push(f),f.parentNode=v)}var o=h;return iu=o,iu}var nu,Cy;function ZV(){if(Cy)return nu;Cy=1;var e=yt,t=ad(),r=Oe,a=r.encodeHTML,i=e.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(n){var h={name:n.name,children:n.data},d=n.leaves||{},o={};o.leaves=d;var f=t.createTree(h,this,o),v=0;f.eachNode("preorder",function(l){l.depth>v&&(v=l.depth)});var c=n.expandAndCollapse,s=c&&n.initialTreeDepth>=0?n.initialTreeDepth:v;return f.root.eachNode("preorder",function(l){var u=l.hostTree.data.getRawDataItem(l.dataIndex);l.isExpand=u&&u.collapsed!=null?!u.collapsed:l.depth<=s}),f.data},getOrient:function(){var n=this.get("orient");return n==="horizontal"?n="LR":n==="vertical"&&(n="TB"),n},formatTooltip:function(n){for(var h=this.getData().tree,d=h.root.children[0],o=h.getNodeByDataIndex(n),f=o.getValue(),v=o.name;o&&o!==d;)v=o.parentNode.name+"."+v,o=o.parentNode;return a(v+(isNaN(f)||f==null?"":" : "+f))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});return nu=i,nu}var Or={},My;function wT(){if(My)return Or;My=1;var e=ze;function t(u){u.hierNode={defaultAncestor:null,ancestor:u,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var p=[u],g,m;g=p.pop();)if(m=g.children,g.isExpand&&m.length)for(var _=m.length,y=_-1;y>=0;y--){var b=m[y];b.hierNode={defaultAncestor:null,ancestor:b,prelim:0,modifier:0,change:0,shift:0,i:y,thread:null},p.push(b)}}function r(u,p){var g=u.isExpand?u.children:[],m=u.parentNode.children,_=u.hierNode.i?m[u.hierNode.i-1]:null;if(g.length){d(u);var y=(g[0].hierNode.prelim+g[g.length-1].hierNode.prelim)/2;_?(u.hierNode.prelim=_.hierNode.prelim+p(u,_),u.hierNode.modifier=u.hierNode.prelim-y):u.hierNode.prelim=y}else _&&(u.hierNode.prelim=_.hierNode.prelim+p(u,_));u.parentNode.hierNode.defaultAncestor=o(u,_,u.parentNode.hierNode.defaultAncestor||m[0],p)}function a(u){var p=u.hierNode.prelim+u.parentNode.hierNode.modifier;u.setLayout({x:p},!0),u.hierNode.modifier+=u.parentNode.hierNode.modifier}function i(u){return arguments.length?u:l}function n(u,p){var g={};return u-=Math.PI/2,g.x=p*Math.cos(u),g.y=p*Math.sin(u),g}function h(u,p){return e.getLayoutRect(u.getBoxLayoutParams(),{width:p.getWidth(),height:p.getHeight()})}function d(u){for(var p=u.children,g=p.length,m=0,_=0;--g>=0;){var y=p[g];y.hierNode.prelim+=m,y.hierNode.modifier+=m,_+=y.hierNode.change,m+=y.hierNode.shift+_}}function o(u,p,g,m){if(p){for(var _=u,y=u,b=y.parentNode.children[0],x=p,w=_.hierNode.modifier,S=y.hierNode.modifier,A=b.hierNode.modifier,T=x.hierNode.modifier;x=f(x),y=v(y),x&&y;){_=f(_),b=v(b),_.hierNode.ancestor=u;var M=x.hierNode.prelim+T-y.hierNode.prelim-S+m(x,y);M>0&&(s(c(x,u,g),u,M),S+=M,w+=M),T+=x.hierNode.modifier,S+=y.hierNode.modifier,w+=_.hierNode.modifier,A+=b.hierNode.modifier}x&&!f(_)&&(_.hierNode.thread=x,_.hierNode.modifier+=T-w),y&&!v(b)&&(b.hierNode.thread=y,b.hierNode.modifier+=S-A,g=u)}return g}function f(u){var p=u.children;return p.length&&u.isExpand?p[p.length-1]:u.hierNode.thread}function v(u){var p=u.children;return p.length&&u.isExpand?p[0]:u.hierNode.thread}function c(u,p,g){return u.hierNode.ancestor.parentNode===p.parentNode?u.hierNode.ancestor:g}function s(u,p,g){var m=g/(p.hierNode.i-u.hierNode.i);p.hierNode.change-=m,p.hierNode.shift+=g,p.hierNode.modifier+=g,p.hierNode.prelim+=g,u.hierNode.change+=m}function l(u,p){return u.parentNode===p.parentNode?1:2}return Or.init=t,Or.firstWalk=r,Or.secondWalk=a,Or.separation=i,Or.radialCoordinate=n,Or.getViewRect=h,Or}var ou,Dy;function YV(){if(Dy)return ou;Dy=1;var e=F,t=le,r=Vo(),a=wT(),i=a.radialCoordinate,n=ve,h=n.extendChartView({type:"tree",init:function(s,l){this._oldTree,this._mainGroup=new t.Group,this.group.add(this._mainGroup)},render:function(s,l,u,p){var g=s.getData(),m=s.layoutInfo,_=this._mainGroup,y=s.get("layout");y==="radial"?_.attr("position",[m.x+m.width/2,m.y+m.height/2]):_.attr("position",[m.x,m.y]);var b=this._data,x={expandAndCollapse:s.get("expandAndCollapse"),layout:y,orient:s.getOrient(),curvature:s.get("lineStyle.curveness"),symbolRotate:s.get("symbolRotate"),symbolOffset:s.get("symbolOffset"),hoverAnimation:s.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};g.diff(b).add(function(w){d(g,w)&&f(g,w,null,_,s,x)}).update(function(w,S){var A=b.getItemGraphicEl(S);if(!d(g,w)){A&&v(b,S,A,_,s,x);return}f(g,w,A,_,s,x)}).remove(function(w){var S=b.getItemGraphicEl(w);S&&v(b,w,S,_,s,x)}).execute(),x.expandAndCollapse===!0&&g.eachItemGraphicEl(function(w,S){w.off("click").on("click",function(){u.dispatchAction({type:"treeExpandAndCollapse",seriesId:s.id,dataIndex:S})})}),this._data=g},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}});function d(s,l){var u=s.getItemLayout(l);return u&&!isNaN(u.x)&&!isNaN(u.y)&&s.getItemVisual(l,"symbol")!=="none"}function o(s,l,u){return u.itemModel=l,u.itemStyle=l.getModel("itemStyle").getItemStyle(),u.hoverItemStyle=l.getModel("emphasis.itemStyle").getItemStyle(),u.lineStyle=l.getModel("lineStyle").getLineStyle(),u.labelModel=l.getModel("label"),u.hoverLabelModel=l.getModel("emphasis.label"),s.isExpand===!1&&s.children.length!==0?u.symbolInnerColor=u.itemStyle.fill:u.symbolInnerColor="#fff",u}function f(s,l,u,p,g,x){var _=!u,y=s.tree.getNodeByDataIndex(l),b=y.getModel(),x=o(y,b,x),w=s.tree.root,S=y.parentNode===w?y:y.parentNode||y,A=s.getItemGraphicEl(S.dataIndex),T=S.getLayout(),M=A?{x:A.position[0],y:A.position[1],rawX:A.__radialOldRawX,rawY:A.__radialOldRawY}:T,C=y.getLayout();_?(u=new r(s,l,x),u.attr("position",[M.x,M.y])):u.updateData(s,l,x),u.__radialOldRawX=u.__radialRawX,u.__radialOldRawY=u.__radialRawY,u.__radialRawX=C.rawX,u.__radialRawY=C.rawY,p.add(u),s.setItemGraphicEl(l,u),t.updateProps(u,{position:[C.x,C.y]},g);var L=u.getSymbolPath();if(x.layout==="radial"){var I=w.children[0],P=I.getLayout(),R=I.children.length,E,D;if(C.x===P.x&&y.isExpand===!0){var k={};k.x=(I.children[0].getLayout().x+I.children[R-1].getLayout().x)/2,k.y=(I.children[0].getLayout().y+I.children[R-1].getLayout().y)/2,E=Math.atan2(k.y-P.y,k.x-P.x),E<0&&(E=Math.PI*2+E),D=k.x<P.x,D&&(E=E-Math.PI)}else E=Math.atan2(C.y-P.y,C.x-P.x),E<0&&(E=Math.PI*2+E),y.children.length===0||y.children.length!==0&&y.isExpand===!1?(D=C.x<P.x,D&&(E=E-Math.PI)):(D=C.x>P.x,D||(E=E-Math.PI));var z=D?"left":"right";L.setStyle({textPosition:z,textRotation:-E,textOrigin:"center",verticalAlign:"middle"})}if(y.parentNode&&y.parentNode!==w){var O=u.__edge;O||(O=u.__edge=new t.BezierCurve({shape:c(x,M,M),style:e.defaults({opacity:0},x.lineStyle)})),t.updateProps(O,{shape:c(x,T,C),style:{opacity:1}},g),p.add(O)}}function v(s,l,u,p,g,x){for(var _=s.tree.getNodeByDataIndex(l),y=s.tree.root,b=_.getModel(),x=o(_,b,x),w=_.parentNode===y?_:_.parentNode||_,S;S=w.getLayout(),S==null;)w=w.parentNode===y?w:w.parentNode||w;t.updateProps(u,{position:[S.x+1,S.y+1]},g,function(){p.remove(u),s.setItemGraphicEl(l,null)}),u.fadeOut(null,{keepLabel:!0});var A=u.__edge;A&&t.updateProps(A,{shape:c(x,S,S),style:{opacity:0}},g,function(){p.remove(A)})}function c(s,l,u){var p,g,m,_,y=s.orient;if(s.layout==="radial"){var b=l.rawX,x=l.rawY,w=u.rawX,S=u.rawY,A=i(b,x),T=i(b,x+(S-x)*s.curvature),M=i(w,S+(x-S)*s.curvature),C=i(w,S);return{x1:A.x,y1:A.y,x2:C.x,y2:C.y,cpx1:T.x,cpy1:T.y,cpx2:M.x,cpy2:M.y}}else{var b=l.x,x=l.y,w=u.x,S=u.y;return(y==="LR"||y==="RL")&&(p=b+(w-b)*s.curvature,g=x,m=w+(b-w)*s.curvature,_=S),(y==="TB"||y==="BT")&&(p=b,g=x+(S-x)*s.curvature,m=w,_=S+(x-S)*s.curvature),{x1:b,y1:x,x2:w,y2:S,cpx1:p,cpy1:g,cpx2:m,cpy2:_}}}return ou=h,ou}var Ly={},Iy;function XV(){if(Iy)return Ly;Iy=1;var e=ve;return e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(a){var i=t.dataIndex,n=a.getData().tree,h=n.getNodeByDataIndex(i);h.isExpand=!h.isExpand})}),Ly}var zn={},Py;function KV(){if(Py)return zn;Py=1;function e(r,a,i){for(var n=[r],h=[],d;d=n.pop();)if(h.push(d),d.isExpand){var o=d.children;if(o.length)for(var f=0;f<o.length;f++)n.push(o[f])}for(;d=h.pop();)a(d,i)}function t(r,a){for(var i=[r],n;n=i.pop();)if(a(n),n.isExpand){var h=n.children;if(h.length)for(var d=h.length-1;d>=0;d--)i.push(h[d])}}return zn.eachAfter=e,zn.eachBefore=t,zn}var su,Ry;function QV(){if(Ry)return su;Ry=1;var e=KV(),t=e.eachAfter,r=e.eachBefore,a=wT(),i=a.init,n=a.firstWalk,h=a.secondWalk,d=a.separation,o=a.radialCoordinate,f=a.getViewRect;function v(s,l){s.eachSeriesByType("tree",function(u){c(u,l)})}function c(s,l){var u=f(s,l);s.layoutInfo=u;var p=s.get("layout"),g=0,m=0,_=null;p==="radial"?(g=2*Math.PI,m=Math.min(u.height,u.width)/2,_=d(function(R,E){return(R.parentNode===E.parentNode?1:2)/R.depth})):(g=u.width,m=u.height,_=d());var y=s.getData().tree.root,b=y.children[0];if(b){i(y),t(b,n,_),y.hierNode.modifier=-b.hierNode.prelim,r(b,h);var x=b,w=b,S=b;r(b,function(R){var E=R.getLayout().x;E<x.getLayout().x&&(x=R),E>w.getLayout().x&&(w=R),R.depth>S.depth&&(S=R)});var A=x===w?1:_(x,w)/2,T=A-x.getLayout().x,M=0,C=0,L=0,I=0;if(p==="radial")M=g/(w.getLayout().x+A+T),C=m/(S.depth-1||1),r(b,function(R){L=(R.getLayout().x+T)*M,I=(R.depth-1)*C;var E=o(L,I);R.setLayout({x:E.x,y:E.y,rawX:L,rawY:I},!0)});else{var P=s.getOrient();P==="RL"||P==="LR"?(C=m/(w.getLayout().x+A+T),M=g/(S.depth-1||1),r(b,function(R){I=(R.getLayout().x+T)*C,L=P==="LR"?(R.depth-1)*M:g-(R.depth-1)*M,R.setLayout({x:L,y:I},!0)})):(P==="TB"||P==="BT")&&(M=g/(w.getLayout().x+A+T),C=m/(S.depth-1||1),r(b,function(R){L=(R.getLayout().x+T)*M,I=P==="TB"?(R.depth-1)*C:m-(R.depth-1)*C,R.setLayout({x:L,y:I},!0)}))}}}return su=v,su}var Ey;function jV(){if(Ey)return wy;Ey=1;var e=ve;ZV(),YV(),XV();var t=ga(),r=QV();return e.registerVisual(t("tree","circle")),e.registerLayout(r),wy}var ky={},Pa={},zy;function ya(){if(zy)return Pa;zy=1;var e=F;function t(n,h,d){if(n&&e.indexOf(h,n.type)>=0){var o=d.getData().tree.root,f=n.targetNode;if(f&&o.contains(f))return{node:f};var v=n.targetNodeId;if(v!=null&&(f=o.getNodeById(v)))return{node:f}}}function r(n){for(var h=[];n;)n=n.parentNode,n&&h.push(n);return h.reverse()}function a(n,h){var d=r(n);return e.indexOf(d,h)>=0}function i(n,h){for(var d=[];n;){var o=n.dataIndex;d.push({name:n.name,dataIndex:o,value:h.getRawValue(o)}),n=n.parentNode}return d.reverse(),d}return Pa.retrieveTargetInfo=t,Pa.getPathToRoot=r,Pa.aboveViewRoot=a,Pa.wrapTreePathInfo=i,Pa}var lu,Oy;function JV(){if(Oy)return lu;Oy=1;var e=F,t=yt,r=ad(),a=mt,i=Oe,n=i.encodeHTML,h=i.addCommas,d=ya(),o=d.wrapTreePathInfo,f=t.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(s,l){var u={name:s.name,children:s.data};v(u);var p=s.levels||[];p=s.levels=c(p,l);var g={};return g.levels=p,r.createTree(u,this,g).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(s){var l=this.getData(),u=this.getRawValue(s),p=e.isArray(u)?h(u[0]):h(u),g=l.getName(s);return n(g+": "+p)},getDataParams:function(s){var l=t.prototype.getDataParams.apply(this,arguments),u=this.getData().tree.getNodeByDataIndex(s);return l.treePathInfo=o(u,this),l},setLayoutInfo:function(s){this.layoutInfo=this.layoutInfo||{},e.extend(this.layoutInfo,s)},mapIdToIndex:function(s){var l=this._idIndexMap;l||(l=this._idIndexMap=e.createHashMap(),this._idIndexMapCount=0);var u=l.get(s);return u==null&&l.set(s,u=this._idIndexMapCount++),u},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(s){s?this._viewRoot=s:s=this._viewRoot;var l=this.getRawData().tree.root;(!s||s!==l&&!l.contains(s))&&(this._viewRoot=l)}});function v(s){var l=0;e.each(s.children,function(p){v(p);var g=p.value;e.isArray(g)&&(g=g[0]),l+=g});var u=s.value;e.isArray(u)&&(u=u[0]),(u==null||isNaN(u))&&(u=l),u<0&&(u=0),e.isArray(s.value)?s.value[0]=u:s.value=u}function c(s,l){var u=l.get("color");if(u){s=s||[];var p;if(e.each(s,function(m){var _=new a(m),y=_.get("color");(_.get("itemStyle.color")||y&&y!=="none")&&(p=!0)}),!p){var g=s[0]||(s[0]={});g.color=u.slice()}return s}}return lu=f,lu}var uu,Ny;function eB(){if(Ny)return uu;Ny=1;var e=le,t=ze,r=F,a=ya(),i=a.wrapTreePathInfo,n=8,h=8,d=5;function o(s){this.group=new e.Group,s.add(this.group)}o.prototype={constructor:o,render:function(s,l,u,p){var g=s.getModel("breadcrumb"),m=this.group;if(m.removeAll(),!(!g.get("show")||!u)){var _=g.getModel("itemStyle"),y=_.getModel("textStyle"),b={pos:{left:g.get("left"),right:g.get("right"),top:g.get("top"),bottom:g.get("bottom")},box:{width:l.getWidth(),height:l.getHeight()},emptyItemWidth:g.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(u,b,y),this._renderContent(s,b,_,y,p),t.positionElement(m,b.pos,b.box)}},_prepare:function(s,l,u){for(var p=s;p;p=p.parentNode){var g=p.getModel().get("name"),m=u.getTextRect(g),_=Math.max(m.width+n*2,l.emptyItemWidth);l.totalWidth+=_+h,l.renderList.push({node:p,text:g,width:_})}},_renderContent:function(s,l,u,p,g){for(var m=0,_=l.emptyItemWidth,y=s.get("breadcrumb.height"),b=t.getAvailableSize(l.pos,l.box),x=l.totalWidth,w=l.renderList,S=w.length-1;S>=0;S--){var A=w[S],T=A.node,M=A.width,C=A.text;x>b.width&&(x-=M-_,M=_,C=null);var L=new e.Polygon({shape:{points:f(m,0,M,y,S===w.length-1,S===0)},style:r.defaults(u.getItemStyle(),{lineJoin:"bevel",text:C,textFill:p.getTextColor(),textFont:p.getFont()}),z:10,onclick:r.curry(g,T)});this.group.add(L),v(L,s,T),m+=M+h}},remove:function(){this.group.removeAll()}};function f(s,l,u,p,g,m){var _=[[g?s:s-d,l],[s+u,l],[s+u,l+p],[g?s:s-d,l+p]];return!m&&_.splice(2,0,[s+u+d,l+p/2]),!g&&_.push([s,l+p/2]),_}function v(s,l,u){s.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:l.componentIndex,seriesName:l.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:u&&u.dataIndex,name:u&&u.name},treePathInfo:u&&i(u,l)}}var c=o;return uu=c,uu}var vu={},Vy;function tB(){if(Vy)return vu;Vy=1;var e=F;function t(){var r=[],a={},i;return{add:function(n,h,d,o,f){return e.isString(o)&&(f=o,o=0),a[n.id]?!1:(a[n.id]=1,r.push({el:n,target:h,time:d,delay:o,easing:f}),!0)},done:function(n){return i=n,this},start:function(){for(var n=r.length,h=0,d=r.length;h<d;h++){var o=r[h];o.el.animateTo(o.target,o.time,o.delay,o.easing,f)}return this;function f(){n--,n||(r.length=0,a={},i&&i())}}}}return vu.createWrap=t,vu}var hu,By;function rB(){if(By)return hu;By=1;var e=ve,t=F,r=le,a=da(),i=ya(),n=eB(),h=Fo(),d=Qe,o=We,f=tB(),v=Ja,c=t.bind,s=r.Group,l=r.Rect,u=t.each,p=3,g=["label"],m=["emphasis","label"],_=["upperLabel"],y=["emphasis","upperLabel"],b=10,x=1,w=2,S=v([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),A=function(I){var P=S(I);return P.stroke=P.fill=P.lineWidth=null,P},T=e.extendChartView({type:"treemap",init:function(I,P){this._containerGroup,this._storage=M(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(I,P,R,E){var D=P.findComponents({mainType:"series",subType:"treemap",query:E});if(!(t.indexOf(D,I)<0)){this.seriesModel=I,this.api=R,this.ecModel=P;var k=["treemapZoomToNode","treemapRootToNode"],z=i.retrieveTargetInfo(E,k,I),O=E&&E.type,N=I.layoutInfo,B=!this._oldTree,q=this._storage,V=O==="treemapRootToNode"&&z&&q?{rootNodeGroup:q.nodeGroup[z.node.getRawIndex()],direction:E.direction}:null,G=this._giveContainerGroup(N),$=this._doRender(G,I,V);!B&&(!O||O==="treemapZoomToNode"||O==="treemapRootToNode")?this._doAnimation(G,$,I,V):$.renderFinally(),this._resetController(R),this._renderBreadcrumb(I,R,z)}},_giveContainerGroup:function(I){var P=this._containerGroup;return P||(P=this._containerGroup=new s,this._initEvents(P),this.group.add(P)),P.attr("position",[I.x,I.y]),P},_doRender:function(I,P,R){var E=P.getData().tree,D=this._oldTree,k=M(),z=M(),O=this._storage,N=[],B=t.curry(C,P,z,O,R,k,N);V(E.root?[E.root]:[],D&&D.root?[D.root]:[],I,E===D||!D,0);var q=G(O);return this._oldTree=E,this._storage=z,{lastsForAnimation:k,willDeleteEls:q,renderFinally:$};function V(Z,Y,Q,ee,J){ee?(Y=Z,u(Z,function(ie,re){!ie.isRemoved()&&j(re,re)})):new a(Y,Z,ae,ae).add(j).update(j).remove(t.curry(j,null)).execute();function ae(ie){return ie.getId()}function j(ie,re){var me=ie!=null?Z[ie]:null,we=re!=null?Y[re]:null,pe=B(me,we,Q,J);pe&&V(me&&me.viewChildren||[],we&&we.viewChildren||[],pe,ee,J+1)}}function G(Z){var Y=M();return Z&&u(Z,function(Q,ee){var J=Y[ee];u(Q,function(ae){ae&&(J.push(ae),ae.__tmWillDelete=1)})}),Y}function $(){u(q,function(Z){u(Z,function(Y){Y.parent&&Y.parent.remove(Y)})}),u(N,function(Z){Z.invisible=!0,Z.dirty()})}},_doAnimation:function(I,P,R,E){if(R.get("animation")){var D=R.get("animationDurationUpdate"),k=R.get("animationEasing"),z=f.createWrap();u(P.willDeleteEls,function(O,N){u(O,function(B,q){if(!B.invisible){var V=B.parent,G;if(E&&E.direction==="drillDown")G=V===E.rootNodeGroup?{shape:{x:0,y:0,width:V.__tmNodeWidth,height:V.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var $=0,Z=0;V.__tmWillDelete||($=V.__tmNodeWidth/2,Z=V.__tmNodeHeight/2),G=N==="nodeGroup"?{position:[$,Z],style:{opacity:0}}:{shape:{x:$,y:Z,width:0,height:0},style:{opacity:0}}}G&&z.add(B,G,D,k)}})}),u(this._storage,function(O,N){u(O,function(B,q){var V=P.lastsForAnimation[N][q],G={};V&&(N==="nodeGroup"?V.old&&(G.position=B.position.slice(),B.attr("position",V.old)):(V.old&&(G.shape=t.extend({},B.shape),B.setShape(V.old)),V.fadein?(B.setStyle("opacity",0),G.style={opacity:1}):B.style.opacity!==1&&(G.style={opacity:1})),z.add(B,G,D,k))})},this),this._state="animating",z.done(c(function(){this._state="ready",P.renderFinally()},this)).start()}},_resetController:function(I){var P=this._controller;P||(P=this._controller=new h(I.getZr()),P.enable(this.seriesModel.get("roam")),P.on("pan",c(this._onPan,this)),P.on("zoom",c(this._onZoom,this)));var R=new d(0,0,I.getWidth(),I.getHeight());P.setPointerChecker(function(E,D,k){return R.contain(D,k)})},_clearController:function(){var I=this._controller;I&&(I.dispose(),I=null)},_onPan:function(I,P){if(this._state!=="animating"&&(Math.abs(I)>p||Math.abs(P)>p)){var R=this.seriesModel.getData().tree.root;if(!R)return;var E=R.getLayout();if(!E)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:E.x+I,y:E.y+P,width:E.width,height:E.height}})}},_onZoom:function(I,P,R){if(this._state!=="animating"){var E=this.seriesModel.getData().tree.root;if(!E)return;var D=E.getLayout();if(!D)return;var k=new d(D.x,D.y,D.width,D.height),z=this.seriesModel.layoutInfo;P-=z.x,R-=z.y;var O=o.create();o.translate(O,O,[-P,-R]),o.scale(O,O,[I,I]),o.translate(O,O,[P,R]),k.applyTransform(O),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:k.x,y:k.y,width:k.width,height:k.height}})}},_initEvents:function(I){I.on("click",function(P){if(this._state==="ready"){var R=this.seriesModel.get("nodeClick",!0);if(R){var E=this.findTarget(P.offsetX,P.offsetY);if(E){var D=E.node;if(D.getLayout().isLeafRoot)this._rootToNode(E);else if(R==="zoomToNode")this._zoomToNode(E);else if(R==="link"){var k=D.hostTree.data.getItemModel(D.dataIndex),z=k.get("link",!0),O=k.get("target",!0)||"blank";z&&window.open(z,O)}}}}},this)},_renderBreadcrumb:function(I,P,R){R||(R=I.get("leafDepth",!0)!=null?{node:I.getViewRoot()}:this.findTarget(P.getWidth()/2,P.getHeight()/2),R||(R={node:I.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new n(this.group))).render(I,P,R.node,c(E,this));function E(D){this._state!=="animating"&&(i.aboveViewRoot(I.getViewRoot(),D)?this._rootToNode({node:D}):this._zoomToNode({node:D}))}},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=M(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(I){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},_rootToNode:function(I){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:I.node})},findTarget:function(I,P){var R,E=this.seriesModel.getViewRoot();return E.eachNode({attr:"viewChildren",order:"preorder"},function(D){var k=this._storage.background[D.getRawIndex()];if(k){var z=k.transformCoordToLocal(I,P),O=k.shape;if(O.x<=z[0]&&z[0]<=O.x+O.width&&O.y<=z[1]&&z[1]<=O.y+O.height)R={node:D,offsetX:z[0],offsetY:z[1]};else return!1}},this),R}});function M(){return{nodeGroup:[],background:[],content:[]}}function C(I,P,R,E,D,k,z,O,N,B){if(!z)return;var q=z.getLayout();if(!q||!q.isInView)return;var V=q.width,G=q.height,$=q.borderWidth,Z=q.invisible,Y=z.getRawIndex(),Q=O&&O.getRawIndex(),ee=z.viewChildren,J=q.upperHeight,ae=ee&&ee.length,j=z.getModel("itemStyle"),ie=z.getModel("emphasis.itemStyle"),re=U("nodeGroup",s);if(!re)return;if(N.add(re),re.attr("position",[q.x||0,q.y||0]),re.__tmNodeWidth=V,re.__tmNodeHeight=G,q.isAboveViewRoot)return re;var me=U("background",l,B,x);if(me&&pe(re,me,ae&&q.upperHeight),!ae){var we=U("content",l,B,w);we&&ce(re,we)}return re;function pe(te,oe,he){oe.dataIndex=z.dataIndex,oe.seriesIndex=I.seriesIndex,oe.setShape({x:0,y:0,width:V,height:G});var _e=z.getVisual("borderColor",!0),be=ie.get("borderColor");Se(oe,function(){var xe=A(j);xe.fill=_e;var ye=S(ie);if(ye.fill=be,he){var de=V-2*$;H(xe,ye,_e,de,J,{x:$,y:0,width:de,height:J})}else xe.text=ye.text=null;oe.setStyle(xe),r.setHoverStyle(oe,ye)}),te.add(oe)}function ce(te,oe){oe.dataIndex=z.dataIndex,oe.seriesIndex=I.seriesIndex;var he=Math.max(V-2*$,0),_e=Math.max(G-2*$,0);oe.culling=!0,oe.setShape({x:$,y:$,width:he,height:_e});var be=z.getVisual("color",!0);Se(oe,function(){var xe=A(j);xe.fill=be;var ye=S(ie);H(xe,ye,be,he,_e),oe.setStyle(xe),r.setHoverStyle(oe,ye)}),te.add(oe)}function Se(te,oe){Z?!te.invisible&&k.push(te):(oe(),te.__tmWillVisible||(te.invisible=!1))}function H(te,oe,he,_e,be,xe){var ye=z.getModel(),de=t.retrieve(I.getFormattedLabel(z.dataIndex,"normal",null,null,xe?"upperLabel":"label"),ye.get("name"));if(!xe&&q.isLeafRoot){var De=I.get("drillDownIcon",!0);de=De?De+" "+de:de}var Ee=ye.getModel(xe?_:g),Le=ye.getModel(xe?y:m),Ye=Ee.getShallow("show");r.setLabelStyle(te,oe,Ee,Le,{defaultText:Ye?de:null,autoColor:he,isRectText:!0}),xe&&(te.textRect=t.clone(xe)),te.truncate=Ye&&Ee.get("ellipsis")?{outerWidth:_e,outerHeight:be,minChar:2}:null}function U(te,oe,he,_e){var be=Q!=null&&R[te][Q],xe=D[te];return be?(R[te][Q]=null,X(xe,be,te)):Z||(be=new oe({z:L(he,_e)}),be.__tmDepth=he,be.__tmStorageName=te,ne(xe,be,te)),P[te][Y]=be}function X(te,oe,he){var _e=te[Y]={};_e.old=he==="nodeGroup"?oe.position.slice():t.extend({},oe.shape)}function ne(te,oe,he){var _e=te[Y]={},be=z.parentNode;if(be&&(!E||E.direction==="drillDown")){var xe=0,ye=0,de=D.background[be.getRawIndex()];!E&&de&&de.old&&(xe=de.old.width,ye=de.old.height),_e.old=he==="nodeGroup"?[0,ye]:{x:xe,y:ye,width:0,height:0}}_e.fadein=he!=="nodeGroup"}}function L(I,P){var R=I*b+P;return(R-1)/R}return hu=T,hu}var qy={},Hy;function aB(){if(Hy)return qy;Hy=1;for(var e=ve,t=ya(),r=function(){},a=["treemapZoomToNode","treemapRender","treemapMove"],i=0;i<a.length;i++)e.registerAction({type:a[i],update:"updateView"},r);return e.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,h){h.eachComponent({mainType:"series",subType:"treemap",query:n},d);function d(o,f){var v=["treemapZoomToNode","treemapRootToNode"],c=t.retrieveTargetInfo(n,v,o);if(c){var s=o.getViewRoot();s&&(n.direction=t.aboveViewRoot(s,c.node)?"rollUp":"drillDown"),o.resetViewRoot(c.node)}}}),qy}var cu,Gy;function _a(){if(Gy)return cu;Gy=1;var e=F,t=ut,r=Ie(),a=r.linearMap,i=e.each,n=e.isObject,h=-1,d=function(S){var A=S.mappingMethod,T=S.type,M=this.option=e.clone(S);this.type=T,this.mappingMethod=A,this._normalizeData=b[A];var C=o[T];this.applyVisual=C.applyVisual,this.getColorMapper=C.getColorMapper,this._doMap=C._doMap[A],A==="piecewise"?(c(M),f(M)):A==="category"?M.categories?v(M):c(M,!0):(e.assert(A!=="linear"||M.dataExtent),c(M))};d.prototype={constructor:d,mapValueToVisual:function(S){var A=this._normalizeData(S);return this._doMap(A,S)},getNormalizer:function(){return e.bind(this._normalizeData,this)}};var o=d.visualHandlers={color:{applyVisual:u("color"),getColorMapper:function(){var S=this.option;return e.bind(S.mappingMethod==="category"?function(A,T){return!T&&(A=this._normalizeData(A)),p.call(this,A)}:function(A,T,M){var C=!!M;return!T&&(A=this._normalizeData(A)),M=t.fastLerp(A,S.parsedVisual,M),C?M:t.stringify(M,"rgba")},this)},_doMap:{linear:function(S){return t.stringify(t.fastLerp(S,this.option.parsedVisual),"rgba")},category:p,piecewise:function(S,A){var T=_.call(this,A);return T==null&&(T=t.stringify(t.fastLerp(S,this.option.parsedVisual),"rgba")),T},fixed:g}},colorHue:s(function(S,A){return t.modifyHSL(S,A)}),colorSaturation:s(function(S,A){return t.modifyHSL(S,null,A)}),colorLightness:s(function(S,A){return t.modifyHSL(S,null,null,A)}),colorAlpha:s(function(S,A){return t.modifyAlpha(S,A)}),opacity:{applyVisual:u("opacity"),_doMap:m([0,1])},liftZ:{applyVisual:u("liftZ"),_doMap:{linear:g,category:g,piecewise:g,fixed:g}},symbol:{applyVisual:function(S,A,T){var M=this.mapValueToVisual(S);if(e.isString(M))T("symbol",M);else if(n(M))for(var C in M)M.hasOwnProperty(C)&&T(C,M[C])},_doMap:{linear:l,category:p,piecewise:function(S,A){var T=_.call(this,A);return T==null&&(T=l.call(this,S)),T},fixed:g}},symbolSize:{applyVisual:u("symbolSize"),_doMap:m([0,1])}};function f(S){var A=S.pieceList;S.hasSpecialVisual=!1,e.each(A,function(T,M){T.originIndex=M,T.visual!=null&&(S.hasSpecialVisual=!0)})}function v(S){var A=S.categories,T=S.visual,M=S.categoryMap={};if(i(A,function(I,P){M[I]=P}),!e.isArray(T)){var C=[];e.isObject(T)?i(T,function(I,P){var R=M[P];C[R??h]=I}):C[h]=T,T=y(S,C)}for(var L=A.length-1;L>=0;L--)T[L]==null&&(delete M[A[L]],A.pop())}function c(S,A){var T=S.visual,M=[];e.isObject(T)?i(T,function(L){M.push(L)}):T!=null&&M.push(T);var C={color:1,symbol:1};!A&&M.length===1&&!C.hasOwnProperty(S.type)&&(M[1]=M[0]),y(S,M)}function s(S){return{applyVisual:function(A,T,M){A=this.mapValueToVisual(A),M("color",S(T("color"),A))},_doMap:m([0,1])}}function l(S){var A=this.option.visual;return A[Math.round(a(S,[0,1],[0,A.length-1],!0))]||{}}function u(S){return function(A,T,M){M(S,this.mapValueToVisual(A))}}function p(S){var A=this.option.visual;return A[this.option.loop&&S!==h?S%A.length:S]}function g(){return this.option.visual[0]}function m(S){return{linear:function(A){return a(A,S,this.option.visual,!0)},category:p,piecewise:function(A,T){var M=_.call(this,T);return M==null&&(M=a(A,S,this.option.visual,!0)),M},fixed:g}}function _(S){var A=this.option,T=A.pieceList;if(A.hasSpecialVisual){var M=d.findPieceIndex(S,T),C=T[M];if(C&&C.visual)return C.visual[this.type]}}function y(S,A){return S.visual=A,S.type==="color"&&(S.parsedVisual=e.map(A,function(T){return t.parse(T)})),A}var b={linear:function(S){return a(S,this.option.dataExtent,[0,1],!0)},piecewise:function(S){var A=this.option.pieceList,T=d.findPieceIndex(S,A,!0);if(T!=null)return a(T,[0,A.length-1],[0,1],!0)},category:function(S){var A=this.option.categories?this.option.categoryMap[S]:S;return A??h},fixed:e.noop};d.listVisualTypes=function(){var S=[];return e.each(o,function(A,T){S.push(T)}),S},d.addVisualHandler=function(S,A){o[S]=A},d.isValidType=function(S){return o.hasOwnProperty(S)},d.eachVisual=function(S,A,T){e.isObject(S)?e.each(S,A,T):A.call(T,S)},d.mapVisual=function(S,A,T){var M,C=e.isArray(S)?[]:e.isObject(S)?{}:(M=!0,null);return d.eachVisual(S,function(L,I){var P=A.call(T,L,I);M?C=P:C[I]=P}),C},d.retrieveVisuals=function(S){var A={},T;return S&&i(o,function(M,C){S.hasOwnProperty(C)&&(A[C]=S[C],T=!0)}),T?A:null},d.prepareVisualTypes=function(S){if(n(S)){var A=[];i(S,function(T,M){A.push(M)}),S=A}else if(e.isArray(S))S=S.slice();else return[];return S.sort(function(T,M){return M==="color"&&T!=="color"&&T.indexOf("color")===0?1:-1}),S},d.dependsOn=function(S,A){return A==="color"?!!(S&&S.indexOf(A)===0):S===A},d.findPieceIndex=function(S,A,T){for(var M,C=1/0,L=0,I=A.length;L<I;L++){var P=A[L].value;if(P!=null){if(P===S||typeof P=="string"&&P===S+"")return L;T&&k(P,L)}}for(var L=0,I=A.length;L<I;L++){var R=A[L],E=R.interval,D=R.close;if(E){if(E[0]===-1/0){if(x(D[1],S,E[1]))return L}else if(E[1]===1/0){if(x(D[0],E[0],S))return L}else if(x(D[0],E[0],S)&&x(D[1],S,E[1]))return L;T&&k(E[0],L),T&&k(E[1],L)}}if(T)return S===1/0?A.length-1:S===-1/0?0:M;function k(z,O){var N=Math.abs(z-S);N<C&&(C=N,M=O)}};function x(S,A,T){return S?A<=T:A<T}var w=d;return cu=w,cu}var fu,Fy;function iB(){if(Fy)return fu;Fy=1;var e=_a(),t=ut,r=F,a=r.isArray,i="itemStyle",n={seriesType:"treemap",reset:function(u,p,g,m){var _=u.getData().tree,y=_.root,b=u.getModel(i);if(!y.isRemoved()){var x=r.map(_.levelModels,function(w){return w?w.get(i):null});h(y,{},x,b,u.getViewRoot().getAncestors(),u)}}};function h(u,p,g,m,_,y){var b=u.getModel(),x=u.getLayout();if(!(!x||x.invisible||!x.isInView)){var w=u.getModel(i),S=g[u.depth],A=d(w,p,S,m),T=w.get("borderColor"),M=w.get("borderColorSaturation"),C;M!=null&&(C=o(A),T=f(M,C)),u.setVisual("borderColor",T);var L=u.viewChildren;if(!L||!L.length)C=o(A),u.setVisual("color",C);else{var I=c(u,b,x,w,A,L);r.each(L,function(P,R){if(P.depth>=_.length||P===_[P.depth]){var E=l(b,A,P,R,I,y);h(P,E,g,m,_,y)}})}}}function d(u,p,g,m){var _=r.extend({},p);return r.each(["color","colorAlpha","colorSaturation"],function(y){var b=u.get(y,!0);b==null&&g&&(b=g[y]),b==null&&(b=p[y]),b==null&&(b=m.get(y)),b!=null&&(_[y]=b)}),_}function o(u){var p=v(u,"color");if(p){var g=v(u,"colorAlpha"),m=v(u,"colorSaturation");return m&&(p=t.modifyHSL(p,null,null,m)),g&&(p=t.modifyAlpha(p,g)),p}}function f(u,p){return p!=null?t.modifyHSL(p,null,null,u):null}function v(u,p){var g=u[p];if(g!=null&&g!=="none")return g}function c(u,p,g,m,_,y){if(!(!y||!y.length)){var b=s(p,"color")||_.color!=null&&_.color!=="none"&&(s(p,"colorAlpha")||s(p,"colorSaturation"));if(b){var x=p.get("visualMin"),w=p.get("visualMax"),S=g.dataExtent.slice();x!=null&&x<S[0]&&(S[0]=x),w!=null&&w>S[1]&&(S[1]=w);var A=p.get("colorMappingBy"),T={type:b.name,dataExtent:S,visual:b.range};T.type==="color"&&(A==="index"||A==="id")?(T.mappingMethod="category",T.loop=!0):T.mappingMethod="linear";var M=new e(T);return M.__drColorMappingBy=A,M}}}function s(u,p){var g=u.get(p);return a(g)&&g.length?{name:p,range:g}:null}function l(u,p,g,m,_,y){var b=r.extend({},p);if(_){var x=_.type,w=x==="color"&&_.__drColorMappingBy,S=w==="index"?m:w==="id"?y.mapIdToIndex(g.getId()):g.getValue(u.get("visualDimension"));b[x]=_.mapValueToVisual(S)}return b}return fu=n,fu}var du,$y;function nB(){if($y)return du;$y=1;var e=F,t=Qe,r=Ie(),a=r.parsePercent,i=r.MAX_SAFE_INTEGER,n=ze,h=ya(),d=Math.max,o=Math.min,f=e.retrieve,v=e.each,c=["itemStyle","borderWidth"],s=["itemStyle","gapWidth"],l=["upperLabel","show"],u=["upperLabel","height"],p={seriesType:"treemap",reset:function(C,L,I,P){var R=I.getWidth(),E=I.getHeight(),D=C.option,k=n.getLayoutRect(C.getBoxLayoutParams(),{width:I.getWidth(),height:I.getHeight()}),z=D.size||[],O=a(f(k.width,z[0]),R),N=a(f(k.height,z[1]),E),B=P&&P.type,q=["treemapZoomToNode","treemapRootToNode"],V=h.retrieveTargetInfo(P,q,C),G=B==="treemapRender"||B==="treemapMove"?P.rootRect:null,$=C.getViewRoot(),Z=h.getPathToRoot($);if(B!=="treemapMove"){var Y=B==="treemapZoomToNode"?S(C,V,$,O,N):G?[G.width,G.height]:[O,N],Q=D.sort;Q&&Q!=="asc"&&Q!=="desc"&&(Q="desc");var ee={squareRatio:D.squareRatio,sort:Q,leafDepth:D.leafDepth};$.hostTree.clearLayouts();var J={x:0,y:0,width:Y[0],height:Y[1],area:Y[0]*Y[1]};$.setLayout(J),g($,ee,!1,0);var J=$.getLayout();v(Z,function(j,ie){var re=(Z[ie+1]||$).getValue();j.setLayout(e.extend({dataExtent:[re,re],borderWidth:0,upperHeight:0},J))})}var ae=C.getData().tree.root;ae.setLayout(A(k,G,V),!0),C.setLayoutInfo(k),T(ae,new t(-k.x,-k.y,R,E),Z,$,0)}};function g(C,L,I,P){var R,E;if(!C.isRemoved()){var D=C.getLayout();R=D.width,E=D.height;var V=C.getModel(),k=V.get(c),z=V.get(s)/2,O=M(V),N=Math.max(k,O),B=k-z,q=N-z,V=C.getModel();C.setLayout({borderWidth:k,upperHeight:N,upperLabelHeight:O},!0),R=d(R-2*B,0),E=d(E-B-q,0);var G=R*E,$=m(C,V,G,L,I,P);if($.length){var Z={x:B,y:q,width:R,height:E},Y=o(R,E),Q=1/0,ee=[];ee.area=0;for(var J=0,ae=$.length;J<ae;){var j=$[J];ee.push(j),ee.area+=j.getLayout().area;var ie=x(ee,Y,L.squareRatio);ie<=Q?(J++,Q=ie):(ee.area-=ee.pop().getLayout().area,w(ee,Y,Z,z,!1),Y=o(Z.width,Z.height),ee.length=ee.area=0,Q=1/0)}if(ee.length&&w(ee,Y,Z,z,!0),!I){var re=V.get("childrenVisibleMin");re!=null&&G<re&&(I=!0)}for(var J=0,ae=$.length;J<ae;J++)g($[J],L,I,P+1)}}}function m(C,L,I,P,R,E){var D=C.children||[],k=P.sort;k!=="asc"&&k!=="desc"&&(k=null);var z=P.leafDepth!=null&&P.leafDepth<=E;if(R&&!z)return C.viewChildren=[];D=e.filter(D,function(V){return!V.isRemoved()}),y(D,k);var O=b(L,D,k);if(O.sum===0)return C.viewChildren=[];if(O.sum=_(L,I,O.sum,k,D),O.sum===0)return C.viewChildren=[];for(var N=0,B=D.length;N<B;N++){var q=D[N].getValue()/O.sum*I;D[N].setLayout({area:q})}return z&&(D.length&&C.setLayout({isLeafRoot:!0},!0),D.length=0),C.viewChildren=D,C.setLayout({dataExtent:O.dataExtent},!0),D}function _(C,L,I,P,R){if(!P)return I;for(var E=C.get("visibleMin"),D=R.length,k=D,z=D-1;z>=0;z--){var O=R[P==="asc"?D-z-1:z].getValue();O/I*L<E&&(k=z,I-=O)}return P==="asc"?R.splice(0,D-k):R.splice(k,D-k),I}function y(C,L){return L&&C.sort(function(I,P){var R=L==="asc"?I.getValue()-P.getValue():P.getValue()-I.getValue();return R===0?L==="asc"?I.dataIndex-P.dataIndex:P.dataIndex-I.dataIndex:R}),C}function b(C,L,I){for(var P=0,R=0,E=L.length;R<E;R++)P+=L[R].getValue();var D=C.get("visualDimension"),k;if(!L||!L.length)k=[NaN,NaN];else if(D==="value"&&I)k=[L[L.length-1].getValue(),L[0].getValue()],I==="asc"&&k.reverse();else{var k=[1/0,-1/0];v(L,function(O){var N=O.getValue(D);N<k[0]&&(k[0]=N),N>k[1]&&(k[1]=N)})}return{sum:P,dataExtent:k}}function x(C,L,I){for(var P=0,R=1/0,E=0,D,k=C.length;E<k;E++)D=C[E].getLayout().area,D&&(D<R&&(R=D),D>P&&(P=D));var z=C.area*C.area,O=L*L*I;return z?d(O*P/z,z/(O*R)):1/0}function w(C,L,I,P,R){var E=L===I.width?0:1,D=1-E,k=["x","y"],z=["width","height"],O=I[k[E]],N=L?C.area/L:0;(R||N>I[z[D]])&&(N=I[z[D]]);for(var B=0,q=C.length;B<q;B++){var V=C[B],G={},$=N?V.getLayout().area/N:0,Z=G[z[D]]=d(N-2*P,0),Y=I[k[E]]+I[z[E]]-O,Q=B===q-1||Y<$?Y:$,ee=G[z[E]]=d(Q-2*P,0);G[k[D]]=I[k[D]]+o(P,Z/2),G[k[E]]=O+o(P,ee/2),O+=Q,V.setLayout(G,!0)}I[k[D]]+=N,I[z[D]]-=N}function S(C,L,I,P,R){var E=(L||{}).node,D=[P,R];if(!E||E===I)return D;for(var k,z=P*R,O=z*C.option.zoomToNodeRatio;k=E.parentNode;){for(var N=0,B=k.children,q=0,V=B.length;q<V;q++)N+=B[q].getValue();var G=E.getValue();if(G===0)return D;O*=N/G;var $=k.getModel(),Z=$.get(c),Y=Math.max(Z,M($));O+=4*Z*Z+(3*Z+Y)*Math.pow(O,.5),O>i&&(O=i),E=k}O<z&&(O=z);var Q=Math.pow(O/z,.5);return[P*Q,R*Q]}function A(C,L,I){if(L)return{x:L.x,y:L.y};var P={x:0,y:0};if(!I)return P;var R=I.node,E=R.getLayout();if(!E)return P;for(var D=[E.width/2,E.height/2],k=R;k;){var z=k.getLayout();D[0]+=z.x,D[1]+=z.y,k=k.parentNode}return{x:C.width/2-D[0],y:C.height/2-D[1]}}function T(C,L,I,P,R){var E=C.getLayout(),D=I[R],k=D&&D===C;if(!(D&&!k||R===I.length&&C!==P)){C.setLayout({isInView:!0,invisible:!k&&!L.intersect(E),isAboveViewRoot:k},!0);var z=new t(L.x-E.x,L.y-E.y,L.width,L.height);v(C.viewChildren||[],function(O){T(O,z,I,P,R+1)})}}function M(C){return C.get(l)?C.get(u):0}return du=p,du}var Uy;function oB(){if(Uy)return ky;Uy=1;var e=ve;JV(),rB(),aB();var t=iB(),r=nB();return e.registerVisual(t),e.registerLayout(r),ky}var Wy={},gu,Zy;function sB(){if(Zy)return gu;Zy=1;var e=F,t=Pt,r=t.enableClassCheck;function a(v){return"_EC_"+v}var i=function(v){this._directed=v||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},n=i.prototype;n.type="graph",n.isDirected=function(){return this._directed},n.addNode=function(v,c){v=v||""+c;var s=this._nodesMap;if(!s[a(v)]){var l=new h(v,c);return l.hostGraph=this,this.nodes.push(l),s[a(v)]=l,l}},n.getNodeByIndex=function(v){var c=this.data.getRawIndex(v);return this.nodes[c]},n.getNodeById=function(v){return this._nodesMap[a(v)]},n.addEdge=function(v,c,s){var l=this._nodesMap,u=this._edgesMap;if(typeof v=="number"&&(v=this.nodes[v]),typeof c=="number"&&(c=this.nodes[c]),h.isInstance(v)||(v=l[a(v)]),h.isInstance(c)||(c=l[a(c)]),!(!v||!c)){var p=v.id+"-"+c.id;if(!u[p]){var g=new d(v,c,s);return g.hostGraph=this,this._directed&&(v.outEdges.push(g),c.inEdges.push(g)),v.edges.push(g),v!==c&&c.edges.push(g),this.edges.push(g),u[p]=g,g}}},n.getEdgeByIndex=function(v){var c=this.edgeData.getRawIndex(v);return this.edges[c]},n.getEdge=function(v,c){h.isInstance(v)&&(v=v.id),h.isInstance(c)&&(c=c.id);var s=this._edgesMap;return this._directed?s[v+"-"+c]:s[v+"-"+c]||s[c+"-"+v]},n.eachNode=function(v,c){for(var s=this.nodes,l=s.length,u=0;u<l;u++)s[u].dataIndex>=0&&v.call(c,s[u],u)},n.eachEdge=function(v,c){for(var s=this.edges,l=s.length,u=0;u<l;u++)s[u].dataIndex>=0&&s[u].node1.dataIndex>=0&&s[u].node2.dataIndex>=0&&v.call(c,s[u],u)},n.breadthFirstTraverse=function(v,c,s,l){if(h.isInstance(c)||(c=this._nodesMap[a(c)]),!!c){for(var u=s==="out"?"outEdges":s==="in"?"inEdges":"edges",p=0;p<this.nodes.length;p++)this.nodes[p].__visited=!1;if(!v.call(l,c,null))for(var g=[c];g.length;)for(var m=g.shift(),_=m[u],p=0;p<_.length;p++){var y=_[p],b=y.node1===m?y.node2:y.node1;if(!b.__visited){if(v.call(l,b,m))return;g.push(b),b.__visited=!0}}}},n.update=function(){for(var v=this.data,c=this.edgeData,s=this.nodes,l=this.edges,u=0,p=s.length;u<p;u++)s[u].dataIndex=-1;for(var u=0,p=v.count();u<p;u++)s[v.getRawIndex(u)].dataIndex=u;c.filterSelf(function(g){var m=l[c.getRawIndex(g)];return m.node1.dataIndex>=0&&m.node2.dataIndex>=0});for(var u=0,p=l.length;u<p;u++)l[u].dataIndex=-1;for(var u=0,p=c.count();u<p;u++)l[c.getRawIndex(u)].dataIndex=u},n.clone=function(){for(var v=new i(this._directed),c=this.nodes,s=this.edges,l=0;l<c.length;l++)v.addNode(c[l].id,c[l].dataIndex);for(var l=0;l<s.length;l++){var u=s[l];v.addEdge(u.node1.id,u.node2.id,u.dataIndex)}return v};function h(v,c){this.id=v??"",this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=c??-1}h.prototype={constructor:h,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(v){if(!(this.dataIndex<0)){var c=this.hostGraph,s=c.data.getItemModel(this.dataIndex);return s.getModel(v)}}};function d(v,c,s){this.node1=v,this.node2=c,this.dataIndex=s??-1}d.prototype.getModel=function(v){if(!(this.dataIndex<0)){var c=this.hostGraph,s=c.edgeData.getItemModel(this.dataIndex);return s.getModel(v)}};var o=function(v,c){return{getValue:function(s){var l=this[v][c];return l.get(l.getDimension(s||"value"),this.dataIndex)},setVisual:function(s,l){this.dataIndex>=0&&this[v][c].setItemVisual(this.dataIndex,s,l)},getVisual:function(s,l){return this[v][c].getItemVisual(this.dataIndex,s,l)},setLayout:function(s,l){this.dataIndex>=0&&this[v][c].setItemLayout(this.dataIndex,s,l)},getLayout:function(){return this[v][c].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[v][c].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[v][c].getRawIndex(this.dataIndex)}}};e.mixin(h,o("hostGraph","data")),e.mixin(d,o("hostGraph","edgeData")),i.Node=h,i.Edge=d,r(h),r(d);var f=i;return gu=f,gu}var pu,Yy;function AT(){if(Yy)return pu;Yy=1;var e=F,t=qt(),r=sB(),a=bT(),i=oi(),n=cr,h=Lr();function d(o,f,v,c,s){for(var l=new r(c),u=0;u<o.length;u++)l.addNode(e.retrieve(o[u].id,o[u].name,u),u);for(var p=[],g=[],m=0,u=0;u<f.length;u++){var _=f[u],y=_.source,b=_.target;l.addEdge(y,b,m)&&(g.push(_),p.push(e.retrieve(_.id,y+" > "+b)),m++)}var x=v.get("coordinateSystem"),w;if(x==="cartesian2d"||x==="polar")w=h(o,v);else{var S=n.get(x),A=S&&S.type!=="view"?S.dimensions||[]:[];e.indexOf(A,"value")<0&&A.concat(["value"]);var T=i(o,{coordDimensions:A});w=new t(T,v),w.initData(o)}var M=new t(["value"],v);return M.initData(g,p),s&&s(w,M),a({mainData:w,struct:l,structAttr:"graph",datas:{node:w,edge:M},datasAttr:{node:"data",edge:"edgeData"}}),l.update(),l}return pu=d,pu}var mu,Xy;function lB(){if(Xy)return mu;Xy=1;var e=ve,t=qt(),r=F,a=Me,i=a.defaultEmphasis,n=mt,h=Oe,d=h.encodeHTML,o=AT(),f=e.extendSeriesModel({type:"series.graph",init:function(c){f.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(c.edges||c.links),this._updateCategoriesData()},mergeOption:function(c){f.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(c.edges||c.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(c){f.superApply(this,"mergeDefaultAndTheme",arguments),i(c,["edgeLabel"],["show"])},getInitialData:function(c,s){var l=c.edges||c.links||[],u=c.data||c.nodes||[],p=this;if(u&&l)return o(u,l,this,!0,g).data;function g(m,_){m.wrapMethod("getItemModel",function(A){var T=p._categoriesModels,M=A.getShallow("category"),C=T[M];return C&&(C.parentModel=A.parentModel,A.parentModel=C),A});var y=p.getModel("edgeLabel"),b=new n({label:y.option},y.parentModel,s),x=p.getModel("emphasis.edgeLabel"),w=new n({emphasis:{label:x.option}},x.parentModel,s);_.wrapMethod("getItemModel",function(A){return A.customizeGetParent(S),A});function S(A){return A=this.parsePath(A),A&&A[0]==="label"?b:A&&A[0]==="emphasis"&&A[1]==="label"?w:this.parentModel}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(c,s,l){if(l==="edge"){var u=this.getData(),p=this.getDataParams(c,l),g=u.graph.getEdgeByIndex(c),m=u.getName(g.node1.dataIndex),_=u.getName(g.node2.dataIndex),y=[];return m!=null&&y.push(m),_!=null&&y.push(_),y=d(y.join(" > ")),p.value&&(y+=" : "+d(p.value)),y}else return f.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var c=r.map(this.option.categories||[],function(l){return l.value!=null?l:r.extend({value:0},l)}),s=new t(["value"],this);s.initData(c),this._categoriesData=s,this._categoriesModels=s.mapArray(function(l){return s.getItemModel(l,!0)})},setZoom:function(c){this.option.zoom=c},setCenter:function(c){this.option.center=c},isAnimationEnabled:function(){return f.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),v=f;return mu=v,mu}var yu,Ky;function uB(){if(Ky)return yu;Ky=1;var e=le,t=Ce,r=e.Line.prototype,a=e.BezierCurve.prototype;function i(h){return isNaN(+h.cpx1)||isNaN(+h.cpy1)}var n=e.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(h,d){(i(d)?r:a).buildPath(h,d)},pointAt:function(h){return i(this.shape)?r.pointAt.call(this,h):a.pointAt.call(this,h)},tangentAt:function(h){var d=this.shape,o=i(d)?[d.x2-d.x1,d.y2-d.y1]:a.tangentAt.call(this,h);return t.normalize(o,o)}});return yu=n,yu}var _u,Qy;function id(){if(Qy)return _u;Qy=1;var e=F,t=Ce,r=Ht(),a=uB(),i=le,n=Ie(),h=n.round,d=["fromSymbol","toSymbol"];function o(g){return"_"+g+"Type"}function f(g,m,_){var y=m.getItemVisual(_,"color"),b=m.getItemVisual(_,g),x=m.getItemVisual(_,g+"Size");if(!(!b||b==="none")){e.isArray(x)||(x=[x,x]);var w=r.createSymbol(b,-x[0]/2,-x[1]/2,x[0],x[1],y);return w.name=g,w}}function v(g){var m=new a({name:"line"});return c(m.shape,g),m}function c(g,m){var _=m[0],y=m[1],b=m[2];g.x1=_[0],g.y1=_[1],g.x2=y[0],g.y2=y[1],g.percent=1,b?(g.cpx1=b[0],g.cpy1=b[1]):(g.cpx1=NaN,g.cpy1=NaN)}function s(){var g=this,m=g.childOfName("fromSymbol"),_=g.childOfName("toSymbol"),y=g.childOfName("label");if(!(!m&&!_&&y.ignore)){for(var b=1,x=this.parent;x;)x.scale&&(b/=x.scale[0]),x=x.parent;var w=g.childOfName("line");if(!(!this.__dirty&&!w.__dirty)){var S=w.shape.percent,A=w.pointAt(0),T=w.pointAt(S),M=t.sub([],T,A);if(t.normalize(M,M),m){m.attr("position",A);var C=w.tangentAt(0);m.attr("rotation",Math.PI/2-Math.atan2(C[1],C[0])),m.attr("scale",[b*S,b*S])}if(_){_.attr("position",T);var C=w.tangentAt(1);_.attr("rotation",-Math.PI/2-Math.atan2(C[1],C[0])),_.attr("scale",[b*S,b*S])}if(!y.ignore){y.attr("position",T);var L,I,P,R=5*b;if(y.__position==="end")L=[M[0]*R+T[0],M[1]*R+T[1]],I=M[0]>.8?"left":M[0]<-.8?"right":"center",P=M[1]>.8?"top":M[1]<-.8?"bottom":"middle";else if(y.__position==="middle"){var E=S/2,C=w.tangentAt(E),D=[C[1],-C[0]],k=w.pointAt(E);D[1]>0&&(D[0]=-D[0],D[1]=-D[1]),L=[k[0]+D[0]*R,k[1]+D[1]*R],I="center",P="bottom";var z=-Math.atan2(C[1],C[0]);T[0]<A[0]&&(z=Math.PI+z),y.attr("rotation",z)}else L=[-M[0]*R+A[0],-M[1]*R+A[1]],I=M[0]>.8?"right":M[0]<-.8?"left":"center",P=M[1]>.8?"bottom":M[1]<-.8?"top":"middle";y.attr({style:{textVerticalAlign:y.__verticalAlign||P,textAlign:y.__textAlign||I},position:L,scale:[b,b]})}}}}function l(g,m,_){i.Group.call(this),this._createLine(g,m,_)}var u=l.prototype;u.beforeUpdate=s,u._createLine=function(g,m,_){var y=g.hostModel,b=g.getItemLayout(m),x=v(b);x.shape.percent=0,i.initProps(x,{shape:{percent:1}},y,m),this.add(x);var w=new i.Text({name:"label"});this.add(w),e.each(d,function(S){var A=f(S,g,m);this.add(A),this[o(S)]=g.getItemVisual(m,S)},this),this._updateCommonStl(g,m,_)},u.updateData=function(g,m,_){var y=g.hostModel,b=this.childOfName("line"),x=g.getItemLayout(m),w={shape:{}};c(w.shape,x),i.updateProps(b,w,y,m),e.each(d,function(S){var A=g.getItemVisual(m,S),T=o(S);if(this[T]!==A){this.remove(this.childOfName(S));var M=f(S,g,m);this.add(M)}this[T]=A},this),this._updateCommonStl(g,m,_)},u._updateCommonStl=function(g,m,_){var y=g.hostModel,b=this.childOfName("line"),x=_&&_.lineStyle,w=_&&_.hoverLineStyle,S=_&&_.labelModel,A=_&&_.hoverLabelModel;if(!_||g.hasItemOption){var T=g.getItemModel(m);x=T.getModel("lineStyle").getLineStyle(),w=T.getModel("emphasis.lineStyle").getLineStyle(),S=T.getModel("label"),A=T.getModel("emphasis.label")}var M=g.getItemVisual(m,"color"),C=e.retrieve3(g.getItemVisual(m,"opacity"),x.opacity,1);b.useStyle(e.defaults({strokeNoScale:!0,fill:"none",stroke:M,opacity:C},x)),b.hoverStyle=w,e.each(d,function(N){var B=this.childOfName(N);B&&(B.setColor(M),B.setStyle({opacity:C}))},this);var L=S.getShallow("show"),I=A.getShallow("show"),P=this.childOfName("label"),R,E;if((L||I)&&(R=M||"#000",E=y.getFormattedLabel(m,"normal",g.dataType),E==null)){var D=y.getRawValue(m);E=D==null?g.getName(m):isFinite(D)?h(D):D}var k=L?E:null,z=I?e.retrieve2(y.getFormattedLabel(m,"emphasis",g.dataType),E):null,O=P.style;(k!=null||z!=null)&&(i.setTextStyle(P.style,S,{text:k},{autoColor:R}),P.__textAlign=O.textAlign,P.__verticalAlign=O.textVerticalAlign,P.__position=S.get("position")||"middle"),z!=null?P.hoverStyle={text:z,textFill:A.getTextColor(!0),fontStyle:A.getShallow("fontStyle"),fontWeight:A.getShallow("fontWeight"),fontSize:A.getShallow("fontSize"),fontFamily:A.getShallow("fontFamily")}:P.hoverStyle={text:null},P.ignore=!L&&!I,i.setHoverStyle(this)},u.highlight=function(){this.trigger("emphasis")},u.downplay=function(){this.trigger("normal")},u.updateLayout=function(g,m){this.setLinePoints(g.getItemLayout(m))},u.setLinePoints=function(g){var m=this.childOfName("line");c(m.shape,g),m.dirty()},e.inherits(l,i.Group);var p=l;return _u=p,_u}var xu,jy;function nd(){if(jy)return xu;jy=1;var e=le,t=id();function r(v){this._ctor=v||t,this.group=new e.Group}var a=r.prototype;a.isPersistent=function(){return!0},a.updateData=function(v){var c=this,s=c.group,l=c._lineData;c._lineData=v,l||s.removeAll();var u=h(v);v.diff(l).add(function(p){i(c,v,p,u)}).update(function(p,g){n(c,l,v,g,p,u)}).remove(function(p){s.remove(l.getItemGraphicEl(p))}).execute()};function i(v,c,s,l){var u=c.getItemLayout(s);if(o(u)){var p=new v._ctor(c,s,l);c.setItemGraphicEl(s,p),v.group.add(p)}}function n(v,c,s,l,u,p){var g=c.getItemGraphicEl(l);if(!o(s.getItemLayout(u))){v.group.remove(g);return}g?g.updateData(s,u,p):g=new v._ctor(s,u,p),s.setItemGraphicEl(u,g),v.group.add(g)}a.updateLayout=function(){var v=this._lineData;v&&v.eachItemGraphicEl(function(c,s){c.updateLayout(v,s)},this)},a.incrementalPrepareUpdate=function(v){this._seriesScope=h(v),this._lineData=null,this.group.removeAll()},a.incrementalUpdate=function(v,c){function s(g){g.isGroup||(g.incremental=g.useHoverLayer=!0)}for(var l=v.start;l<v.end;l++){var u=c.getItemLayout(l);if(o(u)){var p=new this._ctor(c,l,this._seriesScope);p.traverse(s),this.group.add(p),c.setItemGraphicEl(l,p)}}};function h(v){var c=v.hostModel;return{lineStyle:c.getModel("lineStyle").getLineStyle(),hoverLineStyle:c.getModel("emphasis.lineStyle").getLineStyle(),labelModel:c.getModel("label"),hoverLabelModel:c.getModel("emphasis.label")}}a.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},a._clearIncremental=function(){var v=this._incremental;v&&v.clearDisplaybles()};function d(v){return isNaN(v[0])||isNaN(v[1])}function o(v){return!d(v[0])&&!d(v[1])}var f=r;return xu=f,xu}var Su,Jy;function vB(){if(Jy)return Su;Jy=1;var e=at,t=Ce,r=[],a=[],i=[],n=e.quadraticAt,h=t.distSquare,d=Math.abs;function o(v,c,s){for(var l=v[0],u=v[1],p=v[2],g=1/0,m,_=s*s,y=.1,b=.1;b<=.9;b+=.1){r[0]=n(l[0],u[0],p[0],b),r[1]=n(l[1],u[1],p[1],b);var x=d(h(r,c)-_);x<g&&(g=x,m=b)}for(var w=0;w<32;w++){var S=m+y;a[0]=n(l[0],u[0],p[0],m),a[1]=n(l[1],u[1],p[1],m),i[0]=n(l[0],u[0],p[0],S),i[1]=n(l[1],u[1],p[1],S);var x=h(a,c)-_;if(d(x)<.01)break;var A=h(i,c)-_;y/=2,x<0?A>=0?m=m+y:m=m-y:A>=0?m=m-y:m=m+y}return m}function f(v,c){var s=[],l=e.quadraticSubdivide,u=[[],[],[]],p=[[],[]],g=[];c/=2;function m(_){var y=_.getVisual("symbolSize");return y instanceof Array&&(y=(y[0]+y[1])/2),y}v.eachEdge(function(_,y){var b=_.getLayout(),x=_.getVisual("fromSymbol"),w=_.getVisual("toSymbol");b.__original||(b.__original=[t.clone(b[0]),t.clone(b[1])],b[2]&&b.__original.push(t.clone(b[2])));var S=b.__original;if(b[2]!=null){if(t.copy(u[0],S[0]),t.copy(u[1],S[2]),t.copy(u[2],S[1]),x&&x!="none"){var A=m(_.node1),T=o(u,S[0],A*c);l(u[0][0],u[1][0],u[2][0],T,s),u[0][0]=s[3],u[1][0]=s[4],l(u[0][1],u[1][1],u[2][1],T,s),u[0][1]=s[3],u[1][1]=s[4]}if(w&&w!="none"){var A=m(_.node2),T=o(u,S[1],A*c);l(u[0][0],u[1][0],u[2][0],T,s),u[1][0]=s[1],u[2][0]=s[2],l(u[0][1],u[1][1],u[2][1],T,s),u[1][1]=s[1],u[2][1]=s[2]}t.copy(b[0],u[0]),t.copy(b[1],u[2]),t.copy(b[2],u[1])}else{if(t.copy(p[0],S[0]),t.copy(p[1],S[1]),t.sub(g,p[1],p[0]),t.normalize(g,g),x&&x!="none"){var A=m(_.node1);t.scaleAndAdd(p[0],p[0],g,A*c)}if(w&&w!="none"){var A=m(_.node2);t.scaleAndAdd(p[1],p[1],g,-A*c)}t.copy(b[0],p[0]),t.copy(b[1],p[1])}})}return Su=f,Su}var bu,e0;function hB(){if(e0)return bu;e0=1;var e=ve,t=F,r=en(),a=nd(),i=Fo(),n=yT(),h=rd(),d=h.onIrrelevantElement,o=le,f=vB(),v=["itemStyle","opacity"],c=["lineStyle","opacity"];function s(g,m){return g.getVisual("opacity")||g.getModel().get(m)}function l(g,m,_){var y=g.getGraphicEl(),b=s(g,m);_!=null&&(b==null&&(b=1),b*=_),y.downplay&&y.downplay(),y.traverse(function(x){x.type!=="group"&&x.setStyle("opacity",b)})}function u(g,m){var _=s(g,m),y=g.getGraphicEl();y.highlight&&y.highlight(),y.traverse(function(b){b.type!=="group"&&b.setStyle("opacity",_)})}var p=e.extendChartView({type:"graph",init:function(g,m){var _=new r,y=new a,b=this.group;this._controller=new i(m.getZr()),this._controllerHost={target:b},b.add(_.group),b.add(y.group),this._symbolDraw=_,this._lineDraw=y,this._firstRender=!0},render:function(g,m,_){var y=g.coordinateSystem;this._model=g,this._nodeScaleRatio=g.get("nodeScaleRatio");var b=this._symbolDraw,x=this._lineDraw,w=this.group;if(y.type==="view"){var S={position:y.position,scale:y.scale};this._firstRender?w.attr(S):o.updateProps(w,S,g)}f(g.getGraph(),this._getNodeGlobalScale(g));var A=g.getData();b.updateData(A);var T=g.getEdgeData();x.updateData(T),this._updateNodeAndLinkScale(),this._updateController(g,m,_),clearTimeout(this._layoutTimeout);var M=g.forceLayout,C=g.get("force.layoutAnimation");M&&this._startForceLayoutIteration(M,C),A.eachItemGraphicEl(function(R,E){var D=A.getItemModel(E);R.off("drag").off("dragend");var k=A.getItemModel(E).get("draggable");k&&R.on("drag",function(){M&&(M.warmUp(),!this._layouting&&this._startForceLayoutIteration(M,C),M.setFixed(E),A.setItemLayout(E,R.position))},this).on("dragend",function(){M&&M.setUnfixed(E)},this),R.setDraggable(k&&M),R.off("mouseover",R.__focusNodeAdjacency),R.off("mouseout",R.__unfocusNodeAdjacency),D.get("focusNodeAdjacency")&&(R.on("mouseover",R.__focusNodeAdjacency=function(){_.dispatchAction({type:"focusNodeAdjacency",seriesId:g.id,dataIndex:R.dataIndex})}),R.on("mouseout",R.__unfocusNodeAdjacency=function(){_.dispatchAction({type:"unfocusNodeAdjacency",seriesId:g.id})}))},this),A.graph.eachEdge(function(R){var E=R.getGraphicEl();E.off("mouseover",E.__focusNodeAdjacency),E.off("mouseout",E.__unfocusNodeAdjacency),R.getModel().get("focusNodeAdjacency")&&(E.on("mouseover",E.__focusNodeAdjacency=function(){_.dispatchAction({type:"focusNodeAdjacency",seriesId:g.id,edgeDataIndex:R.dataIndex})}),E.on("mouseout",E.__unfocusNodeAdjacency=function(){_.dispatchAction({type:"unfocusNodeAdjacency",seriesId:g.id})}))});var L=g.get("layout")==="circular"&&g.get("circular.rotateLabel"),I=A.getLayout("cx"),P=A.getLayout("cy");A.eachItemGraphicEl(function(R,E){var D=R.getSymbolPath();if(L){var k=A.getItemLayout(E),z=Math.atan2(k[1]-P,k[0]-I);z<0&&(z=Math.PI*2+z);var O=k[0]<I;O&&(z=z-Math.PI);var N=O?"left":"right";D.setStyle({textRotation:-z,textPosition:N,textOrigin:"center"}),D.hoverStyle&&(D.hoverStyle.textPosition=N)}else D.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(g,m,_,y){var b=this._model.getData(),x=b.graph,w=y.dataIndex,S=y.edgeDataIndex,A=x.getNodeByIndex(w),T=x.getEdgeByIndex(S);!A&&!T||(x.eachNode(function(M){l(M,v,.1)}),x.eachEdge(function(M){l(M,c,.1)}),A&&(u(A,v),t.each(A.edges,function(M){M.dataIndex<0||(u(M,c),u(M.node1,v),u(M.node2,v))})),T&&(u(T,c),u(T.node1,v),u(T.node2,v)))},unfocusNodeAdjacency:function(g,m,_,y){var b=this._model.getData().graph;b.eachNode(function(x){l(x,v)}),b.eachEdge(function(x){l(x,c)})},_startForceLayoutIteration:function(g,m){var _=this;(function y(){g.step(function(b){_.updateLayout(_._model),(_._layouting=!b)&&(m?_._layoutTimeout=setTimeout(y,16):y())})})()},_updateController:function(g,m,_){var y=this._controller,b=this._controllerHost,x=this.group;if(y.setPointerChecker(function(w,S,A){var T=x.getBoundingRect();return T.applyTransform(x.transform),T.contain(S,A)&&!d(w,_,g)}),g.coordinateSystem.type!=="view"){y.disable();return}y.enable(g.get("roam")),b.zoomLimit=g.get("scaleLimit"),b.zoom=g.coordinateSystem.getZoom(),y.off("pan").off("zoom").on("pan",function(w,S){n.updateViewOnPan(b,w,S),_.dispatchAction({seriesId:g.id,type:"graphRoam",dx:w,dy:S})}).on("zoom",function(w,S,A){n.updateViewOnZoom(b,w,S,A),_.dispatchAction({seriesId:g.id,type:"graphRoam",zoom:w,originX:S,originY:A}),this._updateNodeAndLinkScale(),f(g.getGraph(),this._getNodeGlobalScale(g)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var g=this._model,m=g.getData(),_=this._getNodeGlobalScale(g),y=[_,_];m.eachItemGraphicEl(function(b,x){b.attr("scale",y)})},_getNodeGlobalScale:function(g){var m=g.coordinateSystem;if(m.type!=="view")return 1;var _=this._nodeScaleRatio,y=m.scale,b=y&&y[0]||1,x=m.getZoom(),w=(x-1)*_+1;return w/b},updateLayout:function(g){f(g.getGraph(),this._getNodeGlobalScale(g)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(g,m){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}});return bu=p,bu}var t0={},r0;function cB(){if(r0)return t0;r0=1;var e=ve,t=xT(),r=t.updateCenterAndZoom,a={type:"graphRoam",event:"graphRoam",update:"none"};return e.registerAction(a,function(i,n){n.eachComponent({mainType:"series",query:i},function(h){var d=h.coordinateSystem,o=r(d,i);h.setCenter&&h.setCenter(o.center),h.setZoom&&h.setZoom(o.zoom)})}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){}),t0}var wu,a0;function fB(){if(a0)return wu;a0=1;function e(t){var r=t.findComponents({mainType:"legend"});!r||!r.length||t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getGraph(),h=n.data,d=i.mapArray(i.getName);h.filterSelf(function(o){var f=h.getItemModel(o),v=f.getShallow("category");if(v!=null){typeof v=="number"&&(v=d[v]);for(var c=0;c<r.length;c++)if(!r[c].isSelected(v))return!1}return!0})},this)}return wu=e,wu}var Au,i0;function dB(){if(i0)return Au;i0=1;function e(t){var r={};t.eachSeriesByType("graph",function(a){var i=a.getCategoriesData(),n=a.getData(),h={};i.each(function(d){var o=i.getName(d);h["ec-"+o]=d;var f=i.getItemModel(d),v=f.get("itemStyle.color")||a.getColorFromPalette(o,r);i.setItemVisual(d,"color",v)}),i.count()&&n.each(function(d){var o=n.getItemModel(d),f=o.getShallow("category");f!=null&&(typeof f=="string"&&(f=h["ec-"+f]),n.getItemVisual(d,"color",!0)||n.setItemVisual(d,"color",i.getItemVisual(f,"color")))})})}return Au=e,Au}var Tu,n0;function gB(){if(n0)return Tu;n0=1;function e(r){return r instanceof Array||(r=[r,r]),r}function t(r){r.eachSeriesByType("graph",function(a){var i=a.getGraph(),n=a.getEdgeData(),h=e(a.get("edgeSymbol")),d=e(a.get("edgeSymbolSize")),o="lineStyle.color".split("."),f="lineStyle.opacity".split(".");n.setVisual("fromSymbol",h&&h[0]),n.setVisual("toSymbol",h&&h[1]),n.setVisual("fromSymbolSize",d&&d[0]),n.setVisual("toSymbolSize",d&&d[1]),n.setVisual("color",a.get(o)),n.setVisual("opacity",a.get(f)),n.each(function(v){var c=n.getItemModel(v),s=i.getEdgeByIndex(v),l=e(c.getShallow("symbol",!0)),u=e(c.getShallow("symbolSize",!0)),p=c.get(o),g=c.get(f);switch(p){case"source":p=s.node1.getVisual("color");break;case"target":p=s.node2.getVisual("color");break}l[0]&&s.setVisual("fromSymbol",l[0]),l[1]&&s.setVisual("toSymbol",l[1]),u[0]&&s.setVisual("fromSymbolSize",u[0]),u[1]&&s.setVisual("toSymbolSize",u[1]),s.setVisual("color",p),s.setVisual("opacity",g)})})}return Tu=t,Tu}var On={},o0;function TT(){if(o0)return On;o0=1;var e=Ce;function t(a){var i=a.coordinateSystem;if(!(i&&i.type!=="view")){var n=a.getGraph();n.eachNode(function(h){var d=h.getModel();h.setLayout([+d.get("x"),+d.get("y")])}),r(n)}}function r(a){a.eachEdge(function(i){var n=i.getModel().get("lineStyle.curveness")||0,h=e.clone(i.node1.getLayout()),d=e.clone(i.node2.getLayout()),o=[h,d];+n&&o.push([(h[0]+d[0])/2-(h[1]-d[1])*n,(h[1]+d[1])/2-(d[0]-h[0])*n]),i.setLayout(o)})}return On.simpleLayout=t,On.simpleLayoutEdge=r,On}var Cu,s0;function pB(){if(s0)return Cu;s0=1;var e=F,t=e.each,r=TT(),a=r.simpleLayout,i=r.simpleLayoutEdge;function n(h,d){h.eachSeriesByType("graph",function(o){var f=o.get("layout"),v=o.coordinateSystem;if(v&&v.type!=="view"){var c=o.getData(),s=[];t(v.dimensions,function(_){s=s.concat(c.mapDimension(_,!0))});for(var l=0;l<c.count();l++){for(var u=[],p=!1,g=0;g<s.length;g++){var m=c.get(s[g],l);isNaN(m)||(p=!0),u.push(m)}p?c.setItemLayout(l,v.dataToPoint(u)):c.setItemLayout(l,[NaN,NaN])}i(c.graph)}else(!f||f==="none")&&a(o)})}return Cu=n,Cu}var Mu={},l0;function CT(){if(l0)return Mu;l0=1;var e=Ce;function t(r){var a=r.coordinateSystem;if(!(a&&a.type!=="view")){var i=a.getBoundingRect(),n=r.getData(),h=n.graph,d=0,o=n.getSum("value"),f=Math.PI*2/(o||n.count()),v=i.width/2+i.x,c=i.height/2+i.y,s=Math.min(i.width,i.height)/2;h.eachNode(function(l){var u=l.getValue("value");d+=f*(o?u:1)/2,l.setLayout([s*Math.cos(d)+v,s*Math.sin(d)+c]),d+=f*(o?u:1)/2}),n.setLayout({cx:v,cy:c}),h.eachEdge(function(l){var u=l.getModel().get("lineStyle.curveness")||0,p=e.clone(l.node1.getLayout()),g=e.clone(l.node2.getLayout()),m,_=(p[0]+g[0])/2,y=(p[1]+g[1])/2;+u&&(u*=3,m=[v*u+_*(1-u),c*u+y*(1-u)]),l.setLayout([p,g,m])})}}return Mu.circularLayout=t,Mu}var Du,u0;function mB(){if(u0)return Du;u0=1;var e=CT(),t=e.circularLayout;function r(a){a.eachSeriesByType("graph",function(i){i.get("layout")==="circular"&&t(i)})}return Du=r,Du}var Lu={},v0;function yB(){if(v0)return Lu;v0=1;var e=Ce,t=e.scaleAndAdd;function r(a,i,n){for(var h=n.rect,d=h.width,o=h.height,f=[h.x+d/2,h.y+o/2],v=n.gravity==null?.1:n.gravity,c=0;c<a.length;c++){var s=a[c];s.p||(s.p=e.create(d*(Math.random()-.5)+f[0],o*(Math.random()-.5)+f[1])),s.pp=e.clone(s.p),s.edges=null}var l=.6;return{warmUp:function(){l=.5},setFixed:function(u){a[u].fixed=!0},setUnfixed:function(u){a[u].fixed=!1},step:function(u){for(var p=[],g=a.length,m=0;m<i.length;m++){var _=i[m],y=_.n1,b=_.n2;e.sub(p,b.p,y.p);var x=e.len(p)-_.d,w=b.w/(y.w+b.w);isNaN(w)&&(w=0),e.normalize(p,p),!y.fixed&&t(y.p,y.p,p,w*x*l),!b.fixed&&t(b.p,b.p,p,-(1-w)*x*l)}for(var m=0;m<g;m++){var S=a[m];S.fixed||(e.sub(p,f,S.p),t(S.p,S.p,p,v*l))}for(var m=0;m<g;m++)for(var y=a[m],A=m+1;A<g;A++){var b=a[A];e.sub(p,b.p,y.p);var x=e.len(p);x===0&&(e.set(p,Math.random()-.5,Math.random()-.5),x=1);var T=(y.rep+b.rep)/x/x;!y.fixed&&t(y.pp,y.pp,p,T),!b.fixed&&t(b.pp,b.pp,p,-T)}for(var M=[],m=0;m<g;m++){var S=a[m];S.fixed||(e.sub(M,S.p,S.pp),t(S.p,S.p,M,l),e.copy(S.pp,S.p))}l=l*.992,u&&u(a,i,l<.01)}}}return Lu.forceLayout=r,Lu}var Iu,h0;function _B(){if(h0)return Iu;h0=1;var e=yB(),t=e.forceLayout,r=TT(),a=r.simpleLayout,i=CT(),n=i.circularLayout,h=Ie(),d=h.linearMap,o=Ce,f=F;function v(c){c.eachSeriesByType("graph",function(s){var l=s.coordinateSystem;if(!(l&&l.type!=="view"))if(s.get("layout")==="force"){var u=s.preservedPoints||{},p=s.getGraph(),g=p.data,m=p.edgeData,_=s.getModel("force"),y=_.get("initLayout");s.preservedPoints?g.each(function(P){var R=g.getId(P);g.setItemLayout(P,u[R]||[NaN,NaN])}):!y||y==="none"?a(s):y==="circular"&&n(s);var b=g.getDataExtent("value"),x=m.getDataExtent("value"),w=_.get("repulsion"),S=_.get("edgeLength");f.isArray(w)||(w=[w,w]),f.isArray(S)||(S=[S,S]),S=[S[1],S[0]];var A=g.mapArray("value",function(P,R){var E=g.getItemLayout(R),D=d(P,b,w);return isNaN(D)&&(D=(w[0]+w[1])/2),{w:D,rep:D,fixed:g.getItemModel(R).get("fixed"),p:!E||isNaN(E[0])||isNaN(E[1])?null:E}}),T=m.mapArray("value",function(P,R){var E=p.getEdgeByIndex(R),D=d(P,x,S);return isNaN(D)&&(D=(S[0]+S[1])/2),{n1:A[E.node1.dataIndex],n2:A[E.node2.dataIndex],d:D,curveness:E.getModel().get("lineStyle.curveness")||0}}),l=s.coordinateSystem,M=l.getBoundingRect(),C=t(A,T,{rect:M,gravity:_.get("gravity")}),L=C.step;C.step=function(P){for(var R=0,E=A.length;R<E;R++)A[R].fixed&&o.copy(A[R].p,p.getNodeByIndex(R).getLayout());L(function(D,k,z){for(var O=0,N=D.length;O<N;O++)D[O].fixed||p.getNodeByIndex(O).setLayout(D[O].p),u[g.getId(O)]=D[O].p;for(var O=0,N=k.length;O<N;O++){var B=k[O],q=p.getEdgeByIndex(O),V=B.n1.p,G=B.n2.p,$=q.getLayout();$=$?$.slice():[],$[0]=$[0]||[],$[1]=$[1]||[],o.copy($[0],V),o.copy($[1],G),+B.curveness&&($[2]=[(V[0]+G[0])/2-(V[1]-G[1])*B.curveness,(V[1]+G[1])/2-(G[0]-V[0])*B.curveness]),q.setLayout($)}P&&P(z)})},s.forceLayout=C,s.preservedPoints=u,C.step()}else s.forceLayout=null})}return Iu=v,Iu}var Pu,c0;function xB(){if(c0)return Pu;c0=1;var e=pT(),t=ze,r=t.getLayoutRect,a=wf();function i(h,d,o){var f=h.getBoxLayoutParams();return f.aspect=o,r(f,{width:d.getWidth(),height:d.getHeight()})}function n(h,d){var o=[];return h.eachSeriesByType("graph",function(f){var v=f.get("coordinateSystem");if(!v||v==="view"){var c=f.getData(),s=c.mapArray(function(w){var S=c.getItemModel(w);return[+S.get("x"),+S.get("y")]}),l=[],u=[];a.fromPoints(s,l,u),u[0]-l[0]===0&&(u[0]+=1,l[0]-=1),u[1]-l[1]===0&&(u[1]+=1,l[1]-=1);var p=(u[0]-l[0])/(u[1]-l[1]),g=i(f,d,p);isNaN(p)&&(l=[g.x,g.y],u=[g.x+g.width,g.y+g.height]);var m=u[0]-l[0],_=u[1]-l[1],y=g.width,b=g.height,x=f.coordinateSystem=new e;x.zoomLimit=f.get("scaleLimit"),x.setBoundingRect(l[0],l[1],m,_),x.setViewRect(g.x,g.y,y,b),x.setCenter(f.get("center")),x.setZoom(f.get("zoom")),o.push(x)}}),o}return Pu=n,Pu}var f0;function SB(){if(f0)return Wy;f0=1;var e=ve;lB(),hB(),cB();var t=fB(),r=ga(),a=dB(),i=gB(),n=pB(),h=mB(),d=_B(),o=xB();return e.registerProcessor(t),e.registerVisual(r("graph","circle",null)),e.registerVisual(a),e.registerVisual(i),e.registerLayout(n),e.registerLayout(h),e.registerLayout(d),e.registerCoordinateSystem("graphView",{create:o}),Wy}var d0={},Ru,g0;function bB(){if(g0)return Ru;g0=1;var e=li(),t=yt,r=F,a=t.extend({type:"series.gauge",getInitialData:function(n,h){var d=n.data||[];return r.isArray(d)||(d=[d]),n.data=d,e(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),i=a;return Ru=i,Ru}var Eu,p0;function wB(){if(p0)return Eu;p0=1;var e=it,t=e.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(r,a){var i=Math.cos,n=Math.sin,h=a.r,d=a.width,o=a.angle,f=a.x-i(o)*d*(d>=h/3?1:2),v=a.y-n(o)*d*(d>=h/3?1:2);o=a.angle-Math.PI/2,r.moveTo(f,v),r.lineTo(a.x+i(o)*d,a.y+n(o)*d),r.lineTo(a.x+i(a.angle)*h,a.y+n(a.angle)*h),r.lineTo(a.x-i(o)*d,a.y-n(o)*d),r.lineTo(f,v)}});return Eu=t,Eu}var ku,m0;function AB(){if(m0)return ku;m0=1;var e=wB(),t=le,r=Mr,a=Ie(),i=a.parsePercent,n=a.round,h=a.linearMap;function d(s,l){var u=s.get("center"),p=l.getWidth(),g=l.getHeight(),m=Math.min(p,g),_=i(u[0],l.getWidth()),y=i(u[1],l.getHeight()),b=i(s.get("radius"),m/2);return{cx:_,cy:y,r:b}}function o(s,l){return l&&(typeof l=="string"?s=l.replace("{value}",s??""):typeof l=="function"&&(s=l(s))),s}var f=Math.PI*2,v=r.extend({type:"gauge",render:function(s,l,u){this.group.removeAll();var p=s.get("axisLine.lineStyle.color"),g=d(s,u);this._renderMain(s,l,u,p,g)},dispose:function(){},_renderMain:function(s,l,u,p,g){for(var m=this.group,_=s.getModel("axisLine"),y=_.getModel("lineStyle"),b=s.get("clockwise"),x=-s.get("startAngle")/180*Math.PI,w=-s.get("endAngle")/180*Math.PI,S=(w-x)%f,A=x,T=y.get("width"),M=0;M<p.length;M++){var C=Math.min(Math.max(p[M][0],0),1),w=x+S*C,L=new t.Sector({shape:{startAngle:A,endAngle:w,cx:g.cx,cy:g.cy,clockwise:b,r0:g.r-T,r:g.r},silent:!0});L.setStyle({fill:p[M][1]}),L.setStyle(y.getLineStyle(["color","borderWidth","borderColor"])),m.add(L),A=w}var I=function(R){if(R<=0)return p[0][1];for(var E=0;E<p.length;E++)if(p[E][0]>=R&&(E===0?0:p[E-1][0])<R)return p[E][1];return p[E-1][1]};if(!b){var P=x;x=w,w=P}this._renderTicks(s,l,u,I,g,x,w,b),this._renderPointer(s,l,u,I,g,x,w,b),this._renderTitle(s,l,u,I,g),this._renderDetail(s,l,u,I,g)},_renderTicks:function(s,l,u,p,g,m,_,y){for(var b=this.group,x=g.cx,w=g.cy,S=g.r,A=+s.get("min"),T=+s.get("max"),M=s.getModel("splitLine"),C=s.getModel("axisTick"),L=s.getModel("axisLabel"),I=s.get("splitNumber"),P=C.get("splitNumber"),R=i(M.get("length"),S),E=i(C.get("length"),S),D=m,k=(_-m)/I,z=k/P,O=M.getModel("lineStyle").getLineStyle(),N=C.getModel("lineStyle").getLineStyle(),B=0;B<=I;B++){var q=Math.cos(D),V=Math.sin(D);if(M.get("show")){var G=new t.Line({shape:{x1:q*S+x,y1:V*S+w,x2:q*(S-R)+x,y2:V*(S-R)+w},style:O,silent:!0});O.stroke==="auto"&&G.setStyle({stroke:p(B/I)}),b.add(G)}if(L.get("show")){var $=o(n(B/I*(T-A)+A),L.get("formatter")),Z=L.get("distance"),Y=p(B/I);b.add(new t.Text({style:t.setTextStyle({},L,{text:$,x:q*(S-R-Z)+x,y:V*(S-R-Z)+w,textVerticalAlign:V<-.4?"top":V>.4?"bottom":"middle",textAlign:q<-.4?"left":q>.4?"right":"center"},{autoColor:Y}),silent:!0}))}if(C.get("show")&&B!==I){for(var Q=0;Q<=P;Q++){var q=Math.cos(D),V=Math.sin(D),ee=new t.Line({shape:{x1:q*S+x,y1:V*S+w,x2:q*(S-E)+x,y2:V*(S-E)+w},silent:!0,style:N});N.stroke==="auto"&&ee.setStyle({stroke:p((B+Q/P)/I)}),b.add(ee),D+=z}D-=z}else D+=k}},_renderPointer:function(s,l,u,p,g,m,_,y){var b=this.group,x=this._data;if(!s.get("pointer.show")){x&&x.eachItemGraphicEl(function(M){b.remove(M)});return}var w=[+s.get("min"),+s.get("max")],S=[m,_],A=s.getData(),T=A.mapDimension("value");A.diff(x).add(function(M){var C=new e({shape:{angle:m}});t.initProps(C,{shape:{angle:h(A.get(T,M),w,S,!0)}},s),b.add(C),A.setItemGraphicEl(M,C)}).update(function(M,C){var L=x.getItemGraphicEl(C);t.updateProps(L,{shape:{angle:h(A.get(T,M),w,S,!0)}},s),b.add(L),A.setItemGraphicEl(M,L)}).remove(function(M){var C=x.getItemGraphicEl(M);b.remove(C)}).execute(),A.eachItemGraphicEl(function(M,C){var L=A.getItemModel(C),I=L.getModel("pointer");M.setShape({x:g.cx,y:g.cy,width:i(I.get("width"),g.r),r:i(I.get("length"),g.r)}),M.useStyle(L.getModel("itemStyle").getItemStyle()),M.style.fill==="auto"&&M.setStyle("fill",p(h(A.get(T,C),w,[0,1],!0))),t.setHoverStyle(M,L.getModel("emphasis.itemStyle").getItemStyle())}),this._data=A},_renderTitle:function(s,l,u,p,g){var m=s.getData(),_=m.mapDimension("value"),y=s.getModel("title");if(y.get("show")){var b=y.get("offsetCenter"),x=g.cx+i(b[0],g.r),w=g.cy+i(b[1],g.r),S=+s.get("min"),A=+s.get("max"),T=s.getData().get(_,0),M=p(h(T,[S,A],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},y,{x,y:w,text:m.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:M,forceRich:!0})}))}},_renderDetail:function(s,l,u,p,g){var m=s.getModel("detail"),_=+s.get("min"),y=+s.get("max");if(m.get("show")){var b=m.get("offsetCenter"),x=g.cx+i(b[0],g.r),w=g.cy+i(b[1],g.r),S=i(m.get("width"),g.r),A=i(m.get("height"),g.r),T=s.getData(),M=T.get(T.mapDimension("value"),0),C=p(h(M,[_,y],[0,1],!0));this.group.add(new t.Text({silent:!0,style:t.setTextStyle({},m,{x,y:w,text:o(M,m.get("formatter")),textWidth:isNaN(S)?null:S,textHeight:isNaN(A)?null:A,textAlign:"center",textVerticalAlign:"middle"},{autoColor:C,forceRich:!0})}))}}}),c=v;return ku=c,ku}var y0;function TB(){return y0||(y0=1,bB(),AB()),d0}var _0={},zu,x0;function CB(){if(x0)return zu;x0=1;var e=ve,t=li(),r=Me,a=r.defaultEmphasis,i=e.extendSeriesModel({type:"series.funnel",init:function(h){i.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(h)},getInitialData:function(h,d){return t(this,["value"])},_defaultLabelLine:function(h){a(h,"labelLine",["show"]);var d=h.labelLine,o=h.emphasis.labelLine;d.show=d.show&&h.label.show,o.show=o.show&&h.emphasis.label.show},getDataParams:function(h){var d=this.getData(),o=i.superCall(this,"getDataParams",h),f=d.mapDimension("value"),v=d.getSum(f);return o.percent=v?+(d.get(f,h)/v*100).toFixed(2):0,o.$vars.push("percent"),o},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),n=i;return zu=n,zu}var Ou,S0;function MB(){if(S0)return Ou;S0=1;var e=le,t=F,r=Mr;function a(o,f){e.Group.call(this);var v=new e.Polygon,c=new e.Polyline,s=new e.Text;this.add(v),this.add(c),this.add(s),this.updateData(o,f,!0);function l(){c.ignore=c.hoverIgnore,s.ignore=s.hoverIgnore}function u(){c.ignore=c.normalIgnore,s.ignore=s.normalIgnore}this.on("emphasis",l).on("normal",u).on("mouseover",l).on("mouseout",u)}var i=a.prototype,n=["itemStyle","opacity"];i.updateData=function(o,f,v){var c=this.childAt(0),s=o.hostModel,l=o.getItemModel(f),u=o.getItemLayout(f),p=o.getItemModel(f).get(n);p=p??1,c.useStyle({}),v?(c.setShape({points:u.points}),c.setStyle({opacity:0}),e.initProps(c,{style:{opacity:p}},s,f)):e.updateProps(c,{style:{opacity:p},shape:{points:u.points}},s,f);var g=l.getModel("itemStyle"),m=o.getItemVisual(f,"color");c.setStyle(t.defaults({lineJoin:"round",fill:m},g.getItemStyle(["opacity"]))),c.hoverStyle=g.getModel("emphasis").getItemStyle(),this._updateLabel(o,f),e.setHoverStyle(this)},i._updateLabel=function(o,f){var v=this.childAt(1),c=this.childAt(2),s=o.hostModel,l=o.getItemModel(f),u=o.getItemLayout(f),p=u.label,b=o.getItemVisual(f,"color");e.updateProps(v,{shape:{points:p.linePoints||p.linePoints}},s,f),e.updateProps(c,{style:{x:p.x,y:p.y}},s,f),c.attr({rotation:p.rotation,origin:[p.x,p.y],z2:10});var g=l.getModel("label"),m=l.getModel("emphasis.label"),_=l.getModel("labelLine"),y=l.getModel("emphasis.labelLine"),b=o.getItemVisual(f,"color");e.setLabelStyle(c.style,c.hoverStyle={},g,m,{labelFetcher:o.hostModel,labelDataIndex:f,defaultText:o.getName(f),autoColor:b,useInsideStyle:!!p.inside},{textAlign:p.textAlign,textVerticalAlign:p.verticalAlign}),c.ignore=c.normalIgnore=!g.get("show"),c.hoverIgnore=!m.get("show"),v.ignore=v.normalIgnore=!_.get("show"),v.hoverIgnore=!y.get("show"),v.setStyle({stroke:b}),v.setStyle(_.getModel("lineStyle").getLineStyle()),v.hoverStyle=y.getModel("lineStyle").getLineStyle()},t.inherits(a,e.Group);var h=r.extend({type:"funnel",render:function(o,f,v){var c=o.getData(),s=this._data,l=this.group;c.diff(s).add(function(u){var p=new a(c,u);c.setItemGraphicEl(u,p),l.add(p)}).update(function(u,p){var g=s.getItemGraphicEl(p);g.updateData(c,u),l.add(g),c.setItemGraphicEl(u,g)}).remove(function(u){var p=s.getItemGraphicEl(u);l.remove(p)}).execute(),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),d=h;return Ou=d,Ou}var Nu,b0;function DB(){if(b0)return Nu;b0=1;var e=ze,t=Ie(),r=t.parsePercent,a=t.linearMap;function i(o,f){return e.getLayoutRect(o.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()})}function n(o,f){for(var v=o.mapDimension("value"),c=o.mapArray(v,function(g){return g}),s=[],l=f==="ascending",u=0,p=o.count();u<p;u++)s[u]=u;return typeof f=="function"?s.sort(f):f!=="none"&&s.sort(function(g,m){return l?c[g]-c[m]:c[m]-c[g]}),s}function h(o){o.each(function(f){var v=o.getItemModel(f),c=v.getModel("label"),s=c.get("position"),l=v.getModel("labelLine"),u=o.getItemLayout(f),p=u.points,g=s==="inner"||s==="inside"||s==="center",m,_,y,b;if(g)_=(p[0][0]+p[1][0]+p[2][0]+p[3][0])/4,y=(p[0][1]+p[1][1]+p[2][1]+p[3][1])/4,m="center",b=[[_,y],[_,y]];else{var x,w,S,A=l.get("length");s==="left"?(x=(p[3][0]+p[0][0])/2,w=(p[3][1]+p[0][1])/2,S=x-A,_=S-5,m="right"):(x=(p[1][0]+p[2][0])/2,w=(p[1][1]+p[2][1])/2,S=x+A,_=S+5,m="left");var T=w;b=[[x,w],[S,T]],y=T}u.label={linePoints:b,x:_,y,verticalAlign:"middle",textAlign:m,inside:g}})}function d(o,f,v){o.eachSeriesByType("funnel",function(c){var s=c.getData(),l=s.mapDimension("value"),u=c.get("sort"),p=i(c,f),g=n(s,u),m=[r(c.get("minSize"),p.width),r(c.get("maxSize"),p.width)],_=s.getDataExtent(l),y=c.get("min"),b=c.get("max");y==null&&(y=Math.min(_[0],0)),b==null&&(b=_[1]);var x=c.get("funnelAlign"),w=c.get("gap"),S=(p.height-w*(s.count()-1))/s.count(),A=p.y,T=function(D,k){var z=s.get(l,D)||0,O=a(z,[y,b],m,!0),N;switch(x){case"left":N=p.x;break;case"center":N=p.x+(p.width-O)/2;break;case"right":N=p.x+p.width-O;break}return[[N,k],[N+O,k]]};u==="ascending"&&(S=-S,w=-w,A+=p.height,g=g.reverse());for(var M=0;M<g.length;M++){var C=g[M],L=g[M+1],I=s.getItemModel(C),P=I.get("itemStyle.height");P==null?P=S:(P=r(P,p.height),u==="ascending"&&(P=-P));var R=T(C,A),E=T(L,A+P);A+=P+w,s.setItemLayout(C,{points:R.concat(E.slice().reverse())})}h(s)})}return Nu=d,Nu}var w0;function LB(){if(w0)return _0;w0=1;var e=ve;CB(),MB();var t=Ho(),r=DB(),a=an();return e.registerVisual(t("funnel")),e.registerLayout(r),e.registerProcessor(a("funnel")),_0}var A0={},T0={},Vu,C0;function IB(){if(C0)return Vu;C0=1;var e=F,t=Me;function r(n){a(n),i(n)}function a(n){if(!n.parallel){var h=!1;e.each(n.series,function(d){d&&d.type==="parallel"&&(h=!0)}),h&&(n.parallel=[{}])}}function i(n){var h=t.normalizeToArray(n.parallelAxis);e.each(h,function(d){if(e.isObject(d)){var o=d.parallelIndex||0,f=t.normalizeToArray(n.parallel)[o];f&&f.parallelAxisDefault&&e.merge(d,f.parallelAxisDefault,!1)}})}return Vu=r,Vu}var M0={},Bu,D0;function PB(){if(D0)return Bu;D0=1;var e=F,t=Yr(),r=function(i,n,h,d,o){t.call(this,i,n,h),this.type=d||"value",this.axisIndex=o};r.prototype={constructor:r,model:null,isHorizontal:function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"}},e.inherits(r,t);var a=r;return Bu=a,Bu}var qu,L0;function nn(){if(L0)return qu;L0=1;function e(a,i,n,h,d,o){i[0]=r(i[0],n),i[1]=r(i[1],n),a=a||0;var f=n[1]-n[0];d!=null&&(d=r(d,[0,f])),o!=null&&(o=Math.max(o,d??0)),h==="all"&&(d=o=Math.abs(i[1]-i[0]),h=0);var v=t(i,h);i[h]+=a;var c=d||0,s=n.slice();v.sign<0?s[0]+=c:s[1]-=c,i[h]=r(i[h],s);var l=t(i,h);d!=null&&(l.sign!==v.sign||l.span<d)&&(i[1-h]=i[h]+v.sign*d);var l=t(i,h);return o!=null&&l.span>o&&(i[1-h]=i[h]+l.sign*o),i}function t(a,i){var n=a[i]-a[1-i];return{span:Math.abs(n),sign:n>0?-1:n<0?1:i?-1:1}}function r(a,i){return Math.min(i[1],Math.max(i[0],a))}return qu=e,qu}var Hu,I0;function RB(){if(I0)return Hu;I0=1;var e=F,t=We,r=ze,a=jt(),i=PB(),n=le,h=Ie(),d=nn(),o=e.each,f=Math.min,v=Math.max,c=Math.floor,s=Math.ceil,l=h.round,u=Math.PI;function p(b,x,w){this._axesMap=e.createHashMap(),this._axesLayout={},this.dimensions=b.dimensions,this._rect,this._model=b,this._init(b,x,w)}p.prototype={type:"parallel",constructor:p,_init:function(b,x,w){var S=b.dimensions,A=b.parallelAxisIndex;o(S,function(T,M){var C=A[M],L=x.getComponent("parallelAxis",C),I=this._axesMap.set(T,new i(T,a.createScaleByModel(L),[0,0],L.get("type"),C)),P=I.type==="category";I.onBand=P&&L.get("boundaryGap"),I.inverse=L.get("inverse"),L.axis=I,I.model=L,I.coordinateSystem=L.coordinateSystem=this},this)},update:function(b,x){this._updateAxesFromSeries(this._model,b)},containPoint:function(b){var x=this._makeLayoutInfo(),w=x.axisBase,S=x.layoutBase,A=x.pixelDimIndex,T=b[1-A],M=b[A];return T>=w&&T<=w+x.axisLength&&M>=S&&M<=S+x.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(b,x){x.eachSeries(function(w){if(b.contains(w,x)){var S=w.getData();o(this.dimensions,function(A){var T=this._axesMap.get(A);T.scale.unionExtentFromData(S,S.mapDimension(A)),a.niceScaleExtent(T.scale,T.model)},this)}},this)},resize:function(b,x){this._rect=r.getLayoutRect(b.getBoxLayoutParams(),{width:x.getWidth(),height:x.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var b=this._model,x=this._rect,w=["x","y"],S=["width","height"],A=b.get("layout"),T=A==="horizontal"?0:1,M=x[S[T]],C=[0,M],L=this.dimensions.length,I=g(b.get("axisExpandWidth"),C),P=g(b.get("axisExpandCount")||0,[0,L]),R=b.get("axisExpandable")&&L>3&&L>P&&P>1&&I>0&&M>0,E=b.get("axisExpandWindow"),D;if(E)D=g(E[1]-E[0],C),E[1]=E[0]+D;else{D=g(I*(P-1),C);var k=b.get("axisExpandCenter")||c(L/2);E=[I*k-D/2],E[1]=E[0]+D}var z=(M-D)/(L-P);z<3&&(z=0);var O=[c(l(E[0]/I,1))+1,s(l(E[1]/I,1))-1],N=z/I*E[0];return{layout:A,pixelDimIndex:T,layoutBase:x[w[T]],layoutLength:M,axisBase:x[w[1-T]],axisLength:x[S[1-T]],axisExpandable:R,axisExpandWidth:I,axisCollapseWidth:z,axisExpandWindow:E,axisCount:L,winInnerIndices:O,axisExpandWindow0Pos:N}},_layoutAxes:function(){var b=this._rect,x=this._axesMap,w=this.dimensions,S=this._makeLayoutInfo(),A=S.layout;x.each(function(T){var M=[0,S.axisLength],C=T.inverse?1:0;T.setExtent(M[C],M[1-C])}),o(w,function(T,M){var C=(S.axisExpandable?_:m)(M,S),L={horizontal:{x:C.position,y:S.axisLength},vertical:{x:0,y:C.position}},I={horizontal:u/2,vertical:0},P=[L[A].x+b.x,L[A].y+b.y],R=I[A],E=t.create();t.rotate(E,E,R),t.translate(E,E,P),this._axesLayout[T]={position:P,rotation:R,transform:E,axisNameAvailableWidth:C.axisNameAvailableWidth,axisLabelShow:C.axisLabelShow,nameTruncateMaxWidth:C.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(b){return this._axesMap.get(b)},dataToPoint:function(b,x){return this.axisCoordToPoint(this._axesMap.get(x).dataToCoord(b),x)},eachActiveState:function(b,x,w,S){w==null&&(w=0),S==null&&(S=b.count());var A=this._axesMap,T=this.dimensions,M=[],C=[];e.each(T,function(z){M.push(b.mapDimension(z)),C.push(A.get(z).model)});for(var L=this.hasAxisBrushed(),I=w;I<S;I++){var P;if(!L)P="normal";else{P="active";for(var R=b.getValues(M,I),E=0,D=T.length;E<D;E++){var k=C[E].getActiveState(R[E]);if(k==="inactive"){P="inactive";break}}}x(P,I)}},hasAxisBrushed:function(){for(var b=this.dimensions,x=this._axesMap,w=!1,S=0,A=b.length;S<A;S++)x.get(b[S]).model.getActiveState()!=="normal"&&(w=!0);return w},axisCoordToPoint:function(b,x){var w=this._axesLayout[x];return n.applyTransform([b,0],w.transform)},getAxisLayout:function(b){return e.clone(this._axesLayout[b])},getSlidedAxisExpandWindow:function(b){var x=this._makeLayoutInfo(),w=x.pixelDimIndex,S=x.axisExpandWindow.slice(),A=S[1]-S[0],T=[0,x.axisExpandWidth*(x.axisCount-1)];if(!this.containPoint(b))return{behavior:"none",axisExpandWindow:S};var M=b[w]-x.layoutBase-x.axisExpandWindow0Pos,C,L="slide",I=x.axisCollapseWidth,P=this._model.get("axisExpandSlideTriggerArea"),R=P[0]!=null;if(I)R&&I&&M<A*P[0]?(L="jump",C=M-A*P[2]):R&&I&&M>A*(1-P[0])?(L="jump",C=M-A*(1-P[2])):(C=M-A*P[1])>=0&&(C=M-A*(1-P[1]))<=0&&(C=0),C*=x.axisExpandWidth/I,C?d(C,S,T,"all"):L="none";else{var A=S[1]-S[0],E=T[1]*M/A;S=[v(0,E-A/2)],S[1]=f(T[1],S[0]+A),S[0]=S[1]-A}return{axisExpandWindow:S,behavior:L}}};function g(b,x){return f(v(b,x[0]),x[1])}function m(b,x){var w=x.layoutLength/(x.axisCount-1);return{position:w*b,axisNameAvailableWidth:w,axisLabelShow:!0}}function _(b,x){var w=x.layoutLength,S=x.axisExpandWidth,A=x.axisCount,T=x.axisCollapseWidth,M=x.winInnerIndices,C,L=T,I=!1,P;return b<M[0]?(C=b*T,P=T):b<=M[1]?(C=x.axisExpandWindow0Pos+b*S-x.axisExpandWindow[0],L=S,I=!0):(C=w-(A-1-b)*T,P=T),{position:C,axisNameAvailableWidth:L,axisLabelShow:I,nameTruncateMaxWidth:P}}var y=p;return Hu=y,Hu}var P0;function MT(){if(P0)return M0;P0=1;var e=RB(),t=cr;function r(a,i){var n=[];return a.eachComponent("parallel",function(h,d){var o=new e(h,a,i);o.name="parallel_"+d,o.resize(h,i),h.coordinateSystem=o,o.model=h,n.push(o)}),a.eachSeries(function(h){if(h.get("coordinateSystem")==="parallel"){var d=a.queryComponents({mainType:"parallel",index:h.get("parallelIndex"),id:h.get("parallelId")})[0];h.coordinateSystem=d.coordinateSystem}}),n}return t.register("parallel",{create:r}),M0}var Gu,R0;function EB(){if(R0)return Gu;R0=1;var e=F,t=vt,r=Ja,a=Bo(),i=Ie(),n=si(),h=t.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return r([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(v){var c=this.activeIntervals=e.clone(v);if(c)for(var s=c.length-1;s>=0;s--)i.asc(c[s])},getActiveState:function(v){var c=this.activeIntervals;if(!c.length)return"normal";if(v==null||isNaN(v))return"inactive";if(c.length===1){var s=c[0];if(s[0]<=v&&v<=s[1])return"active"}else for(var l=0,u=c.length;l<u;l++)if(c[l][0]<=v&&v<=c[l][1])return"active";return"inactive"}}),d={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};e.merge(h.prototype,n);function o(v,c){return c.type||(c.data?"category":"value")}a("parallel",h,o,d);var f=h;return Gu=f,Gu}var Fu,E0;function kB(){if(E0)return Fu;E0=1;var e=F,t=vt;EB();var r=t.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(a){var i=this.option;a&&e.merge(i,a,!0),this._initDimensions()},contains:function(a,i){var n=a.get("parallelIndex");return n!=null&&i.getComponent("parallel",n)===this},setAxisExpand:function(a){e.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){a.hasOwnProperty(i)&&(this.option[i]=a[i])},this)},_initDimensions:function(){var a=this.dimensions=[],i=this.parallelAxisIndex=[],n=e.filter(this.dependentModels.parallelAxis,function(h){return(h.get("parallelIndex")||0)===this.componentIndex},this);e.each(n,function(h){a.push("dim"+h.get("dim")),i.push(h.componentIndex)})}});return Fu=r,Fu}var k0={},z0={},O0;function zB(){if(O0)return z0;O0=1;var e=ve,t={type:"axisAreaSelect",event:"axisAreaSelected"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"parallelAxis",query:r},function(i){i.axis.model.setActiveIntervals(r.intervals)})}),e.registerAction("parallelAxisExpand",function(r,a){a.eachComponent({mainType:"parallel",query:r},function(i){i.setAxisExpand(r)})}),z0}var $u,N0;function od(){if(N0)return $u;N0=1;var e=F,t=ua,r=le,a=mT(),i=da(),n=e.curry,h=e.each,d=e.map,o=Math.min,f=Math.max,v=Math.pow,c=1e4,s=6,l=6,u="globalPan",p={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},g={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},m={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},_=0;function y(H){t.call(this),this._zr=H,this.group=new r.Group,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+_++,this._handlers={},h(me,function(U,X){this._handlers[X]=e.bind(U,this)},this)}y.prototype={constructor:y,enableBrush:function(H){return this._brushType&&x(this),H.brushType&&b(this,H),this},setPanels:function(H){if(H&&H.length){var U=this._panels={};e.each(H,function(X){U[X.panelId]=e.clone(X)})}else this._panels=null;return this},mount:function(H){H=H||{},this._enableGlobalPan=H.enableGlobalPan;var U=this.group;return this._zr.add(U),U.attr({position:H.position||[0,0],rotation:H.rotation||0,scale:H.scale||[1,1]}),this._transform=U.getLocalTransform(),this},eachCover:function(H,U){h(this._covers,H,U)},updateCovers:function(H){H=e.map(H,function(ye){return e.merge(e.clone(m),ye,!0)});var U="\0-brush-index-",X=this._covers,ne=this._covers=[],te=this,oe=this._creatingCover;return new i(X,H,_e,he).add(be).update(be).remove(xe).execute(),this;function he(ye,de){return(ye.id!=null?ye.id:U+de)+"-"+ye.brushType}function _e(ye,de){return he(ye.__brushOption,de)}function be(ye,de){var De=H[ye];if(de!=null&&X[de]===oe)ne[ye]=X[de];else{var Ee=ne[ye]=de!=null?(X[de].__brushOption=De,X[de]):S(te,w(te,De));M(te,Ee)}}function xe(ye){X[ye]!==oe&&te.group.remove(X[ye])}},unmount:function(){return this.enableBrush(!1),P(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},e.mixin(y,t);function b(H,U){var X=H._zr;H._enableGlobalPan||a.take(X,u,H._uid),h(H._handlers,function(ne,te){X.on(te,ne)}),H._brushType=U.brushType,H._brushOption=e.merge(e.clone(m),U,!0)}function x(H){var U=H._zr;a.release(U,u,H._uid),h(H._handlers,function(X,ne){U.off(ne,X)}),H._brushType=H._brushOption=null}function w(H,U){var X=pe[U.brushType].createCover(H,U);return X.__brushOption=U,T(X,U),H.group.add(X),X}function S(H,U){var X=C(U);return X.endCreating&&(X.endCreating(H,U),T(U,U.__brushOption)),U}function A(H,U){var X=U.__brushOption;C(U).updateCoverShape(H,U,X.range,X)}function T(H,U){var X=U.z;X==null&&(X=c),H.traverse(function(ne){ne.z=X,ne.z2=X})}function M(H,U){C(U).updateCommon(H,U),A(H,U)}function C(H){return pe[H.__brushOption.brushType]}function L(H,U,X){var ne=H._panels;if(!ne)return!0;var te,oe=H._transform;return h(ne,function(he){he.isTargetByCursor(U,X,oe)&&(te=he)}),te}function I(H,U){var X=H._panels;if(!X)return!0;var ne=U.__brushOption.panelId;return ne!=null?X[ne]:!0}function P(H){var U=H._covers,X=U.length;return h(U,function(ne){H.group.remove(ne)},H),U.length=0,!!X}function R(H,U){var X=d(H._covers,function(ne){var te=ne.__brushOption,oe=e.clone(te.range);return{brushType:te.brushType,panelId:te.panelId,range:oe}});H.trigger("brush",X,{isEnd:!!U.isEnd,removeOnClick:!!U.removeOnClick})}function E(H){var U=H._track;if(!U.length)return!1;var X=U[U.length-1],ne=U[0],te=X[0]-ne[0],oe=X[1]-ne[1],he=v(te*te+oe*oe,.5);return he>s}function D(H){var U=H.length-1;return U<0&&(U=0),[H[0],H[U]]}function k(H,U,X,ne){var te=new r.Group;return te.add(new r.Rect({name:"main",style:B(X),silent:!0,draggable:!0,cursor:"move",drift:n(H,U,te,"nswe"),ondragend:n(R,U,{isEnd:!0})})),h(ne,function(oe){te.add(new r.Rect({name:oe,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:n(H,U,te,oe),ondragend:n(R,U,{isEnd:!0})}))}),te}function z(H,U,X,ne){var te=ne.brushStyle.lineWidth||0,oe=f(te,l),he=X[0][0],_e=X[1][0],be=he-te/2,xe=_e-te/2,ye=X[0][1],de=X[1][1],De=ye-oe+te/2,Ee=de-oe+te/2,Le=ye-he,Ye=de-_e,ht=Le+te,$e=Ye+te;N(H,U,"main",he,_e,Le,Ye),ne.transformable&&(N(H,U,"w",be,xe,oe,$e),N(H,U,"e",De,xe,oe,$e),N(H,U,"n",be,xe,ht,oe),N(H,U,"s",be,Ee,ht,oe),N(H,U,"nw",be,xe,oe,oe),N(H,U,"ne",De,xe,oe,oe),N(H,U,"sw",be,Ee,oe,oe),N(H,U,"se",De,Ee,oe,oe))}function O(H,U){var X=U.__brushOption,ne=X.transformable,te=U.childAt(0);te.useStyle(B(X)),te.attr({silent:!ne,cursor:ne?"move":"default"}),h(["w","e","n","s","se","sw","ne","nw"],function(oe){var he=U.childOfName(oe),_e=G(H,oe);he&&he.attr({silent:!ne,invisible:!ne,cursor:ne?g[_e]+"-resize":null})})}function N(H,U,X,ne,te,oe,he){var _e=U.childOfName(X);_e&&_e.setShape(ee(Q(H,U,[[ne,te],[ne+oe,te+he]])))}function B(H){return e.defaults({strokeNoScale:!0},H.brushStyle)}function q(H,U,X,ne){var te=[o(H,X),o(U,ne)],oe=[f(H,X),f(U,ne)];return[[te[0],oe[0]],[te[1],oe[1]]]}function V(H){return r.getTransform(H.group)}function G(H,U){if(U.length>1){U=U.split("");var X=[G(H,U[0]),G(H,U[1])];return(X[0]==="e"||X[0]==="w")&&X.reverse(),X.join("")}else{var ne={w:"left",e:"right",n:"top",s:"bottom"},te={left:"w",right:"e",top:"n",bottom:"s"},X=r.transformDirection(ne[U],V(H));return te[X]}}function $(H,U,X,ne,te,oe,he,_e){var be=ne.__brushOption,xe=H(be.range),ye=Y(X,oe,he);h(te.split(""),function(de){var De=p[de];xe[De[0]][De[1]]+=ye[De[0]]}),be.range=U(q(xe[0][0],xe[1][0],xe[0][1],xe[1][1])),M(X,ne),R(X,{isEnd:!1})}function Z(H,U,X,ne,te){var oe=U.__brushOption.range,he=Y(H,X,ne);h(oe,function(_e){_e[0]+=he[0],_e[1]+=he[1]}),M(H,U),R(H,{isEnd:!1})}function Y(H,U,X){var ne=H.group,te=ne.transformCoordToLocal(U,X),oe=ne.transformCoordToLocal(0,0);return[te[0]-oe[0],te[1]-oe[1]]}function Q(H,U,X){var ne=I(H,U);return ne&&ne!==!0?ne.clipPath(X,H._transform):e.clone(X)}function ee(H){var U=o(H[0][0],H[1][0]),X=o(H[0][1],H[1][1]),ne=f(H[0][0],H[1][0]),te=f(H[0][1],H[1][1]);return{x:U,y:X,width:ne-U,height:te-X}}function J(H,U,X){if(H._brushType){var ne=H._zr,te=H._covers,oe=L(H,U,X);if(!H._dragging)for(var he=0;he<te.length;he++){var _e=te[he].__brushOption;if(oe&&(oe===!0||_e.panelId===oe.panelId)&&pe[_e.brushType].contain(te[he],X[0],X[1]))return}oe&&ne.setCursorStyle("crosshair")}}function ae(H){var U=H.event;U.preventDefault&&U.preventDefault()}function j(H,U,X){return H.childOfName("main").contain(U,X)}function ie(H,U,X,ne){var te=H._creatingCover,oe=H._creatingPanel,he=H._brushOption,_e;if(H._track.push(X.slice()),E(H)||te){if(oe&&!te){he.brushMode==="single"&&P(H);var be=e.clone(he);be.brushType=re(be.brushType,oe),be.panelId=oe===!0?null:oe.panelId,te=H._creatingCover=w(H,be),H._covers.push(te)}if(te){var xe=pe[re(H._brushType,oe)],ye=te.__brushOption;ye.range=xe.getCreatingRange(Q(H,te,H._track)),ne&&(S(H,te),xe.updateCommon(H,te)),A(H,te),_e={isEnd:ne}}}else ne&&he.brushMode==="single"&&he.removeOnClick&&L(H,U,X)&&P(H)&&(_e={isEnd:ne,removeOnClick:!0});return _e}function re(H,U){return H==="auto"?U.defaultBrushType:H}var me={mousedown:function(H){if(this._dragging)we.call(this,H);else if(!H.target||!H.target.draggable){ae(H);var U=this.group.transformCoordToLocal(H.offsetX,H.offsetY);this._creatingCover=null;var X=this._creatingPanel=L(this,H,U);X&&(this._dragging=!0,this._track=[U.slice()])}},mousemove:function(H){var U=this.group.transformCoordToLocal(H.offsetX,H.offsetY);if(J(this,H,U),this._dragging){ae(H);var X=ie(this,H,U,!1);X&&R(this,X)}},mouseup:we};function we(H){if(this._dragging){ae(H);var U=this.group.transformCoordToLocal(H.offsetX,H.offsetY),X=ie(this,H,U,!0);this._dragging=!1,this._track=[],this._creatingCover=null,X&&R(this,X)}}var pe={lineX:ce(0),lineY:ce(1),rect:{createCover:function(H,U){return k(n($,function(X){return X},function(X){return X}),H,U,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(H){var U=D(H);return q(U[1][0],U[1][1],U[0][0],U[0][1])},updateCoverShape:function(H,U,X,ne){z(H,U,X,ne)},updateCommon:O,contain:j},polygon:{createCover:function(H,U){var X=new r.Group;return X.add(new r.Polyline({name:"main",style:B(U),silent:!0})),X},getCreatingRange:function(H){return H},endCreating:function(H,U){U.remove(U.childAt(0)),U.add(new r.Polygon({name:"main",draggable:!0,drift:n(Z,H,U),ondragend:n(R,H,{isEnd:!0})}))},updateCoverShape:function(H,U,X,ne){U.childAt(0).setShape({points:Q(H,U,X)})},updateCommon:O,contain:j}};function ce(H){return{createCover:function(U,X){return k(n($,function(ne){var te=[ne,[0,100]];return H&&te.reverse(),te},function(ne){return ne[H]}),U,X,[["w","e"],["n","s"]][H])},getCreatingRange:function(U){var X=D(U),ne=o(X[0][H],X[1][H]),te=f(X[0][H],X[1][H]);return[ne,te]},updateCoverShape:function(U,X,ne,te){var oe,he=I(U,X);if(he!==!0&&he.getLinearBrushOtherExtent)oe=he.getLinearBrushOtherExtent(H,U._transform);else{var _e=U._zr;oe=[0,[_e.getWidth(),_e.getHeight()][1-H]]}var be=[ne,oe];H&&be.reverse(),z(U,X,be,te)},updateCommon:O,contain:j}}var Se=y;return $u=Se,$u}var bi={},V0;function DT(){if(V0)return bi;V0=1;var e=Qe,t=rd(),r=t.onIrrelevantElement,a=le;function i(o){return o=d(o),function(f,v){return a.clipPointsByRect(f,o)}}function n(o,f){return o=d(o),function(v){var c=f??v,s=c?o.width:o.height,l=c?o.x:o.y;return[l,l+(s||0)]}}function h(o,f,v){return o=d(o),function(c,s,l){return o.contain(s[0],s[1])&&!r(c,f,v)}}function d(o){return e.create(o)}return bi.makeRectPanelClipPath=i,bi.makeLinearBrushOtherExtent=n,bi.makeRectIsTargetByCursor=h,bi}var Uu,B0;function OB(){if(B0)return Uu;B0=1;var e=ve,t=F,r=pa(),a=od(),i=DT(),n=le,h=["axisLine","axisTickLabel","axisName"],d=e.extendComponentView({type:"parallelAxis",init:function(s,l){d.superApply(this,"init",arguments),(this._brushController=new a(l.getZr())).on("brush",t.bind(this._onBrush,this))},render:function(s,l,u,p){if(!o(s,l,p)){this.axisModel=s,this.api=u,this.group.removeAll();var g=this._axisGroup;if(this._axisGroup=new n.Group,this.group.add(this._axisGroup),!!s.get("show")){var m=v(s,l),_=m.coordinateSystem,y=s.getAreaSelectStyle(),b=y.width,x=s.axis.dim,w=_.getAxisLayout(x),S=t.extend({strokeContainThreshold:b},w),A=new r(s,S);t.each(h,A.add,A),this._axisGroup.add(A.getGroup()),this._refreshBrushController(S,y,s,m,b,u);var T=p&&p.animation===!1?null:s;n.groupTransition(g,this._axisGroup,T)}}},_refreshBrushController:function(s,l,u,p,g,m){var _=u.axis.getExtent(),y=_[1]-_[0],b=Math.min(30,Math.abs(y)*.1),x=n.BoundingRect.create({x:_[0],y:-g/2,width:y,height:g});x.x-=b,x.width+=2*b,this._brushController.mount({enableGlobalPan:!0,rotation:s.rotation,position:s.position}).setPanels([{panelId:"pl",clipPath:i.makeRectPanelClipPath(x),isTargetByCursor:i.makeRectIsTargetByCursor(x,m,p),getLinearBrushOtherExtent:i.makeLinearBrushOtherExtent(x,0)}]).enableBrush({brushType:"lineX",brushStyle:l,removeOnClick:!0}).updateCovers(f(u))},_onBrush:function(s,l){var u=this.axisModel,p=u.axis,g=t.map(s,function(m){return[p.coordToData(m.range[0],!0),p.coordToData(m.range[1],!0)]});(!u.option.realtime===l.isEnd||l.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:u.id,intervals:g})},dispose:function(){this._brushController.dispose()}});function o(s,l,u){return u&&u.type==="axisAreaSelect"&&l.findComponents({mainType:"parallelAxis",query:u})[0]===s}function f(s){var l=s.axis;return t.map(s.activeIntervals,function(u){return{brushType:"lineX",panelId:"pl",range:[l.dataToCoord(u[0],!0),l.dataToCoord(u[1],!0)]}})}function v(s,l){return l.getComponent("parallel",s.get("parallelIndex"))}var c=d;return Uu=c,Uu}var q0;function NB(){return q0||(q0=1,MT(),zB(),OB()),k0}var H0;function LT(){if(H0)return T0;H0=1;var e=ve,t=F,r=fr,a=IB();MT(),kB(),NB();var i=5;e.extendComponentView({type:"parallel",render:function(d,o,f){this._model=d,this._api=f,this._handlers||(this._handlers={},t.each(n,function(v,c){f.getZr().on(c,this._handlers[c]=t.bind(v,this))},this)),r.createOrUpdate(this,"_throttledDispatchExpand",d.get("axisExpandRate"),"fixRate")},dispose:function(d,o){t.each(this._handlers,function(f,v){o.getZr().off(v,f)}),this._handlers=null},_throttledDispatchExpand:function(d){this._dispatchExpand(d)},_dispatchExpand:function(d){d&&this._api.dispatchAction(t.extend({type:"parallelAxisExpand"},d))}});var n={mousedown:function(d){h(this,"click")&&(this._mouseDownPoint=[d.offsetX,d.offsetY])},mouseup:function(d){var o=this._mouseDownPoint;if(h(this,"click")&&o){var f=[d.offsetX,d.offsetY],v=Math.pow(o[0]-f[0],2)+Math.pow(o[1]-f[1],2);if(v>i)return;var c=this._model.coordinateSystem.getSlidedAxisExpandWindow([d.offsetX,d.offsetY]);c.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:c.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(d){if(!(this._mouseDownPoint||!h(this,"mousemove"))){var o=this._model,f=o.coordinateSystem.getSlidedAxisExpandWindow([d.offsetX,d.offsetY]),v=f.behavior;v==="jump"&&this._throttledDispatchExpand.debounceNextCall(o.get("axisExpandDebounce")),this._throttledDispatchExpand(v==="none"?null:{axisExpandWindow:f.axisExpandWindow,animation:v==="jump"?null:!1})}}};function h(d,o){var f=d._model;return f.get("axisExpandable")&&f.get("axisExpandTriggerOn")===o}return e.registerPreprocessor(a),T0}var Wu,G0;function VB(){if(G0)return Wu;G0=1;var e=F,t=e.each,r=e.createHashMap,a=yt,i=Lr(),n=a.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(o,f){var v=this.getSource();return h(v,this),i(v,this)},getRawIndicesByActiveState:function(o){var f=this.coordinateSystem,v=this.getData(),c=[];return f.eachActiveState(v,function(s,l){o===s&&c.push(v.getRawIndex(l))}),c},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});function h(o,f){if(!o.encodeDefine){var v=f.ecModel.getComponent("parallel",f.get("parallelIndex"));if(v){var c=o.encodeDefine=r();t(v.dimensions,function(s){var l=d(s);c.set(s,l)})}}}function d(o){return+o.replace("dim","")}return Wu=n,Wu}var Zu,F0;function BB(){if(F0)return Zu;F0=1;var e=le,t=Mr,r=.3,a=t.extend({type:"parallel",init:function(){this._dataGroup=new e.Group,this.group.add(this._dataGroup),this._data,this._initialized},render:function(c,s,l,u){var p=this._dataGroup,g=c.getData(),m=this._data,_=c.coordinateSystem,y=_.dimensions,b=d(c);g.diff(m).add(x).update(w).remove(S).execute();function x(T){var M=h(g,p,T,y,_);o(M,g,T,b)}function w(T,M){var C=m.getItemGraphicEl(M),L=n(g,T,y,_);g.setItemGraphicEl(T,C);var I=u&&u.animation===!1?null:c;e.updateProps(C,{shape:{points:L}},I,T),o(C,g,T,b)}function S(T){var M=m.getItemGraphicEl(T);p.remove(M)}if(!this._initialized){this._initialized=!0;var A=i(_,c,function(){setTimeout(function(){p.removeClipPath()})});p.setClipPath(A)}this._data=g},incrementalPrepareRender:function(c,s,l){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(c,s,l){for(var u=s.getData(),p=s.coordinateSystem,g=p.dimensions,m=d(s),_=c.start;_<c.end;_++){var y=h(u,this._dataGroup,_,g,p);y.incremental=!0,o(y,u,_,m)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}});function i(c,s,l){var u=c.model,p=c.getRect(),g=new e.Rect({shape:{x:p.x,y:p.y,width:p.width,height:p.height}}),m=u.get("layout")==="horizontal"?"width":"height";return g.setShape(m,0),e.initProps(g,{shape:{width:p.width,height:p.height}},s,l),g}function n(c,s,l,u){for(var p=[],g=0;g<l.length;g++){var m=l[g],_=c.get(c.mapDimension(m),s);f(_,u.getAxis(m).type)||p.push(u.dataToPoint(_,m))}return p}function h(c,s,l,u,p){var g=n(c,l,u,p),m=new e.Polyline({shape:{points:g},silent:!0,z2:10});return s.add(m),c.setItemGraphicEl(l,m),m}function d(c){var s=c.get("smooth",!0);return s===!0&&(s=r),{lineStyle:c.getModel("lineStyle").getLineStyle(),smooth:s??r}}function o(c,s,l,u){var p=u.lineStyle;if(s.hasItemOption){var g=s.getItemModel(l).getModel("lineStyle");p=g.getLineStyle()}c.useStyle(p);var m=c.style;m.fill=null,m.stroke=s.getItemVisual(l,"color"),m.opacity=s.getItemVisual(l,"opacity"),u.smooth&&(c.shape.smooth=u.smooth)}function f(c,s){return s==="category"?c==null:c==null||isNaN(c)}var v=a;return Zu=v,Zu}var Yu,$0;function qB(){if($0)return Yu;$0=1;var e=["lineStyle","normal","opacity"],t={seriesType:"parallel",reset:function(r,a,i){var n=r.getModel("itemStyle"),h=r.getModel("lineStyle"),d=a.get("color"),o=h.get("color")||n.get("color")||d[r.seriesIndex%d.length],f=r.get("inactiveOpacity"),v=r.get("activeOpacity"),c=r.getModel("lineStyle").getLineStyle(),s=r.coordinateSystem,l=r.getData(),u={normal:c.opacity,active:v,inactive:f};l.setVisual("color",o);function p(g,m){s.eachActiveState(m,function(_,y){var b=u[_];if(_==="normal"&&m.hasItemOption){var x=m.getItemModel(y).get(e,!0);x!=null&&(b=x)}m.setItemVisual(y,"opacity",b)},g.start,g.end)}return{progress:p}}};return Yu=t,Yu}var U0;function HB(){if(U0)return A0;U0=1;var e=ve;LT(),VB(),BB();var t=qB();return e.registerVisual(t),A0}var W0={},Xu,Z0;function GB(){if(Z0)return Xu;Z0=1;var e=yt,t=AT(),r=Oe,a=r.encodeHTML,i=e.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(h){var d=h.edges||h.links,o=h.data||h.nodes;if(o&&d){var f=t(o,d,this,!0);return f.data}},setNodePosition:function(h,d){var o=this.option.data[h];o.localX=d[0],o.localY=d[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(h,d,o){if(o==="edge"){var f=this.getDataParams(h,o),v=f.data,c=v.source+" -- "+v.target;return f.value&&(c+=" : "+f.value),a(c)}return i.superCall(this,"formatTooltip",h,d)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),n=i;return Xu=n,Xu}var Ku,Y0;function FB(){if(Y0)return Ku;Y0=1;var e=le,t=ve,r=e.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(n,h){var d=h.extent/2;n.moveTo(h.x1,h.y1-d),n.bezierCurveTo(h.cpx1,h.cpy1-d,h.cpx2,h.cpy2-d,h.x2,h.y2-d),n.lineTo(h.x2,h.y2+d),n.bezierCurveTo(h.cpx2,h.cpy2+d,h.cpx1,h.cpy1+d,h.x1,h.y1+d),n.closePath()}}),a=t.extendChartView({type:"sankey",_model:null,render:function(n,h,d){var o=n.getGraph(),f=this.group,v=n.layoutInfo,c=v.width,s=v.height,l=n.getData(),u=n.getData("edge");this._model=n,f.removeAll(),f.attr("position",[v.x,v.y]),o.eachEdge(function(g){var m=new r;m.dataIndex=g.dataIndex,m.seriesIndex=n.seriesIndex,m.dataType="edge";var _=g.getModel("lineStyle"),y=_.get("curveness"),b=g.node1.getLayout(),x=g.node1.getModel(),w=x.get("localX"),S=x.get("localY"),A=g.node2.getLayout(),T=g.node2.getModel(),M=T.get("localX"),C=T.get("localY"),L=g.getLayout();m.shape.extent=Math.max(1,L.dy);var I=(w!=null?w*c:b.x)+b.dx,P=(S!=null?S*s:b.y)+L.sy+L.dy/2,R=M!=null?M*c:A.x,E=(C!=null?C*s:A.y)+L.ty+L.dy/2,D=I*(1-y)+R*y,k=P,z=I*y+R*(1-y),O=E;switch(m.setShape({x1:I,y1:P,x2:R,y2:E,cpx1:D,cpy1:k,cpx2:z,cpy2:O}),m.setStyle(_.getItemStyle()),m.style.fill){case"source":m.style.fill=g.node1.getVisual("color");break;case"target":m.style.fill=g.node2.getVisual("color");break}e.setHoverStyle(m,g.getModel("emphasis.lineStyle").getItemStyle()),f.add(m),u.setItemGraphicEl(g.dataIndex,m)}),o.eachNode(function(g){var m=g.getLayout(),_=g.getModel(),y=_.get("localX"),b=_.get("localY"),x=_.getModel("label"),w=_.getModel("emphasis.label"),S=new e.Rect({shape:{x:y!=null?y*c:m.x,y:b!=null?b*s:m.y,width:m.dx,height:m.dy},style:_.getModel("itemStyle").getItemStyle()}),A=g.getModel("emphasis.itemStyle").getItemStyle();e.setLabelStyle(S.style,A,x,w,{labelFetcher:n,labelDataIndex:g.dataIndex,defaultText:g.id,isRectText:!0}),S.setStyle("fill",g.getVisual("color")),e.setHoverStyle(S,A),f.add(S),l.setItemGraphicEl(g.dataIndex,S),S.dataType="node"});var p=n.get("draggable");p&&l.eachItemGraphicEl(function(g,m){g.drift=function(_,y){this.shape.x+=_,this.shape.y+=y,this.dirty(),d.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:l.getRawIndex(m),localX:this.shape.x/c,localY:this.shape.y/s})},g.draggable=!0,g.cursor="move"}),!this._data&&n.get("animation")&&f.setClipPath(i(f.getBoundingRect(),n,function(){f.removeClipPath()})),this._data=n.getData()},dispose:function(){}});function i(n,h,d){var o=new e.Rect({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return e.initProps(o,{shape:{width:n.width+20,height:n.height+20}},h,d),o}return Ku=a,Ku}var X0={},K0;function $B(){if(K0)return X0;K0=1;var e=ve;return e.registerAction({type:"dragNode",event:"dragNode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(a){a.setNodePosition(t.dataIndex,[t.localX,t.localY])})}),X0}var Qu,Q0;function IT(){if(Q0)return Qu;Q0=1;var e=F;function t(){var r=[],a=[];function i(h,d){if(d>=r.length)return h;for(var o=-1,f=h.length,v=r[d++],c={},s={};++o<f;){var l=v(h[o]),u=s[l];u?u.push(h[o]):s[l]=[h[o]]}return e.each(s,function(p,g){c[g]=i(p,d)}),c}function n(h,d){if(d>=r.length)return h;var o=[],f=a[d++];return e.each(h,function(v,c){o.push({key:c,values:n(v,d)})}),f?o.sort(function(v,c){return f(v.key,c.key)}):o}return{key:function(h){return r.push(h),this},sortKeys:function(h){return a[r.length-1]=h,this},entries:function(h){return n(i(h,0),0)}}}return Qu=t,Qu}var ju,j0;function UB(){if(j0)return ju;j0=1;var e=ze,t=IT(),r=F;function a(T,M,C){T.eachSeriesByType("sankey",function(L){var I=L.get("nodeWidth"),P=L.get("nodeGap"),R=i(L,M);L.layoutInfo=R;var E=R.width,D=R.height,k=L.getGraph(),z=k.nodes,O=k.edges;h(z);var N=r.filter(z,function(q){return q.getLayout().value===0}),B=N.length!==0?0:L.get("layoutIterations");n(z,O,I,P,E,D,B)})}function i(T,M){return e.getLayoutRect(T.getBoxLayoutParams(),{width:M.getWidth(),height:M.getHeight()})}function n(T,M,C,L,I,P,R){d(T,M,C,I),v(T,M,P,L,R),m(T)}function h(T){r.each(T,function(M){var C=b(M.outEdges,A),L=b(M.inEdges,A),I=Math.max(C,L);M.setLayout({value:I},!0)})}function d(T,M,C,L){for(var I=[],P=[],R=[],E=[],D=0,k=0,z=0;z<M.length;z++)I[z]=1;for(var z=0;z<T.length;z++)P[z]=T[z].inEdges.length,P[z]===0&&R.push(T[z]);for(;R.length;)r.each(R,function(O){O.setLayout({x:D},!0),O.setLayout({dx:C},!0),r.each(O.outEdges,function(N){var B=M.indexOf(N);I[B]=0;var q=N.node2,V=T.indexOf(q);--P[V]===0&&E.push(q)})}),++D,R=E,E=[];for(var z=0;z<I.length;z++);o(T,D),k=(L-C)/(D-1),f(T,k)}function o(T,M){r.each(T,function(C){C.outEdges.length||C.setLayout({x:M-1},!0)})}function f(T,M){r.each(T,function(C){var L=C.getLayout().x*M;C.setLayout({x:L},!0)})}function v(T,M,C,L,I){var P=t().key(function(E){return E.getLayout().x}).sortKeys(S).entries(T).map(function(E){return E.values});c(T,P,M,C,L),s(P,L,C);for(var R=1;I>0;I--)R*=.99,l(P,R),s(P,L,C),p(P,R),s(P,L,C)}function c(T,M,C,L,I){var P=[];r.each(M,function(E){var D=E.length,k=0;r.each(E,function(O){k+=O.getLayout().value});var z=(L-(D-1)*I)/k;P.push(z)}),P.sort(function(E,D){return E-D});var R=P[0];r.each(M,function(E){r.each(E,function(D,k){D.setLayout({y:k},!0);var z=D.getLayout().value*R;D.setLayout({dy:z},!0)})}),r.each(C,function(E){var D=+E.getValue()*R;E.setLayout({dy:D},!0)})}function s(T,M,C){r.each(T,function(L){var I,P,R=0,E=L.length,D;for(L.sort(w),D=0;D<E;D++){if(I=L[D],P=R-I.getLayout().y,P>0){var k=I.getLayout().y+P;I.setLayout({y:k},!0)}R=I.getLayout().y+I.getLayout().dy+M}if(P=R-M-C,P>0){var k=I.getLayout().y-P;for(I.setLayout({y:k},!0),R=I.getLayout().y,D=E-2;D>=0;--D)I=L[D],P=I.getLayout().y+I.getLayout().dy+M-R,P>0&&(k=I.getLayout().y-P,I.setLayout({y:k},!0)),R=I.getLayout().y}})}function l(T,M){r.each(T.slice().reverse(),function(C){r.each(C,function(L){if(L.outEdges.length){var I=b(L.outEdges,u)/b(L.outEdges,A),P=L.getLayout().y+(I-x(L))*M;L.setLayout({y:P},!0)}})})}function u(T){return x(T.node2)*T.getValue()}function p(T,M){r.each(T,function(C){r.each(C,function(L){if(L.inEdges.length){var I=b(L.inEdges,g)/b(L.inEdges,A),P=L.getLayout().y+(I-x(L))*M;L.setLayout({y:P},!0)}})})}function g(T){return x(T.node1)*T.getValue()}function m(T){r.each(T,function(M){M.outEdges.sort(_),M.inEdges.sort(y)}),r.each(T,function(M){var C=0,L=0;r.each(M.outEdges,function(I){I.setLayout({sy:C},!0),C+=I.getLayout().dy}),r.each(M.inEdges,function(I){I.setLayout({ty:L},!0),L+=I.getLayout().dy})})}function _(T,M){return T.node2.getLayout().y-M.node2.getLayout().y}function y(T,M){return T.node1.getLayout().y-M.node1.getLayout().y}function b(T,M){for(var C=0,L=T.length,I=-1;++I<L;){var P=+M.call(T,T[I],I);isNaN(P)||(C+=P)}return C}function x(T){return T.getLayout().y+T.getLayout().dy/2}function w(T,M){return T.getLayout().y-M.getLayout().y}function S(T,M){return T-M}function A(T){return T.getValue()}return ju=a,ju}var Ju,J0;function WB(){if(J0)return Ju;J0=1;var e=_a(),t=F;function r(a,i){a.eachSeriesByType("sankey",function(n){var h=n.getGraph(),d=h.nodes;if(d.length){var o=1/0,f=-1/0;t.each(d,function(v){var c=v.getLayout().value;c<o&&(o=c),c>f&&(f=c)}),t.each(d,function(v){var c=new e({type:"color",mappingMethod:"linear",dataExtent:[o,f],visual:n.get("color")}),s=c.mapValueToVisual(v.getLayout().value);v.setVisual("color",s);var l=v.getModel(),u=l.get("itemStyle.color");u!=null&&v.setVisual("color",u)})}})}return Ju=r,Ju}var e_;function ZB(){if(e_)return W0;e_=1;var e=ve;GB(),FB(),$B();var t=UB(),r=WB();return e.registerLayout(t),e.registerVisual(r),W0}var t_={},ev={},r_;function PT(){if(r_)return ev;r_=1;var e=li(),t=F,r=Ji(),a=r.getDimensionTypeByAxis,i={_baseAxisDim:null,getInitialData:function(n,h){var d,o=h.getComponent("xAxis",this.get("xAxisIndex")),f=h.getComponent("yAxis",this.get("yAxisIndex")),v=o.get("type"),c=f.get("type"),s;v==="category"?(n.layout="horizontal",d=o.getOrdinalMeta(),s=!0):c==="category"?(n.layout="vertical",d=f.getOrdinalMeta(),s=!0):n.layout=n.layout||"horizontal";var l=["x","y"],u=n.layout==="horizontal"?0:1,p=this._baseAxisDim=l[u],g=l[1-u],m=[o,f],_=m[u].get("type"),y=m[1-u].get("type"),b=n.data;if(b&&s){var x=[];t.each(b,function(S,A){var T;S.value&&t.isArray(S.value)?(T=S.value.slice(),S.value.unshift(A)):t.isArray(S)?(T=S.slice(),S.unshift(A)):T=S,x.push(T)}),n.data=x}var w=this.defaultValueDimensions;return e(this,{coordDimensions:[{name:p,type:a(_),ordinalMeta:d,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:g,type:a(y),dimsDef:w.slice()}],dimensionsCount:w.length+1})},getBaseAxis:function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis}};return ev.seriesModelMixin=i,ev}var tv,a_;function YB(){if(a_)return tv;a_=1;var e=F,t=yt,r=PT(),a=r.seriesModelMixin,i=t.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});e.mixin(i,a,!0);var n=i;return tv=n,tv}var rv,i_;function XB(){if(i_)return rv;i_=1;var e=F,t=Mr,r=le,a=it,i=["itemStyle"],n=["emphasis","itemStyle"],h=t.extend({type:"boxplot",render:function(s,l,u){var p=s.getData(),g=this.group,m=this._data;this._data||g.removeAll();var _=s.get("layout")==="horizontal"?1:0;p.diff(m).add(function(y){if(p.hasValue(y)){var b=p.getItemLayout(y),x=o(b,p,y,_,!0);p.setItemGraphicEl(y,x),g.add(x)}}).update(function(y,b){var x=m.getItemGraphicEl(b);if(!p.hasValue(y)){g.remove(x);return}var w=p.getItemLayout(y);x?f(w,x,p,y):x=o(w,p,y,_),g.add(x),p.setItemGraphicEl(y,x)}).remove(function(y){var b=m.getItemGraphicEl(y);b&&g.remove(b)}).execute(),this._data=p},remove:function(s){var l=this.group,u=this._data;this._data=null,u&&u.eachItemGraphicEl(function(p){p&&l.remove(p)})},dispose:e.noop}),d=a.extend({type:"boxplotBoxPath",shape:{},buildPath:function(s,l){var u=l.points,p=0;for(s.moveTo(u[p][0],u[p][1]),p++;p<4;p++)s.lineTo(u[p][0],u[p][1]);for(s.closePath();p<u.length;p++)s.moveTo(u[p][0],u[p][1]),p++,s.lineTo(u[p][0],u[p][1])}});function o(s,l,u,p,g){var m=s.ends,_=new d({shape:{points:g?v(m,p,s):m}});return f(s,_,l,u,g),_}function f(s,l,u,p,g){var m=u.hostModel,_=r[g?"initProps":"updateProps"];_(l,{shape:{points:s.ends}},m,p);var y=u.getItemModel(p),b=y.getModel(i),x=u.getItemVisual(p,"color"),w=b.getItemStyle(["borderColor"]);w.stroke=x,w.strokeNoScale=!0,l.useStyle(w),l.z2=100;var S=y.getModel(n).getItemStyle();r.setHoverStyle(l,S)}function v(s,l,u){return e.map(s,function(p){return p=p.slice(),p[l]=u.initBaseline,p})}var c=h;return rv=c,rv}var av,n_;function KB(){if(n_)return av;n_=1;var e=["itemStyle","borderColor"];function t(r,a){var i=r.get("color");r.eachRawSeriesByType("boxplot",function(n){var h=i[n.seriesIndex%i.length],d=n.getData();d.setVisual({legendSymbol:"roundRect",color:n.get(e)||h}),r.isSeriesFiltered(n)||d.each(function(o){var f=d.getItemModel(o);d.setItemVisual(o,{color:f.get(e,!0)})})})}return av=t,av}var iv,o_;function QB(){if(o_)return iv;o_=1;var e=F,t=Ie(),r=t.parsePercent,a=e.each;function i(o){var f=n(o);a(f,function(v){var c=v.seriesModels;c.length&&(h(v),a(c,function(s,l){d(s,v.boxOffsetList[l],v.boxWidthList[l])}))})}function n(o){var f=[],v=[];return o.eachSeriesByType("boxplot",function(c){var s=c.getBaseAxis(),l=e.indexOf(v,s);l<0&&(l=v.length,v[l]=s,f[l]={axis:s,seriesModels:[]}),f[l].seriesModels.push(c)}),f}function h(o){var f,v=o.axis,c=o.seriesModels,s=c.length,l=o.boxWidthList=[],u=o.boxOffsetList=[],p=[],g;if(v.type==="category")g=v.getBandWidth();else{var m=0;a(c,function(w){m=Math.max(m,w.getData().count())}),f=v.getExtent(),Math.abs(f[1]-f[0])/m}a(c,function(w){var S=w.get("boxWidth");e.isArray(S)||(S=[S,S]),p.push([r(S[0],g)||0,r(S[1],g)||0])});var _=g*.8-2,y=_/s*.3,b=(_-y*(s-1))/s,x=b/2-_/2;a(c,function(w,S){u.push(x),x+=y+b,l.push(Math.min(Math.max(b,p[S][0]),p[S][1]))})}function d(o,f,v){var c=o.coordinateSystem,s=o.getData(),l=v/2,u=o.get("layout")==="horizontal"?0:1,p=1-u,g=["x","y"],m=s.mapDimension(g[u]),_=s.mapDimension(g[p],!0);if(m==null||_.length<5)return;for(var y=0;y<s.count();y++){var b=s.get(m,y),x=C(b,_[2],y),w=C(b,_[0],y),S=C(b,_[1],y),A=C(b,_[3],y),T=C(b,_[4],y),M=[];L(M,S,0),L(M,A,1),M.push(w,S,T,A),I(M,w),I(M,T),I(M,x),s.setItemLayout(y,{initBaseline:x[p],ends:M})}function C(P,R,E){var D=s.get(R,E),k=[];k[u]=P,k[p]=D;var z;return isNaN(P)||isNaN(D)?z=[NaN,NaN]:(z=c.dataToPoint(k),z[u]+=f),z}function L(P,R,E){var D=R.slice(),k=R.slice();D[u]+=l,k[u]-=l,E?P.push(D,k):P.push(k,D)}function I(P,R){var E=R.slice(),D=R.slice();E[u]-=l,D[u]+=l,P.push(E,D)}}return iv=i,iv}var s_;function jB(){if(s_)return t_;s_=1;var e=ve;YB(),XB();var t=KB(),r=QB();return e.registerVisual(t),e.registerLayout(r),t_}var l_={},nv,u_;function JB(){if(u_)return nv;u_=1;var e=F,t=yt,r=PT(),a=r.seriesModelMixin,i=t.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:5e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(h,d,o){var f=d.getItemLayout(h);return f&&o.rect(f.brushRect)}});e.mixin(i,a,!0);var n=i;return nv=n,nv}var ov,v_;function e5(){if(v_)return ov;v_=1;var e=F,t=Mr,r=le,a=it,i=["itemStyle"],n=["emphasis","itemStyle"],h=["color","color0","borderColor","borderColor0"],d=t.extend({type:"candlestick",render:function(g,m,_){this._updateDrawMode(g),this._isLargeDraw?this._renderLarge(g):this._renderNormal(g)},incrementalPrepareRender:function(g,m,_){this._clear(),this._updateDrawMode(g)},incrementalRender:function(g,m,_,y){this._isLargeDraw?this._incrementalRenderLarge(g,m):this._incrementalRenderNormal(g,m)},_updateDrawMode:function(g){var m=g.pipelineContext.large;(this._isLargeDraw==null||m^this._isLargeDraw)&&(this._isLargeDraw=m,this._clear())},_renderNormal:function(g){var m=g.getData(),_=this._data,y=this.group,b=m.getLayout("isSimpleBox");this._data||y.removeAll(),m.diff(_).add(function(x){if(m.hasValue(x)){var w,S=m.getItemLayout(x);w=f(S,x,!0),r.initProps(w,{shape:{points:S.ends}},g,x),v(w,m,x,b),y.add(w),m.setItemGraphicEl(x,w)}}).update(function(x,w){var S=_.getItemGraphicEl(w);if(!m.hasValue(x)){y.remove(S);return}var A=m.getItemLayout(x);S?r.updateProps(S,{shape:{points:A.ends}},g,x):S=f(A),v(S,m,x,b),y.add(S),m.setItemGraphicEl(x,S)}).remove(function(x){var w=_.getItemGraphicEl(x);w&&y.remove(w)}).execute(),this._data=m},_renderLarge:function(g){this._clear(),l(g,this.group)},_incrementalRenderNormal:function(g,m){for(var _=m.getData(),y=_.getLayout("isSimpleBox"),b;(b=g.next())!=null;){var x,w=_.getItemLayout(b);x=f(w),v(x,_,b,y),x.incremental=!0,this.group.add(x)}},_incrementalRenderLarge:function(g,m){l(m,this.group,!0)},remove:function(g){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:e.noop}),o=a.extend({type:"normalCandlestickBox",shape:{},buildPath:function(g,m){var _=m.points;this.__simpleBox?(g.moveTo(_[4][0],_[4][1]),g.lineTo(_[6][0],_[6][1])):(g.moveTo(_[0][0],_[0][1]),g.lineTo(_[1][0],_[1][1]),g.lineTo(_[2][0],_[2][1]),g.lineTo(_[3][0],_[3][1]),g.closePath(),g.moveTo(_[4][0],_[4][1]),g.lineTo(_[5][0],_[5][1]),g.moveTo(_[6][0],_[6][1]),g.lineTo(_[7][0],_[7][1]))}});function f(g,m,_){var y=g.ends;return new o({shape:{points:_?c(y,g):y},z2:100})}function v(g,m,_,y){var b=m.getItemModel(_),x=b.getModel(i),w=m.getItemVisual(_,"color"),S=m.getItemVisual(_,"borderColor")||w,A=x.getItemStyle(h);g.useStyle(A),g.style.strokeNoScale=!0,g.style.fill=w,g.style.stroke=S,g.__simpleBox=y;var T=b.getModel(n).getItemStyle();r.setHoverStyle(g,T)}function c(g,m){return e.map(g,function(_){return _=_.slice(),_[1]=m.initBaseline,_})}var s=a.extend({type:"largeCandlestickBox",shape:{},buildPath:function(g,m){for(var _=m.points,y=0;y<_.length;)if(this.__sign===_[y++]){var b=_[y++];g.moveTo(b,_[y++]),g.lineTo(b,_[y++])}else y+=3}});function l(g,m,_){var y=g.getData(),b=y.getLayout("largePoints"),x=new s({shape:{points:b},__sign:1});m.add(x);var w=new s({shape:{points:b},__sign:-1});m.add(w),u(1,x,g,y),u(-1,w,g,y),_&&(x.incremental=!0,w.incremental=!0)}function u(g,m,_,y){var b=g>0?"P":"N",x=y.getVisual("borderColor"+b)||y.getVisual("color"+b),w=_.getModel(i).getItemStyle(h);m.useStyle(w),m.style.fill=null,m.style.stroke=x}var p=d;return ov=p,ov}var sv,h_;function t5(){if(h_)return sv;h_=1;var e=F;function t(r){!r||!e.isArray(r.series)||e.each(r.series,function(a){e.isObject(a)&&a.type==="k"&&(a.type="candlestick")})}return sv=t,sv}var lv,c_;function r5(){if(c_)return lv;c_=1;var e=ai,t=["itemStyle","borderColor"],r=["itemStyle","borderColor0"],a=["itemStyle","color"],i=["itemStyle","color0"],n={seriesType:"candlestick",plan:e(),performRawSeries:!0,reset:function(h,d){var o=h.getData(),f=h.pipelineContext.large;if(o.setVisual({legendSymbol:"roundRect",colorP:c(1,h),colorN:c(-1,h),borderColorP:s(1,h),borderColorN:s(-1,h)}),d.isSeriesFiltered(h))return;return!f&&{progress:v};function v(l,u){for(var p;(p=l.next())!=null;){var g=u.getItemModel(p),m=u.getItemLayout(p).sign;u.setItemVisual(p,{color:c(m,g),borderColor:s(m,g)})}}function c(l,u){return u.get(l>0?a:i)}function s(l,u){return u.get(l>0?t:r)}}};return lv=n,lv}var uv,f_;function a5(){if(f_)return uv;f_=1;var e=le,t=e.subPixelOptimize,r=ai,a=Ie(),i=a.parsePercent,n=F,h=n.retrieve2,d=typeof Float32Array<"u"?Float32Array:Array,o={seriesType:"candlestick",plan:r(),reset:function(c){var s=c.coordinateSystem,l=c.getData(),u=v(c,l),p=0,g=1,m=["x","y"],_=l.mapDimension(m[p]),y=l.mapDimension(m[g],!0),b=y[0],x=y[1],w=y[2],S=y[3];if(l.setLayout({candleWidth:u,isSimpleBox:u<=1.3}),_==null||y.length<4)return;return{progress:c.pipelineContext.large?T:A};function A(M,C){for(var L;(L=M.next())!=null;){var I=C.get(_,L),P=C.get(b,L),R=C.get(x,L),E=C.get(w,L),D=C.get(S,L),k=Math.min(P,R),z=Math.max(P,R),O=G(k,I),N=G(z,I),B=G(E,I),q=G(D,I),V=[];$(V,N,0),$(V,O,1),V.push(Y(q),Y(N),Y(B),Y(O)),C.setItemLayout(L,{sign:f(C,L,P,R,x),initBaseline:P>R?N[g]:O[g],ends:V,brushRect:Z(E,D,I)})}function G(Q,ee){var J=[];return J[p]=ee,J[g]=Q,isNaN(ee)||isNaN(Q)?[NaN,NaN]:s.dataToPoint(J)}function $(Q,ee,J){var ae=ee.slice(),j=ee.slice();ae[p]=t(ae[p]+u/2,1,!1),j[p]=t(j[p]-u/2,1,!0),J?Q.push(ae,j):Q.push(j,ae)}function Z(Q,ee,J){var ae=G(Q,J),j=G(ee,J);return ae[p]-=u/2,j[p]-=u/2,{x:ae[0],y:ae[1],width:u,height:j[1]-ae[1]}}function Y(Q){return Q[p]=t(Q[p],1),Q}}function T(M,C){for(var L=new d(M.count*5),I=0,P,R=[],E=[],D;(D=M.next())!=null;){var k=C.get(_,D),z=C.get(b,D),O=C.get(x,D),N=C.get(w,D),B=C.get(S,D);if(isNaN(k)||isNaN(N)||isNaN(B)){L[I++]=NaN,I+=4;continue}L[I++]=f(C,D,z,O,x),R[p]=k,R[g]=N,P=s.dataToPoint(R,null,E),L[I++]=P?P[0]:NaN,L[I++]=P?P[1]:NaN,R[g]=B,P=s.dataToPoint(R,null,E),L[I++]=P?P[1]:NaN}C.setLayout("largePoints",L)}}};function f(c,s,l,u,p){var g;return l>u?g=-1:l<u?g=1:g=s>0?c.get(p,s-1)<=u?1:-1:1,g}function v(c,s){var l=c.getBaseAxis(),u,p=l.type==="category"?l.getBandWidth():(u=l.getExtent(),Math.abs(u[1]-u[0])/s.count()),g=i(h(c.get("barMaxWidth"),p),p),m=i(h(c.get("barMinWidth"),1),p),_=c.get("barWidth");return _!=null?i(_,p):Math.max(Math.min(p/2,g),m)}return uv=o,uv}var d_;function i5(){if(d_)return l_;d_=1;var e=ve;JB(),e5();var t=t5(),r=r5(),a=a5();return e.registerPreprocessor(t),e.registerVisual(r),e.registerLayout(a),l_}var g_={},vv,p_;function n5(){if(p_)return vv;p_=1;var e=Lr(),t=yt,r=t.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,i){return e(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});return vv=r,vv}var hv,m_;function o5(){if(m_)return hv;m_=1;var e=F,t=Ht(),r=t.createSymbol,a=le,i=a.Group,n=Ie(),h=n.parsePercent,d=Vo(),o=3;function f(u){return e.isArray(u)||(u=[+u,+u]),u}function v(u,p){u.eachChild(function(g){g.attr({z:p.z,zlevel:p.zlevel,style:{stroke:p.brushType==="stroke"?p.color:null,fill:p.brushType==="fill"?p.color:null}})})}function c(u,p){i.call(this);var g=new d(u,p),m=new i;this.add(g),this.add(m),m.beforeUpdate=function(){this.attr(g.getScale())},this.updateData(u,p)}var s=c.prototype;s.stopEffectAnimation=function(){this.childAt(1).removeAll()},s.startEffectAnimation=function(u){for(var p=u.symbolType,g=u.color,m=this.childAt(1),_=0;_<o;_++){var y=r(p,-1,-1,2,2,g);y.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var b=-_/o*u.period+u.effectOffset;y.animate("",!0).when(u.period,{scale:[u.rippleScale/2,u.rippleScale/2]}).delay(b).start(),y.animateStyle(!0).when(u.period,{opacity:0}).delay(b).start(),m.add(y)}v(m,u)},s.updateEffectAnimation=function(u){for(var p=this._effectCfg,g=this.childAt(1),m=["symbolType","period","rippleScale"],_=0;_<m.length;_++){var y=m[_];if(p[y]!==u[y]){this.stopEffectAnimation(),this.startEffectAnimation(u);return}}v(g,u)},s.highlight=function(){this.trigger("emphasis")},s.downplay=function(){this.trigger("normal")},s.updateData=function(u,p){var g=u.hostModel;this.childAt(0).updateData(u,p);var m=this.childAt(1),_=u.getItemModel(p),y=u.getItemVisual(p,"symbol"),b=f(u.getItemVisual(p,"symbolSize")),x=u.getItemVisual(p,"color");m.attr("scale",b),m.traverse(function(L){L.attr({fill:x})});var w=_.getShallow("symbolOffset");if(w){var S=m.position;S[0]=h(w[0],b[0]),S[1]=h(w[1],b[1])}m.rotation=(_.getShallow("symbolRotate")||0)*Math.PI/180||0;var A={};if(A.showEffectOn=g.get("showEffectOn"),A.rippleScale=_.get("rippleEffect.scale"),A.brushType=_.get("rippleEffect.brushType"),A.period=_.get("rippleEffect.period")*1e3,A.effectOffset=p/u.count(),A.z=_.getShallow("z")||0,A.zlevel=_.getShallow("zlevel")||0,A.symbolType=y,A.color=x,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),A.showEffectOn==="render")this._effectCfg?this.updateEffectAnimation(A):this.startEffectAnimation(A),this._effectCfg=A;else{this._effectCfg=null,this.stopEffectAnimation();var T=this.childAt(0),M=function(){T.highlight(),A.showEffectOn!=="render"&&this.startEffectAnimation(A)},C=function(){T.downplay(),A.showEffectOn!=="render"&&this.stopEffectAnimation()};this.on("mouseover",M,this).on("mouseout",C,this).on("emphasis",M,this).on("normal",C,this)}this._effectCfg=A},s.fadeOut=function(u){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),u&&u()},e.inherits(c,i);var l=c;return hv=l,hv}var cv,y_;function s5(){if(y_)return cv;y_=1;var e=ve,t=en(),r=o5(),a=We,i=tn(),n=e.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new t(r)},render:function(h,d,o){var f=h.getData(),v=this._symbolDraw;v.updateData(f),this.group.add(v.group)},updateTransform:function(h,d,o){var f=h.getData();this.group.dirty();var v=i().reset(h);v.progress&&v.progress({start:0,end:f.count()},f),this._symbolDraw.updateLayout(f)},_updateGroupTransform:function(h){var d=h.coordinateSystem;d&&d.getRoamTransform&&(this.group.transform=a.clone(d.getRoamTransform()),this.group.decomposeTransform())},remove:function(h,d){this._symbolDraw&&this._symbolDraw.remove(d)},dispose:function(){}});return cv=n,cv}var __;function l5(){if(__)return g_;__=1;var e=ve;n5(),s5();var t=ga(),r=tn();return e.registerVisual(t("effectScatter","circle")),e.registerLayout(r("effectScatter")),g_}var x_={},fv,S_;function u5(){if(S_)return fv;S_=1;var e=yt,t=qt(),r=F,a=r.concatArray,i=r.mergeAll,n=r.map,h=Oe,d=h.encodeHTML,o=typeof Uint32Array>"u"?Array:Uint32Array,f=typeof Float64Array>"u"?Array:Float64Array;function v(l){var u=l.data;u&&u[0]&&u[0][0]&&u[0][0].coord&&(l.data=n(u,function(p){var g=[p[0].coord,p[1].coord],m={coords:g};return p[0].name&&(m.fromName=p[0].name),p[1].name&&(m.toName=p[1].name),i([m,p[0],p[1]])}))}var c=e.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(l){l.data=l.data||[],v(l);var u=this._processFlatCoordsArray(l.data);this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset,u.flatCoords&&(l.data=new Float32Array(u.count)),c.superApply(this,"init",arguments)},mergeOption:function(l){if(l.data=l.data||[],v(l),l.data){var u=this._processFlatCoordsArray(l.data);this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset,u.flatCoords&&(l.data=new Float32Array(u.count))}c.superApply(this,"mergeOption",arguments)},appendData:function(l){var u=this._processFlatCoordsArray(l.data);u.flatCoords&&(this._flatCoords?(this._flatCoords=a(this._flatCoords,u.flatCoords),this._flatCoordsOffset=a(this._flatCoordsOffset,u.flatCoordsOffset)):(this._flatCoords=u.flatCoords,this._flatCoordsOffset=u.flatCoordsOffset),l.data=new Float32Array(u.count)),this.getRawData().appendData(l.data)},_getCoordsFromItemModel:function(l){var u=this.getData().getItemModel(l),p=u.option instanceof Array?u.option:u.getShallow("coords");return p},getLineCoordsCount:function(l){return this._flatCoordsOffset?this._flatCoordsOffset[l*2+1]:this._getCoordsFromItemModel(l).length},getLineCoords:function(l,u){if(this._flatCoordsOffset){for(var p=this._flatCoordsOffset[l*2],g=this._flatCoordsOffset[l*2+1],m=0;m<g;m++)u[m]=u[m]||[],u[m][0]=this._flatCoords[p+m*2],u[m][1]=this._flatCoords[p+m*2+1];return g}else{for(var _=this._getCoordsFromItemModel(l),m=0;m<_.length;m++)u[m]=u[m]||[],u[m][0]=_[m][0],u[m][1]=_[m][1];return _.length}},_processFlatCoordsArray:function(l){var u=0;if(this._flatCoords&&(u=this._flatCoords.length),typeof l[0]=="number"){for(var p=l.length,g=new o(p),m=new f(p),_=0,y=0,b=0,x=0;x<p;){b++;var w=l[x++];g[y++]=_+u,g[y++]=w;for(var S=0;S<w;S++){var A=l[x++],T=l[x++];m[_++]=A,m[_++]=T}}return{flatCoordsOffset:new Uint32Array(g.buffer,0,y),flatCoords:m,count:b}}return{flatCoordsOffset:null,flatCoords:null,count:l.length}},getInitialData:function(l,u){var p=new t(["value"],this);return p.hasItemOption=!1,p.initData(l.data,[],function(g,m,_,y){if(g instanceof Array)return NaN;p.hasItemOption=!0;var b=g.value;if(b!=null)return b instanceof Array?b[y]:b}),p},formatTooltip:function(l){var u=this.getData(),p=u.getItemModel(l),g=p.get("name");if(g)return g;var m=p.get("fromName"),_=p.get("toName"),y=[];return m!=null&&y.push(m),_!=null&&y.push(_),d(y.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var l=this.option.progressive;return l??(this.option.large?1e4:this.get("progressive"))},getProgressiveThreshold:function(){var l=this.option.progressiveThreshold;return l??(this.option.large?2e4:this.get("progressiveThreshold"))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),s=c;return fv=s,fv}var dv,b_;function RT(){if(b_)return dv;b_=1;var e=le,t=id(),r=F,a=Ht(),i=a.createSymbol,n=Ce,h=at;function d(v,c,s){e.Group.call(this),this.add(this.createLine(v,c,s)),this._updateEffectSymbol(v,c)}var o=d.prototype;o.createLine=function(v,c,s){return new t(v,c,s)},o._updateEffectSymbol=function(v,c){var s=v.getItemModel(c),l=s.getModel("effect"),u=l.get("symbolSize"),p=l.get("symbol");r.isArray(u)||(u=[u,u]);var g=l.get("color")||v.getItemVisual(c,"color"),m=this.childAt(1);this._symbolType!==p&&(this.remove(m),m=i(p,-.5,-.5,1,1,g),m.z2=100,m.culling=!0,this.add(m)),m&&(m.setStyle("shadowColor",g),m.setStyle(l.getItemStyle(["color"])),m.attr("scale",u),m.setColor(g),m.attr("scale",u),this._symbolType=p,this._updateEffectAnimation(v,l,c))},o._updateEffectAnimation=function(v,c,s){var l=this.childAt(1);if(l){var u=this,p=v.getItemLayout(s),g=c.get("period")*1e3,m=c.get("loop"),_=c.get("constantSpeed"),y=r.retrieve(c.get("delay"),function(S){return S/v.count()*g/3}),b=typeof y=="function";if(l.ignore=!0,this.updateAnimationPoints(l,p),_>0&&(g=this.getLineLength(l)/_*1e3),g!==this._period||m!==this._loop){l.stopAnimation();var x=y;b&&(x=y(s)),l.__t>0&&(x=-g*l.__t),l.__t=0;var w=l.animate("",m).when(g,{__t:1}).delay(x).during(function(){u.updateSymbolPosition(l)});m||w.done(function(){u.remove(l)}),w.start()}this._period=g,this._loop=m}},o.getLineLength=function(v){return n.dist(v.__p1,v.__cp1)+n.dist(v.__cp1,v.__p2)},o.updateAnimationPoints=function(v,c){v.__p1=c[0],v.__p2=c[1],v.__cp1=c[2]||[(c[0][0]+c[1][0])/2,(c[0][1]+c[1][1])/2]},o.updateData=function(v,c,s){this.childAt(0).updateData(v,c,s),this._updateEffectSymbol(v,c)},o.updateSymbolPosition=function(v){var c=v.__p1,s=v.__p2,l=v.__cp1,u=v.__t,p=v.position,g=h.quadraticAt,m=h.quadraticDerivativeAt;p[0]=g(c[0],l[0],s[0],u),p[1]=g(c[1],l[1],s[1],u);var _=m(c[0],l[0],s[0],u),y=m(c[1],l[1],s[1],u);v.rotation=-Math.atan2(y,_)-Math.PI/2,v.ignore=!1},o.updateLayout=function(v,c){this.childAt(0).updateLayout(v,c);var s=v.getItemModel(c).getModel("effect");this._updateEffectAnimation(v,s,c)},r.inherits(d,e.Group);var f=d;return dv=f,dv}var gv,w_;function ET(){if(w_)return gv;w_=1;var e=le,t=F;function r(n,h,d){e.Group.call(this),this._createPolyline(n,h,d)}var a=r.prototype;a._createPolyline=function(n,h,d){var o=n.getItemLayout(h),f=new e.Polyline({shape:{points:o}});this.add(f),this._updateCommonStl(n,h,d)},a.updateData=function(n,h,d){var o=n.hostModel,f=this.childAt(0),v={shape:{points:n.getItemLayout(h)}};e.updateProps(f,v,o,h),this._updateCommonStl(n,h,d)},a._updateCommonStl=function(n,h,d){var o=this.childAt(0),f=n.getItemModel(h),v=n.getItemVisual(h,"color"),c=d&&d.lineStyle,s=d&&d.hoverLineStyle;(!d||n.hasItemOption)&&(c=f.getModel("lineStyle").getLineStyle(),s=f.getModel("emphasis.lineStyle").getLineStyle()),o.useStyle(t.defaults({strokeNoScale:!0,fill:"none",stroke:v},c)),o.hoverStyle=s,e.setHoverStyle(this)},a.updateLayout=function(n,h){var d=this.childAt(0);d.setShape("points",n.getItemLayout(h))},t.inherits(r,e.Group);var i=r;return gv=i,gv}var pv,A_;function v5(){if(A_)return pv;A_=1;var e=ET(),t=F,r=RT(),a=Ce;function i(d,o,f){r.call(this,d,o,f),this._lastFrame=0,this._lastFramePercent=0}var n=i.prototype;n.createLine=function(d,o,f){return new e(d,o,f)},n.updateAnimationPoints=function(d,o){this._points=o;for(var f=[0],v=0,c=1;c<o.length;c++){var s=o[c-1],l=o[c];v+=a.dist(s,l),f.push(v)}if(v!==0){for(var c=0;c<f.length;c++)f[c]/=v;this._offsets=f,this._length=v}},n.getLineLength=function(d){return this._length},n.updateSymbolPosition=function(d){var o=d.__t,f=this._points,v=this._offsets,c=f.length;if(v){var s=this._lastFrame,l;if(o<this._lastFramePercent){var u=Math.min(s+1,c-1);for(l=u;l>=0&&!(v[l]<=o);l--);l=Math.min(l,c-2)}else{for(var l=s;l<c&&!(v[l]>o);l++);l=Math.min(l-1,c-2)}a.lerp(d.position,f[l],f[l+1],(o-v[l])/(v[l+1]-v[l]));var p=f[l+1][0]-f[l][0],g=f[l+1][1]-f[l][1];d.rotation=-Math.atan2(g,p)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=o,d.ignore=!1}},t.inherits(i,r);var h=i;return pv=h,pv}var mv,T_;function h5(){if(T_)return mv;T_=1;var e=le,t=Rf,r=Tf,a=Cf,i=e.extendShape({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(o,f){var v=f.segs,c=f.curveness;if(f.polyline)for(var s=0;s<v.length;){var l=v[s++];if(l>0){o.moveTo(v[s++],v[s++]);for(var u=1;u<l;u++)o.lineTo(v[s++],v[s++])}}else for(var s=0;s<v.length;){var p=v[s++],g=v[s++],m=v[s++],_=v[s++];if(o.moveTo(p,g),c>0){var y=(p+m)/2-(g-_)*c,b=(g+_)/2-(m-p)*c;o.quadraticCurveTo(y,b,m,_)}else o.lineTo(m,_)}},findDataIndex:function(o,f){var v=this.shape,c=v.segs,s=v.curveness;if(v.polyline)for(var l=0,u=0;u<c.length;){var p=c[u++];if(p>0)for(var g=c[u++],m=c[u++],_=1;_<p;_++){var y=c[u++],b=c[u++];if(r.containStroke(g,m,y,b))return l}l++}else for(var l=0,u=0;u<c.length;){var g=c[u++],m=c[u++],y=c[u++],b=c[u++];if(s>0){var x=(g+y)/2-(m-b)*s,w=(m+b)/2-(y-g)*s;if(a.containStroke(g,m,x,w,y,b))return l}else if(r.containStroke(g,m,y,b))return l;l++}return-1}});function n(){this.group=new e.Group}var h=n.prototype;h.isPersistent=function(){return!this._incremental},h.updateData=function(o){this.group.removeAll();var f=new i({rectHover:!0,cursor:"default"});f.setShape({segs:o.getLayout("linesPoints")}),this._setCommon(f,o),this.group.add(f),this._incremental=null},h.incrementalPrepareUpdate=function(o){this.group.removeAll(),this._clearIncremental(),o.count()>5e5?(this._incremental||(this._incremental=new t({silent:!0})),this.group.add(this._incremental)):this._incremental=null},h.incrementalUpdate=function(o,f){var v=new i;v.setShape({segs:f.getLayout("linesPoints")}),this._setCommon(v,f,!!this._incremental),this._incremental?this._incremental.addDisplayable(v,!0):(v.rectHover=!0,v.cursor="default",v.__startIndex=o.start,this.group.add(v))},h.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},h._setCommon=function(o,f,v){var c=f.hostModel;o.setShape({polyline:c.get("polyline"),curveness:c.get("lineStyle.curveness")}),o.useStyle(c.getModel("lineStyle").getLineStyle()),o.style.strokeNoScale=!0;var s=f.getVisual("color");s&&o.setStyle("stroke",s),o.setStyle("fill"),v||(o.seriesIndex=c.seriesIndex,o.on("mousemove",function(l){o.dataIndex=null;var u=o.findDataIndex(l.offsetX,l.offsetY);u>0&&(o.dataIndex=u+o.__startIndex)}))},h._clearIncremental=function(){var o=this._incremental;o&&o.clearDisplaybles()};var d=n;return mv=d,mv}var yv,C_;function kT(){if(C_)return yv;C_=1;var e=ai,t={seriesType:"lines",plan:e(),reset:function(r){var a=r.coordinateSystem,i=r.get("polyline"),n=r.pipelineContext.large;function h(d,o){var f=[];if(n){var v,c=d.end-d.start;if(i){for(var s=0,l=d.start;l<d.end;l++)s+=r.getLineCoordsCount(l);v=new Float32Array(c+s*2)}else v=new Float32Array(c*4);for(var u=0,p=[],l=d.start;l<d.end;l++){var g=r.getLineCoords(l,f);i&&(v[u++]=g);for(var m=0;m<g;m++)p=a.dataToPoint(f[m],!1,p),v[u++]=p[0],v[u++]=p[1]}o.setLayout("linesPoints",v)}else for(var l=d.start;l<d.end;l++){var _=o.getItemModel(l),g=r.getLineCoords(l,f),y=[];if(i)for(var b=0;b<g;b++)y.push(a.dataToPoint(f[b]));else{y[0]=a.dataToPoint(f[0]),y[1]=a.dataToPoint(f[1]);var x=_.get("lineStyle.curveness");+x&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*x,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*x])}o.setItemLayout(l,y)}}return{progress:h}}};return yv=t,yv}var _v,M_;function c5(){if(M_)return _v;M_=1;var e=ve,t=nd(),r=RT(),a=id(),i=ET(),n=v5(),h=h5(),d=kT(),o=e.extendChartView({type:"lines",init:function(){},render:function(f,v,c){var s=f.getData(),l=this._updateLineDraw(s,f),u=f.get("zlevel"),p=f.get("effect.trailLength"),g=c.getZr(),m=g.painter.getType()==="svg";m||g.painter.getLayer(u).clear(!0),this._lastZlevel!=null&&!m&&g.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(f)&&p&&(m||g.configLayer(u,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(p/10+.9,1),0)})),l.updateData(s),this._lastZlevel=u,this._finished=!0},incrementalPrepareRender:function(f,v,c){var s=f.getData(),l=this._updateLineDraw(s,f);l.incrementalPrepareUpdate(s),this._clearLayer(c),this._finished=!1},incrementalRender:function(f,v,c){this._lineDraw.incrementalUpdate(f,v.getData()),this._finished=f.end===v.getData().count()},updateTransform:function(f,v,c){var s=f.getData(),l=f.pipelineContext;if(!this._finished||l.large||l.progressiveRender)return{update:!0};var u=d.reset(f);u.progress&&u.progress({start:0,end:s.count()},s),this._lineDraw.updateLayout(),this._clearLayer(c)},_updateLineDraw:function(f,v){var c=this._lineDraw,s=this._showEffect(v),l=!!v.get("polyline"),u=v.pipelineContext,p=u.large;return(!c||s!==this._hasEffet||l!==this._isPolyline||p!==this._isLargeDraw)&&(c&&c.remove(),c=this._lineDraw=p?new h:new t(l?s?n:i:s?r:a),this._hasEffet=s,this._isPolyline=l,this._isLargeDraw=p,this.group.removeAll()),this.group.add(c.group),c},_showEffect:function(f){return!!f.get("effect.show")},_clearLayer:function(f){var v=f.getZr(),c=v.painter.getType()==="svg";!c&&this._lastZlevel!=null&&v.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(f,v){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(v)},dispose:function(){}});return _v=o,_v}var xv,D_;function f5(){if(D_)return xv;D_=1;function e(a){return a instanceof Array||(a=[a,a]),a}var t="lineStyle.opacity".split("."),r={seriesType:"lines",reset:function(a,i,n){var h=e(a.get("symbol")),d=e(a.get("symbolSize")),o=a.getData();o.setVisual("fromSymbol",h&&h[0]),o.setVisual("toSymbol",h&&h[1]),o.setVisual("fromSymbolSize",d&&d[0]),o.setVisual("toSymbolSize",d&&d[1]),o.setVisual("opacity",a.get(t));function f(v,c){var s=v.getItemModel(c),l=e(s.getShallow("symbol",!0)),u=e(s.getShallow("symbolSize",!0)),p=s.get(t);l[0]&&v.setItemVisual(c,"fromSymbol",l[0]),l[1]&&v.setItemVisual(c,"toSymbol",l[1]),u[0]&&v.setItemVisual(c,"fromSymbolSize",u[0]),u[1]&&v.setItemVisual(c,"toSymbolSize",u[1]),v.setItemVisual(c,"opacity",p)}return{dataEach:o.hasItemOption?f:null}}};return xv=r,xv}var L_;function d5(){if(L_)return x_;L_=1;var e=ve;u5(),c5();var t=kT(),r=f5();return e.registerLayout(t),e.registerVisual(r),x_}var I_={},Sv,P_;function g5(){if(P_)return Sv;P_=1;var e=yt,t=Lr(),r=cr,a=e.extend({type:"series.heatmap",getInitialData:function(i,n){return t(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var i=r.get(this.get("coordinateSystem"));if(i&&i.dimensions)return i.dimensions[0]==="lng"&&i.dimensions[1]==="lat"},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});return Sv=a,Sv}var bv,R_;function p5(){if(R_)return bv;R_=1;var e=F,t=256;function r(){var i=e.createCanvas();this.canvas=i,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}r.prototype={update:function(i,n,h,d,o,f){var v=this._getBrush(),c=this._getGradient(i,o,"inRange"),s=this._getGradient(i,o,"outOfRange"),l=this.pointSize+this.blurSize,u=this.canvas,p=u.getContext("2d"),g=i.length;u.width=n,u.height=h;for(var m=0;m<g;++m){var _=i[m],y=_[0],b=_[1],x=_[2],w=d(x);p.globalAlpha=w,p.drawImage(v,y-l,b-l)}if(!u.width||!u.height)return u;for(var S=p.getImageData(0,0,u.width,u.height),A=S.data,T=0,M=A.length,C=this.minOpacity,L=this.maxOpacity,I=L-C;T<M;){var w=A[T+3]/256,P=Math.floor(w*(t-1))*4;if(w>0){var R=f(w)?c:s;w>0&&(w=w*I+C),A[T++]=R[P],A[T++]=R[P+1],A[T++]=R[P+2],A[T++]=R[P+3]*w*256}else T+=4}return p.putImageData(S,0,0),u},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=e.createCanvas()),n=this.pointSize+this.blurSize,h=n*2;i.width=h,i.height=h;var d=i.getContext("2d");return d.clearRect(0,0,h,h),d.shadowOffsetX=h,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-n,n,this.pointSize,0,Math.PI*2,!0),d.closePath(),d.fill(),i},_getGradient:function(i,n,h){for(var d=this._gradientPixels,o=d[h]||(d[h]=new Uint8ClampedArray(256*4)),f=[0,0,0,0],v=0,c=0;c<256;c++)n[h](c/255,!0,f),o[v++]=f[0],o[v++]=f[1],o[v++]=f[2],o[v++]=f[3];return o}};var a=r;return bv=a,bv}var wv,E_;function m5(){if(E_)return wv;E_=1;var e=ve,t=le,r=p5(),a=F;function i(o,f,v){var c=o[1]-o[0];f=a.map(f,function(u){return{interval:[(u.interval[0]-o[0])/c,(u.interval[1]-o[0])/c]}});var s=f.length,l=0;return function(u){for(var p=l;p<s;p++){var g=f[p].interval;if(g[0]<=u&&u<=g[1]){l=p;break}}if(p===s)for(var p=l-1;p>=0;p--){var g=f[p].interval;if(g[0]<=u&&u<=g[1]){l=p;break}}return p>=0&&p<s&&v[p]}}function n(o,f){var v=o[1]-o[0];return f=[(f[0]-o[0])/v,(f[1]-o[0])/v],function(c){return c>=f[0]&&c<=f[1]}}function h(o){var f=o.dimensions;return f[0]==="lng"&&f[1]==="lat"}var d=e.extendChartView({type:"heatmap",render:function(o,f,v){var c;f.eachComponent("visualMap",function(l){l.eachTargetSeries(function(u){u===o&&(c=l)})}),this.group.removeAll(),this._incrementalDisplayable=null;var s=o.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(o,v,0,o.getData().count()):h(s)&&this._renderOnGeo(s,o,c,v)},incrementalPrepareRender:function(o,f,v){this.group.removeAll()},incrementalRender:function(o,f,v,c){var s=f.coordinateSystem;s&&this._renderOnCartesianAndCalendar(f,c,o.start,o.end,!0)},_renderOnCartesianAndCalendar:function(o,f,v,c,s){var l=o.coordinateSystem,u,p;if(l.type==="cartesian2d"){var g=l.getAxis("x"),m=l.getAxis("y");u=g.getBandWidth(),p=m.getBandWidth()}for(var _=this.group,y=o.getData(),b="itemStyle",x="emphasis.itemStyle",w="label",S="emphasis.label",A=o.getModel(b).getItemStyle(["color"]),T=o.getModel(x).getItemStyle(),M=o.getModel(w),C=o.getModel(S),L=l.type,I=L==="cartesian2d"?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],P=v;P<c;P++){var R;if(L==="cartesian2d"){if(isNaN(y.get(I[2],P)))continue;var E=l.dataToPoint([y.get(I[0],P),y.get(I[1],P)]);R=new t.Rect({shape:{x:E[0]-u/2,y:E[1]-p/2,width:u,height:p},style:{fill:y.getItemVisual(P,"color"),opacity:y.getItemVisual(P,"opacity")}})}else{if(isNaN(y.get(I[1],P)))continue;R=new t.Rect({z2:1,shape:l.dataToRect([y.get(I[0],P)]).contentShape,style:{fill:y.getItemVisual(P,"color"),opacity:y.getItemVisual(P,"opacity")}})}var D=y.getItemModel(P);y.hasItemOption&&(A=D.getModel(b).getItemStyle(["color"]),T=D.getModel(x).getItemStyle(),M=D.getModel(w),C=D.getModel(S));var k=o.getRawValue(P),z="-";k&&k[2]!=null&&(z=k[2]),t.setLabelStyle(A,T,M,C,{labelFetcher:o,labelDataIndex:P,defaultText:z,isRectText:!0}),R.setStyle(A),t.setHoverStyle(R,y.hasItemOption?T:a.extend({},T)),R.incremental=s,s&&(R.useHoverLayer=!0),_.add(R),y.setItemGraphicEl(P,R)}},_renderOnGeo:function(o,f,v,c){var s=v.targetVisuals.inRange,l=v.targetVisuals.outOfRange,u=f.getData(),p=this._hmLayer||this._hmLayer||new r;p.blurSize=f.get("blurSize"),p.pointSize=f.get("pointSize"),p.minOpacity=f.get("minOpacity"),p.maxOpacity=f.get("maxOpacity");var g=o.getViewRect().clone(),m=o.getRoamTransform();g.applyTransform(m);var _=Math.max(g.x,0),y=Math.max(g.y,0),b=Math.min(g.width+g.x,c.getWidth()),x=Math.min(g.height+g.y,c.getHeight()),w=b-_,S=x-y,A=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],T=u.mapArray(A,function(I,P,R){var E=o.dataToPoint([I,P]);return E[0]-=_,E[1]-=y,E.push(R),E}),M=v.getExtent(),C=v.type==="visualMap.continuous"?n(M,v.option.range):i(M,v.getPieceList(),v.option.selected);p.update(T,w,S,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:l.color.getColorMapper()},C);var L=new t.Image({style:{width:w,height:S,x:_,y,image:p.canvas},silent:!0});this.group.add(L)},dispose:function(){}});return wv=d,wv}var k_;function y5(){return k_||(k_=1,g5(),m5()),I_}var z_={},Av,O_;function _5(){if(O_)return Av;O_=1;var e=fT(),t=e.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,t.superApply(this,"getInitialData",arguments)}}),r=t;return Av=r,Av}var Tv,N_;function x5(){if(N_)return Tv;N_=1;var e=ve,t=F,r=le,a=Ht(),i=a.createSymbol,n=Ie(),h=n.parsePercent,d=n.isNumeric,o=dT(),f=o.setLabel,v=["itemStyle","borderWidth"],c=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],s=new r.Circle,l=e.extendChartView({type:"pictorialBar",render:function(B,q,V){var G=this.group,$=B.getData(),Z=this._data,Y=B.coordinateSystem,Q=Y.getBaseAxis(),ee=!!Q.isHorizontal(),J=Y.grid.getRect(),ae={ecSize:{width:V.getWidth(),height:V.getHeight()},seriesModel:B,coordSys:Y,coordSysExtent:[[J.x,J.x+J.width],[J.y,J.y+J.height]],isHorizontal:ee,valueDim:c[+ee],categoryDim:c[1-ee]};return $.diff(Z).add(function(j){if($.hasValue(j)){var ie=T($,j),re=u($,j,ie,ae),me=I($,ae,re);$.setItemGraphicEl(j,me),G.add(me),z(me,ae,re)}}).update(function(j,ie){var re=Z.getItemGraphicEl(ie);if(!$.hasValue(j)){G.remove(re);return}var me=T($,j),we=u($,j,me,ae),pe=E($,we);re&&pe!==re.__pictorialShapeStr&&(G.remove(re),$.setItemGraphicEl(j,null),re=null),re?P(re,ae,we):re=I($,ae,we,!0),$.setItemGraphicEl(j,re),re.__pictorialSymbolMeta=we,G.add(re),z(re,ae,we)}).remove(function(j){var ie=Z.getItemGraphicEl(j);ie&&R(Z,j,ie.__pictorialSymbolMeta.animationModel,ie)}).execute(),this._data=$,this.group},dispose:t.noop,remove:function(B,q){var V=this.group,G=this._data;B.get("animation")?G&&G.eachItemGraphicEl(function($){R(G,$.dataIndex,B,$)}):V.removeAll()}});function u(B,q,V,G){var $=B.getItemLayout(q),Z=V.get("symbolRepeat"),Y=V.get("symbolClip"),Q=V.get("symbolPosition")||"start",ee=V.get("symbolRotate"),J=(ee||0)*Math.PI/180||0,ae=V.get("symbolPatternSize")||2,j=V.isAnimationEnabled(),ie={dataIndex:q,layout:$,itemModel:V,symbolType:B.getItemVisual(q,"symbol")||"circle",color:B.getItemVisual(q,"color"),symbolClip:Y,symbolRepeat:Z,symbolRepeatDirection:V.get("symbolRepeatDirection"),symbolPatternSize:ae,rotation:J,animationModel:j?V:null,hoverAnimation:j&&V.get("hoverAnimation"),z2:V.getShallow("z",!0)||0};p(V,Z,$,G,ie),m(B,q,$,Z,Y,ie.boundingLength,ie.pxSign,ae,G,ie),_(V,ie.symbolScale,J,G,ie);var re=ie.symbolSize,me=V.get("symbolOffset");return t.isArray(me)&&(me=[h(me[0],re[0]),h(me[1],re[1])]),y(V,re,$,Z,Y,me,Q,ie.valueLineWidth,ie.boundingLength,ie.repeatCutLength,G,ie),ie}function p(B,q,V,G,$){var Z=G.valueDim,Y=B.get("symbolBoundingData"),Q=G.coordSys.getOtherAxis(G.coordSys.getBaseAxis()),ee=Q.toGlobalCoord(Q.dataToCoord(0)),J=1-+(V[Z.wh]<=0),ae;if(t.isArray(Y)){var j=[g(Q,Y[0])-ee,g(Q,Y[1])-ee];j[1]<j[0]&&j.reverse(),ae=j[J]}else Y!=null?ae=g(Q,Y)-ee:q?ae=G.coordSysExtent[Z.index][J]-ee:ae=V[Z.wh];$.boundingLength=ae,q&&($.repeatCutLength=V[Z.wh]),$.pxSign=ae>0?1:ae<0?-1:0}function g(B,q){return B.toGlobalCoord(B.dataToCoord(B.scale.parse(q)))}function m(B,q,V,G,$,Z,Y,Q,ee,J){var ae=ee.valueDim,j=ee.categoryDim,ie=Math.abs(V[j.wh]),re=B.getItemVisual(q,"symbolSize");t.isArray(re)?re=re.slice():(re==null&&(re="100%"),re=[re,re]),re[j.index]=h(re[j.index],ie),re[ae.index]=h(re[ae.index],G?ie:Math.abs(Z)),J.symbolSize=re;var me=J.symbolScale=[re[0]/Q,re[1]/Q];me[ae.index]*=(ee.isHorizontal?-1:1)*Y}function _(B,q,V,G,$){var Z=B.get(v)||0;Z&&(s.attr({scale:q.slice(),rotation:V}),s.updateTransform(),Z/=s.getLineScale(),Z*=q[G.valueDim.index]),$.valueLineWidth=Z}function y(B,q,V,G,$,Z,Y,Q,ee,J,ae,j){var ie=ae.categoryDim,re=ae.valueDim,me=j.pxSign,we=Math.max(q[re.index]+Q,0),pe=we;if(G){var ce=Math.abs(ee),Se=t.retrieve(B.get("symbolMargin"),"15%")+"",H=!1;Se.lastIndexOf("!")===Se.length-1&&(H=!0,Se=Se.slice(0,Se.length-1)),Se=h(Se,q[re.index]);var U=Math.max(we+Se*2,0),X=H?0:Se*2,ne=d(G),te=ne?G:O((ce+X)/U),oe=ce-te*we;Se=oe/2/(H?te:te-1),U=we+Se*2,X=H?0:Se*2,!ne&&G!=="fixed"&&(te=J?O((Math.abs(J)+X)/U):0),pe=te*U-X,j.repeatTimes=te,j.symbolMargin=Se}var he=me*(pe/2),_e=j.pathPosition=[];_e[ie.index]=V[ie.wh]/2,_e[re.index]=Y==="start"?he:Y==="end"?ee-he:ee/2,Z&&(_e[0]+=Z[0],_e[1]+=Z[1]);var be=j.bundlePosition=[];be[ie.index]=V[ie.xy],be[re.index]=V[re.xy];var xe=j.barRectShape=t.extend({},V);xe[re.wh]=me*Math.max(Math.abs(V[re.wh]),Math.abs(_e[re.index]+he)),xe[ie.wh]=V[ie.wh];var ye=j.clipShape={};ye[ie.xy]=-V[ie.xy],ye[ie.wh]=ae.ecSize[ie.wh],ye[re.xy]=0,ye[re.wh]=V[re.wh]}function b(B){var q=B.symbolPatternSize,V=i(B.symbolType,-q/2,-q/2,q,q,B.color);return V.attr({culling:!0}),V.type!=="image"&&V.setStyle({strokeNoScale:!0}),V}function x(B,q,V,G){var $=B.__pictorialBundle,Z=V.symbolSize,Y=V.valueLineWidth,Q=V.pathPosition,ee=q.valueDim,J=V.repeatTimes||0,ae=0,j=Z[q.valueDim.index]+Y+V.symbolMargin*2;for(D(B,function(ce){ce.__pictorialAnimationIndex=ae,ce.__pictorialRepeatTimes=J,ae<J?k(ce,null,me(ae),V,G):k(ce,null,{scale:[0,0]},V,G,function(){$.remove(ce)}),L(ce,V),ae++});ae<J;ae++){var ie=b(V);ie.__pictorialAnimationIndex=ae,ie.__pictorialRepeatTimes=J,$.add(ie);var re=me(ae);k(ie,{position:re.position,scale:[0,0]},{scale:re.scale,rotation:re.rotation},V,G),ie.on("mouseover",we).on("mouseout",pe),L(ie,V)}function me(ce){var Se=Q.slice(),H=V.pxSign,U=ce;return(V.symbolRepeatDirection==="start"?H>0:H<0)&&(U=J-1-ce),Se[ee.index]=j*(U-J/2+.5)+Q[ee.index],{position:Se,scale:V.symbolScale.slice(),rotation:V.rotation}}function we(){D(B,function(ce){ce.trigger("emphasis")})}function pe(){D(B,function(ce){ce.trigger("normal")})}}function w(B,q,V,G){var $=B.__pictorialBundle,Z=B.__pictorialMainPath;Z?k(Z,null,{position:V.pathPosition.slice(),scale:V.symbolScale.slice(),rotation:V.rotation},V,G):(Z=B.__pictorialMainPath=b(V),$.add(Z),k(Z,{position:V.pathPosition.slice(),scale:[0,0],rotation:V.rotation},{scale:V.symbolScale.slice()},V,G),Z.on("mouseover",Y).on("mouseout",Q)),L(Z,V);function Y(){this.trigger("emphasis")}function Q(){this.trigger("normal")}}function S(B,q,V){var G=t.extend({},q.barRectShape),$=B.__pictorialBarRect;$?k($,null,{shape:G},q,V):($=B.__pictorialBarRect=new r.Rect({z2:2,shape:G,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),B.add($))}function A(B,q,V,G){if(V.symbolClip){var $=B.__pictorialClipPath,Z=t.extend({},V.clipShape),Y=q.valueDim,Q=V.animationModel,ee=V.dataIndex;if($)r.updateProps($,{shape:Z},Q,ee);else{Z[Y.wh]=0,$=new r.Rect({shape:Z}),B.__pictorialBundle.setClipPath($),B.__pictorialClipPath=$;var J={};J[Y.wh]=V.clipShape[Y.wh],r[G?"updateProps":"initProps"]($,{shape:J},Q,ee)}}}function T(B,q){var V=B.getItemModel(q);return V.getAnimationDelayParams=M,V.isAnimationEnabled=C,V}function M(B){return{index:B.__pictorialAnimationIndex,count:B.__pictorialRepeatTimes}}function C(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function L(B,q){B.off("emphasis").off("normal");var V=q.symbolScale.slice();q.hoverAnimation&&B.on("emphasis",function(){this.animateTo({scale:[V[0]*1.1,V[1]*1.1]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:V.slice()},400,"elasticOut")})}function I(B,q,V,G){var $=new r.Group,Z=new r.Group;return $.add(Z),$.__pictorialBundle=Z,Z.attr("position",V.bundlePosition.slice()),V.symbolRepeat?x($,q,V):w($,q,V),S($,V,G),A($,q,V,G),$.__pictorialShapeStr=E(B,V),$.__pictorialSymbolMeta=V,$}function P(B,q,V){var G=V.animationModel,$=V.dataIndex,Z=B.__pictorialBundle;r.updateProps(Z,{position:V.bundlePosition.slice()},G,$),V.symbolRepeat?x(B,q,V,!0):w(B,q,V,!0),S(B,V,!0),A(B,q,V,!0)}function R(B,q,V,G){var $=G.__pictorialBarRect;$&&($.style.text=null);var Z=[];D(G,function(Y){Z.push(Y)}),G.__pictorialMainPath&&Z.push(G.__pictorialMainPath),G.__pictorialClipPath&&(V=null),t.each(Z,function(Y){r.updateProps(Y,{scale:[0,0]},V,q,function(){G.parent&&G.parent.remove(G)})}),B.setItemGraphicEl(q,null)}function E(B,q){return[B.getItemVisual(q.dataIndex,"symbol")||"none",!!q.symbolRepeat,!!q.symbolClip].join(":")}function D(B,q,V){t.each(B.__pictorialBundle.children(),function(G){G!==B.__pictorialBarRect&&q.call(V,G)})}function k(B,q,V,G,$,Z){q&&B.attr(q),G.symbolClip&&!$?V&&B.attr(V):V&&r[$?"updateProps":"initProps"](B,V,G.animationModel,G.dataIndex,Z)}function z(B,q,V){var G=V.color,$=V.dataIndex,Z=V.itemModel,Y=Z.getModel("itemStyle").getItemStyle(["color"]),Q=Z.getModel("emphasis.itemStyle").getItemStyle(),ee=Z.getShallow("cursor");D(B,function(ie){ie.setColor(G),ie.setStyle(t.defaults({fill:G,opacity:V.opacity},Y)),r.setHoverStyle(ie,Q),ee&&(ie.cursor=ee),ie.z2=V.z2});var J={},ae=q.valueDim.posDesc[+(V.boundingLength>0)],j=B.__pictorialBarRect;f(j.style,J,Z,G,q.seriesModel,$,ae),r.setHoverStyle(j,J)}function O(B){var q=Math.round(B);return Math.abs(B-q)<1e-4?q:Math.ceil(B)}var N=l;return Tv=N,Tv}var V_;function S5(){if(V_)return z_;V_=1;var e=ve,t=F;ed(),_5(),x5();var r=No(),a=r.layout,i=ga();return rn(),e.registerLayout(t.curry(a,"pictorialBar")),e.registerVisual(i("pictorialBar","roundRect")),z_}var B_={},q_={},H_={},Cv,G_;function b5(){if(G_)return Cv;G_=1;var e=F,t=Yr(),r=function(i,n,h,d,o){t.call(this,i,n,h),this.type=d||"value",this.position=o||"bottom",this.orient=null};r.prototype={constructor:r,model:null,isHorizontal:function(){var i=this.position;return i==="top"||i==="bottom"},pointToData:function(i,n){return this.coordinateSystem.pointToData(i,n)[0]},toGlobalCoord:null,toLocalCoord:null},e.inherits(r,t);var a=r;return Cv=a,Cv}var Mv,F_;function w5(){if(F_)return Mv;F_=1;var e=b5(),t=jt(),r=ze,a=r.getLayoutRect,i=F,n=i.each;function h(o,f,v){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(o,f,v),this.model=o}h.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:h,_init:function(o,f,v){var c=this.dimension,s=new e(c,t.createScaleByModel(o),[0,0],o.get("type"),o.get("position")),l=s.type==="category";s.onBand=l&&o.get("boundaryGap"),s.inverse=o.get("inverse"),s.orient=o.get("orient"),o.axis=s,s.model=o,s.coordinateSystem=this,this._axis=s},update:function(o,f){o.eachSeries(function(v){if(v.coordinateSystem===this){var c=v.getData();n(c.mapDimension(this.dimension,!0),function(s){this._axis.scale.unionExtentFromData(c,s)},this),t.niceScaleExtent(this._axis.scale,this._axis.model)}},this)},resize:function(o,f){this._rect=a({left:o.get("left"),top:o.get("top"),right:o.get("right"),bottom:o.get("bottom"),width:o.get("width"),height:o.get("height")},{width:f.getWidth(),height:f.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var o=this._rect,f=this._axis,v=f.isHorizontal(),c=v?[0,o.width]:[0,o.height],s=f.reverse?1:0;f.setExtent(c[s],c[1-s]),this._updateAxisTransform(f,v?o.x:o.y)},_updateAxisTransform:function(o,f){var v=o.getExtent(),c=v[0]+v[1],s=o.isHorizontal();o.toGlobalCoord=s?function(l){return l+f}:function(l){return c-l+f},o.toLocalCoord=s?function(l){return l-f}:function(l){return c-l+f}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(o){var f=this.getRect(),v=this.getAxis(),c=v.orient;return c==="horizontal"?v.contain(v.toLocalCoord(o[0]))&&o[1]>=f.y&&o[1]<=f.y+f.height:v.contain(v.toLocalCoord(o[1]))&&o[0]>=f.y&&o[0]<=f.y+f.height},pointToData:function(o){var f=this.getAxis();return[f.coordToData(f.toLocalCoord(o[f.orient==="horizontal"?0:1]))]},dataToPoint:function(o){var f=this.getAxis(),v=this.getRect(),c=[],s=f.orient==="horizontal"?0:1;return o instanceof Array&&(o=o[0]),c[s]=f.toGlobalCoord(f.dataToCoord(+o)),c[1-s]=s===0?v.y+v.height/2:v.x+v.width/2,c}};var d=h;return Mv=d,Mv}var $_;function A5(){if($_)return H_;$_=1;var e=w5(),t=cr;function r(a,i){var n=[];return a.eachComponent("singleAxis",function(h,d){var o=new e(h,a,i);o.name="single_"+d,o.resize(h,i),h.coordinateSystem=o,n.push(o)}),a.eachSeries(function(h){if(h.get("coordinateSystem")==="singleAxis"){var d=a.queryComponents({mainType:"singleAxis",index:h.get("singleAxisIndex"),id:h.get("singleAxisId")})[0];h.coordinateSystem=d&&d.coordinateSystem}}),n}return t.register("single",{create:r,dimensions:e.prototype.dimensions}),H_}var Dv={},U_;function zT(){if(U_)return Dv;U_=1;var e=F;function t(r,a){a=a||{};var i=r.coordinateSystem,n=r.axis,h={},d=n.position,o=n.orient,f=i.getRect(),v=[f.x,f.x+f.width,f.y,f.y+f.height],c={horizontal:{top:v[2],bottom:v[3]},vertical:{left:v[0],right:v[1]}};h.position=[o==="vertical"?c.vertical[d]:v[0],o==="horizontal"?c.horizontal[d]:v[3]];var s={horizontal:0,vertical:1};h.rotation=Math.PI/2*s[o];var l={top:-1,bottom:1,right:1,left:-1};h.labelDirection=h.tickDirection=h.nameDirection=l[d],r.get("axisTick.inside")&&(h.tickDirection=-h.tickDirection),e.retrieve(a.labelInside,r.get("axisLabel.inside"))&&(h.labelDirection=-h.labelDirection);var u=a.rotate;return u==null&&(u=r.get("axisLabel.rotate")),h.labelRotation=d==="top"?-u:u,h.z2=1,h}return Dv.layout=t,Dv}var Lv,W_;function T5(){if(W_)return Lv;W_=1;var e=F,t=pa(),r=le,a=zT(),i=ma(),n=["axisLine","axisTickLabel","axisName"],h="splitLine",d=i.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(f,v,c,s){var l=this.group;l.removeAll();var u=a.layout(f),p=new t(f,u);e.each(n,p.add,p),l.add(p.getGroup()),f.get(h+".show")&&this["_"+h](f),d.superCall(this,"render",f,v,c,s)},_splitLine:function(f){var v=f.axis;if(!v.scale.isBlank()){var c=f.getModel("splitLine"),s=c.getModel("lineStyle"),l=s.get("width"),u=s.get("color");u=u instanceof Array?u:[u];for(var p=f.coordinateSystem.getRect(),g=v.isHorizontal(),m=[],_=0,y=v.getTicksCoords({tickModel:c}),b=[],x=[],w=0;w<y.length;++w){var S=v.toGlobalCoord(y[w].coord);g?(b[0]=S,b[1]=p.y,x[0]=S,x[1]=p.y+p.height):(b[0]=p.x,b[1]=S,x[0]=p.x+p.width,x[1]=S);var A=_++%u.length;m[A]=m[A]||[],m[A].push(new r.Line(r.subPixelOptimizeLine({shape:{x1:b[0],y1:b[1],x2:x[0],y2:x[1]},style:{lineWidth:l},silent:!0})))}for(var w=0;w<m.length;++w)this.group.add(r.mergePath(m[w],{style:{stroke:u[w%u.length],lineDash:s.getLineDash(l),lineWidth:l},silent:!0}))}}}),o=d;return Lv=o,Lv}var Iv,Z_;function C5(){if(Z_)return Iv;Z_=1;var e=F,t=vt,r=Bo(),a=si(),i=t.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),n={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};function h(o,f){return f.type||(f.data?"category":"value")}e.merge(i.prototype,a),r("single",i,h,n);var d=i;return Iv=d,Iv}var Y_={},Pv,X_;function OT(){if(X_)return Pv;X_=1;var e=F,t=Me;function r(a,i){var n=[],h=a.seriesIndex,d;if(h==null||!(d=i.getSeriesByIndex(h)))return{point:[]};var o=d.getData(),f=t.queryDataIndex(o,a);if(f==null||f<0||e.isArray(f))return{point:[]};var v=o.getItemGraphicEl(f),c=d.coordinateSystem;if(d.getTooltipPosition)n=d.getTooltipPosition(f)||[];else if(c&&c.dataToPoint)n=c.dataToPoint(o.getValues(e.map(c.dimensions,function(l){return o.mapDimension(l)}),f,!0))||[];else if(v){var s=v.getBoundingRect().clone();s.applyTransform(v.transform),n=[s.x+s.width/2,s.y+s.height/2]}return{point:n,el:v}}return Pv=r,Pv}var Rv,K_;function M5(){if(K_)return Rv;K_=1;var e=F,t=Me,r=t.makeInner,a=qo(),i=OT(),n=e.each,h=e.curry,d=r();function o(y,b,x){var w=y.currTrigger,S=[y.x,y.y],A=y,T=y.dispatchAction||e.bind(x.dispatchAction,x),M=b.getComponent("axisPointer").coordSysAxesInfo;if(M){_(S)&&(S=i({seriesIndex:A.seriesIndex,dataIndex:A.dataIndex},b).point);var C=_(S),L=A.axesInfo,I=M.axesInfo,P=w==="leave"||_(S),R={},E={},D={list:[],map:{}},k={showPointer:h(c,E),showTooltip:h(s,D)};n(M.coordSysMap,function(O,N){var B=C||O.containPoint(S);n(M.coordSysAxesInfo[N],function(q,V){var G=q.axis,$=g(L,q);if(!P&&B&&(!L||$)){var Z=$&&$.value;Z==null&&!C&&(Z=G.pointToData(S)),Z!=null&&f(q,Z,k,!1,R)}})});var z={};return n(I,function(O,N){var B=O.linkGroup;B&&!E[N]&&n(B.axesInfo,function(q,V){var G=E[V];if(q!==O&&G){var $=G.value;B.mapper&&($=O.axis.scale.parse(B.mapper($,m(q),m(O)))),z[O.key]=$}})}),n(z,function(O,N){f(I[N],O,k,!0,R)}),l(E,I,R),u(D,S,y,T),p(I,T,x),R}}function f(y,b,x,w,S){var A=y.axis;if(!(A.scale.isBlank()||!A.containData(b))){if(!y.involveSeries){x.showPointer(y,b);return}var T=v(b,y),M=T.payloadBatch,C=T.snapToValue;M[0]&&S.seriesIndex==null&&e.extend(S,M[0]),!w&&y.snap&&A.containData(C)&&C!=null&&(b=C),x.showPointer(y,b,M,S),x.showTooltip(y,T,C)}}function v(y,b){var x=b.axis,w=x.dim,S=y,A=[],T=Number.MAX_VALUE,M=-1;return n(b.seriesModels,function(C,L){var I=C.getData().mapDimension(w,!0),P,R;if(C.getAxisTooltipData){var E=C.getAxisTooltipData(I,y,x);R=E.dataIndices,P=E.nestestValue}else{if(R=C.getData().indicesOfNearest(I[0],y,x.type==="category"?.5:null),!R.length)return;P=C.getData().get(I[0],R[0])}if(!(P==null||!isFinite(P))){var D=y-P,k=Math.abs(D);k<=T&&((k<T||D>=0&&M<0)&&(T=k,M=D,S=P,A.length=0),n(R,function(z){A.push({seriesIndex:C.seriesIndex,dataIndexInside:z,dataIndex:C.getData().getRawIndex(z)})}))}}),{payloadBatch:A,snapToValue:S}}function c(y,b,x,w){y[b.key]={value:x,payloadBatch:w}}function s(y,b,x,w){var S=x.payloadBatch,A=b.axis,T=A.model,M=b.axisPointerModel;if(!(!b.triggerTooltip||!S.length)){var C=b.coordSys.model,L=a.makeKey(C),I=y.map[L];I||(I=y.map[L]={coordSysId:C.id,coordSysIndex:C.componentIndex,coordSysType:C.type,coordSysMainType:C.mainType,dataByAxis:[]},y.list.push(I)),I.dataByAxis.push({axisDim:A.dim,axisIndex:T.componentIndex,axisType:T.type,axisId:T.id,value:w,valueLabelOpt:{precision:M.get("label.precision"),formatter:M.get("label.formatter")},seriesDataIndices:S.slice()})}}function l(y,b,x){var w=x.axesInfo=[];n(b,function(S,A){var T=S.axisPointerModel.option,M=y[A];M?(!S.useHandle&&(T.status="show"),T.value=M.value,T.seriesDataIndices=(M.payloadBatch||[]).slice()):!S.useHandle&&(T.status="hide"),T.status==="show"&&w.push({axisDim:S.axis.dim,axisIndex:S.axis.model.componentIndex,value:T.value})})}function u(y,b,x,w){if(_(b)||!y.list.length){w({type:"hideTip"});return}var S=((y.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};w({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:x.tooltipOption,position:x.position,dataIndexInside:S.dataIndexInside,dataIndex:S.dataIndex,seriesIndex:S.seriesIndex,dataByCoordSys:y.list})}function p(y,b,x){var w=x.getZr(),S="axisPointerLastHighlights",A=d(w)[S]||{},T=d(w)[S]={};n(y,function(L,I){var P=L.axisPointerModel.option;P.status==="show"&&n(P.seriesDataIndices,function(R){var E=R.seriesIndex+" | "+R.dataIndex;T[E]=R})});var M=[],C=[];e.each(A,function(L,I){!T[I]&&C.push(L)}),e.each(T,function(L,I){!A[I]&&M.push(L)}),C.length&&x.dispatchAction({type:"downplay",escapeConnect:!0,batch:C}),M.length&&x.dispatchAction({type:"highlight",escapeConnect:!0,batch:M})}function g(y,b){for(var x=0;x<(y||[]).length;x++){var w=y[x];if(b.axis.dim===w.axisDim&&b.axis.model.componentIndex===w.axisIndex)return w}}function m(y){var b=y.axis.model,x={},w=x.axisDim=y.axis.dim;return x.axisIndex=x[w+"AxisIndex"]=b.componentIndex,x.axisName=x[w+"AxisName"]=b.name,x.axisId=x[w+"AxisId"]=b.id,x}function _(y){return!y||y[0]==null||isNaN(y[0])||y[1]==null||isNaN(y[1])}return Rv=o,Rv}var Ev,Q_;function D5(){if(Q_)return Ev;Q_=1;var e=ve,t=e.extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),r=t;return Ev=r,Ev}var Nn={},j_;function NT(){if(j_)return Nn;j_=1;var e=F,t=lt,r=Me,a=r.makeInner,i=a(),n=e.each;function h(l,u,p){if(!t.node){var g=u.getZr();i(g).records||(i(g).records={}),d(g,u);var m=i(g).records[l]||(i(g).records[l]={});m.handler=p}}function d(l,u){if(i(l).initialized)return;i(l).initialized=!0,p("click",e.curry(v,"click")),p("mousemove",e.curry(v,"mousemove")),p("globalout",f);function p(g,m){l.on(g,function(_){var y=c(u);n(i(l).records,function(b){b&&m(b,_,y.dispatchAction)}),o(y.pendings,u)})}}function o(l,u){var p=l.showTip.length,g=l.hideTip.length,m;p?m=l.showTip[p-1]:g&&(m=l.hideTip[g-1]),m&&(m.dispatchAction=null,u.dispatchAction(m))}function f(l,u,p){l.handler("leave",null,p)}function v(l,u,p,g){u.handler(l,p,g)}function c(l){var u={showTip:[],hideTip:[]},p=function(g){var m=u[g.type];m?m.push(g):(g.dispatchAction=p,l.dispatchAction(g))};return{dispatchAction:p,pendings:u}}function s(l,u){if(!t.node){var p=u.getZr(),g=(i(p).records||{})[l];g&&(i(p).records[l]=null)}}return Nn.register=h,Nn.unregister=s,Nn}var kv,J_;function L5(){if(J_)return kv;J_=1;var e=ve,t=NT(),r=e.extendComponentView({type:"axisPointer",render:function(i,n,h){var d=n.getComponent("tooltip"),o=i.get("triggerOn")||d&&d.get("triggerOn")||"mousemove|click";t.register("axisPointer",h,function(f,v,c){o!=="none"&&(f==="leave"||o.indexOf(f)>=0)&&c({type:"updateAxisPointer",currTrigger:f,x:v&&v.offsetX,y:v&&v.offsetY})})},remove:function(i,n){t.unregister(n.getZr(),"axisPointer"),r.superApply(this._model,"remove",arguments)},dispose:function(i,n){t.unregister("axisPointer",n),r.superApply(this._model,"dispose",arguments)}}),a=r;return kv=a,kv}var zv,e1;function sd(){if(e1)return zv;e1=1;var e=F,t=Pt,r=le,a=qo(),i=wt,n=fr,h=Me,d=h.makeInner,o=d(),f=e.clone,v=e.bind;function c(){}c.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(_,y,b,x){var w=y.get("value"),S=y.get("status");if(this._axisModel=_,this._axisPointerModel=y,this._api=b,!(!x&&this._lastValue===w&&this._lastStatus===S)){this._lastValue=w,this._lastStatus=S;var A=this._group,T=this._handle;if(!S||S==="hide"){A&&A.hide(),T&&T.hide();return}A&&A.show(),T&&T.show();var M={};this.makeElOption(M,w,_,y,b);var C=M.graphicKey;C!==this._lastGraphicKey&&this.clear(b),this._lastGraphicKey=C;var L=this._moveAnimation=this.determineAnimation(_,y);if(!A)A=this._group=new r.Group,this.createPointerEl(A,M,_,y),this.createLabelEl(A,M,_,y),b.getZr().add(A);else{var I=e.curry(s,y,L);this.updatePointerEl(A,M,I,y),this.updateLabelEl(A,M,I,y)}g(A,y,!0),this._renderHandle(w)}},remove:function(_){this.clear(_)},dispose:function(_){this.clear(_)},determineAnimation:function(_,y){var b=y.get("animation"),x=_.axis,w=x.type==="category",S=y.get("snap");if(!S&&!w)return!1;if(b==="auto"||b==null){var A=this.animationThreshold;if(w&&x.getBandWidth()>A)return!0;if(S){var T=a.getAxisInfo(_).seriesDataCount,M=x.getExtent();return Math.abs(M[0]-M[1])/T>A}return!1}return b===!0},makeElOption:function(_,y,b,x,w){},createPointerEl:function(_,y,b,x){var w=y.pointer;if(w){var S=o(_).pointerEl=new r[w.type](f(y.pointer));_.add(S)}},createLabelEl:function(_,y,b,x){if(y.label){var w=o(_).labelEl=new r.Rect(f(y.label));_.add(w),u(w,x)}},updatePointerEl:function(_,y,b){var x=o(_).pointerEl;x&&(x.setStyle(y.pointer.style),b(x,{shape:y.pointer.shape}))},updateLabelEl:function(_,y,b,x){var w=o(_).labelEl;w&&(w.setStyle(y.label.style),b(w,{shape:y.label.shape,position:y.label.position}),u(w,x))},_renderHandle:function(_){if(!(this._dragging||!this.updateHandleTransform)){var y=this._axisPointerModel,b=this._api.getZr(),x=this._handle,w=y.getModel("handle"),S=y.get("status");if(!w.get("show")||!S||S==="hide"){x&&b.remove(x),this._handle=null;return}var A;this._handle||(A=!0,x=this._handle=r.createIcon(w.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(C){i.stop(C.event)},onmousedown:v(this._onHandleDragMove,this,0,0),drift:v(this._onHandleDragMove,this),ondragend:v(this._onHandleDragEnd,this)}),b.add(x)),g(x,y,!1);var T=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];x.setStyle(w.getItemStyle(null,T));var M=w.get("size");e.isArray(M)||(M=[M,M]),x.attr("scale",[M[0]/2,M[1]/2]),n.createOrUpdate(this,"_doDispatchAxisPointer",w.get("throttle")||0,"fixRate"),this._moveHandleToValue(_,A)}},_moveHandleToValue:function(_,y){s(this._axisPointerModel,!y&&this._moveAnimation,this._handle,p(this.getHandleTransform(_,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(_,y){var b=this._handle;if(b){this._dragging=!0;var x=this.updateHandleTransform(p(b),[_,y],this._axisModel,this._axisPointerModel);this._payloadInfo=x,b.stopAnimation(),b.attr(p(x)),o(b).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){var _=this._handle;if(_){var y=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:y.cursorPoint[0],y:y.cursorPoint[1],tooltipOption:y.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(_){this._dragging=!1;var y=this._handle;if(y){var b=this._axisPointerModel.get("value");this._moveHandleToValue(b),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(_){this._lastValue=null,this._lastStatus=null;var y=_.getZr(),b=this._group,x=this._handle;y&&b&&(this._lastGraphicKey=null,b&&y.remove(b),x&&y.remove(x),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(_,y,b){return b=b||0,{x:_[b],y:_[1-b],width:y[b],height:y[1-b]}}},c.prototype.constructor=c;function s(_,y,b,x){l(o(b).lastProp,x)||(o(b).lastProp=x,y?r.updateProps(b,x,_):(b.stopAnimation(),b.attr(x)))}function l(_,y){if(e.isObject(_)&&e.isObject(y)){var b=!0;return e.each(y,function(x,w){b=b&&l(_[w],x)}),!!b}else return _===y}function u(_,y){_[y.get("label.show")?"show":"hide"]()}function p(_){return{position:_.position.slice(),rotation:_.rotation||0}}function g(_,y,b){var x=y.get("z"),w=y.get("zlevel");_&&_.traverse(function(S){S.type!=="group"&&(x!=null&&(S.z=x),w!=null&&(S.zlevel=w),S.silent=b)})}t.enableClassExtend(c);var m=c;return zv=m,zv}var ir={},t1;function $o(){if(t1)return ir;t1=1;var e=F,t=le,r=Ze,a=Oe,i=We,n=jt(),h=pa();function d(g){var m=g.get("type"),_=g.getModel(m+"Style"),y;return m==="line"?(y=_.getLineStyle(),y.fill=null):m==="shadow"&&(y=_.getAreaStyle(),y.stroke=null),y}function o(g,m,_,y,b){var x=_.get("value"),w=v(x,m.axis,m.ecModel,_.get("seriesDataIndices"),{precision:_.get("label.precision"),formatter:_.get("label.formatter")}),S=_.getModel("label"),A=a.normalizeCssArray(S.get("padding")||0),T=S.getFont(),M=r.getBoundingRect(w,T),C=b.position,L=M.width+A[1]+A[3],I=M.height+A[0]+A[2],P=b.align;P==="right"&&(C[0]-=L),P==="center"&&(C[0]-=L/2);var R=b.verticalAlign;R==="bottom"&&(C[1]-=I),R==="middle"&&(C[1]-=I/2),f(C,L,I,y);var E=S.get("backgroundColor");(!E||E==="auto")&&(E=m.get("axisLine.lineStyle.color")),g.label={shape:{x:0,y:0,width:L,height:I,r:S.get("borderRadius")},position:C.slice(),style:{text:w,textFont:T,textFill:S.getTextColor(),textPosition:"inside",fill:E,stroke:S.get("borderColor")||"transparent",lineWidth:S.get("borderWidth")||0,shadowBlur:S.get("shadowBlur"),shadowColor:S.get("shadowColor"),shadowOffsetX:S.get("shadowOffsetX"),shadowOffsetY:S.get("shadowOffsetY")},z2:10}}function f(g,m,_,y){var b=y.getWidth(),x=y.getHeight();g[0]=Math.min(g[0]+m,b)-m,g[1]=Math.min(g[1]+_,x)-_,g[0]=Math.max(g[0],0),g[1]=Math.max(g[1],0)}function v(g,m,_,y,b){g=m.scale.parse(g);var x=m.scale.getLabel(g,{precision:b.precision}),w=b.formatter;if(w){var S={value:n.getAxisRawValue(m,g),seriesData:[]};e.each(y,function(A){var T=_.getSeriesByIndex(A.seriesIndex),M=A.dataIndexInside,C=T&&T.getDataParams(M);C&&S.seriesData.push(C)}),e.isString(w)?x=w.replace("{value}",x):e.isFunction(w)&&(x=w(S))}return x}function c(g,m,_){var y=i.create();return i.rotate(y,y,_.rotation),i.translate(y,y,_.position),t.applyTransform([g.dataToCoord(m),(_.labelOffset||0)+(_.labelDirection||1)*(_.labelMargin||0)],y)}function s(g,m,_,y,b,x){var w=h.innerTextLayout(_.rotation,0,_.labelDirection);_.labelMargin=b.get("label.margin"),o(m,y,b,x,{position:c(y.axis,g,_),align:w.textAlign,verticalAlign:w.textVerticalAlign})}function l(g,m,_){return _=_||0,{x1:g[_],y1:g[1-_],x2:m[_],y2:m[1-_]}}function u(g,m,_){return _=_||0,{x:g[_],y:g[1-_],width:m[_],height:m[1-_]}}function p(g,m,_,y,b,x){return{cx:g,cy:m,r0:_,r:y,startAngle:b,endAngle:x,clockwise:!0}}return ir.buildElStyle=d,ir.buildLabelElOption=o,ir.getValueLabel=v,ir.getTransformedPosition=c,ir.buildCartesianSingleLabelElOption=s,ir.makeLineShape=l,ir.makeRectShape=u,ir.makeSectorShape=p,ir}var Ov,r1;function VT(){if(r1)return Ov;r1=1;var e=le,t=sd(),r=$o(),a=cT(),i=ma(),n=t.extend({makeElOption:function(v,c,s,l,u){var p=s.axis,g=p.grid,m=l.get("type"),_=h(g,p).getOtherAxis(p).getGlobalExtent(),y=p.toGlobalCoord(p.dataToCoord(c,!0));if(m&&m!=="none"){var b=r.buildElStyle(l),x=d[m](p,y,_,b);x.style=b,v.graphicKey=x.type,v.pointer=x}var w=a.layout(g.model,s);r.buildCartesianSingleLabelElOption(c,v,w,s,l,u)},getHandleTransform:function(v,c,s){var l=a.layout(c.axis.grid.model,c,{labelInside:!1});return l.labelMargin=s.get("handle.margin"),{position:r.getTransformedPosition(c.axis,v,l),rotation:l.rotation+(l.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(v,c,s,l){var u=s.axis,p=u.grid,g=u.getGlobalExtent(!0),m=h(p,u).getOtherAxis(u).getGlobalExtent(),_=u.dim==="x"?0:1,y=v.position;y[_]+=c[_],y[_]=Math.min(g[1],y[_]),y[_]=Math.max(g[0],y[_]);var b=(m[1]+m[0])/2,x=[b,b];x[_]=y[_];var w=[{verticalAlign:"middle"},{align:"center"}];return{position:y,rotation:v.rotation,cursorPoint:x,tooltipOption:w[_]}}});function h(v,c){var s={};return s[c.dim+"AxisIndex"]=c.index,v.getCartesian(s)}var d={line:function(v,c,s,l){var u=r.makeLineShape([c,s[0]],[c,s[1]],o(v));return e.subPixelOptimizeLine({shape:u,style:l}),{type:"Line",shape:u}},shadow:function(v,c,s,l){var u=Math.max(1,v.getBandWidth()),p=s[1]-s[0];return{type:"Rect",shape:r.makeRectShape([c-u/2,s[0]],[u,p],o(v))}}};function o(v){return v.dim==="x"?0:1}i.registerAxisPointerClass("CartesianAxisPointer",n);var f=n;return Ov=f,Ov}var a1;function on(){if(a1)return Y_;a1=1;var e=ve,t=F,r=qo(),a=M5();return D5(),L5(),VT(),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||i.axisPointer.length===0)&&(i.axisPointer={});var n=i.axisPointer.link;n&&!t.isArray(n)&&(i.axisPointer.link=[n])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,n){i.getComponent("axisPointer").coordSysAxesInfo=r.collect(i,n)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},a),Y_}var Nv,i1;function I5(){if(i1)return Nv;i1=1;var e=le,t=sd(),r=$o(),a=zT(),i=ma(),n=["x","y"],h=["width","height"],d=t.extend({makeElOption:function(s,l,u,p,g){var m=u.axis,_=m.coordinateSystem,y=v(_,1-f(m)),b=_.dataToPoint(l)[0],x=p.get("type");if(x&&x!=="none"){var w=r.buildElStyle(p),S=o[x](m,b,y,w);S.style=w,s.graphicKey=S.type,s.pointer=S}var A=a.layout(u);r.buildCartesianSingleLabelElOption(l,s,A,u,p,g)},getHandleTransform:function(s,l,u){var p=a.layout(l,{labelInside:!1});return p.labelMargin=u.get("handle.margin"),{position:r.getTransformedPosition(l.axis,s,p),rotation:p.rotation+(p.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(s,l,u,p){var g=u.axis,m=g.coordinateSystem,_=f(g),y=v(m,_),b=s.position;b[_]+=l[_],b[_]=Math.min(y[1],b[_]),b[_]=Math.max(y[0],b[_]);var x=v(m,1-_),w=(x[1]+x[0])/2,S=[w,w];return S[_]=b[_],{position:b,rotation:s.rotation,cursorPoint:S,tooltipOption:{verticalAlign:"middle"}}}}),o={line:function(s,l,u,p){var g=r.makeLineShape([l,u[0]],[l,u[1]],f(s));return e.subPixelOptimizeLine({shape:g,style:p}),{type:"Line",shape:g}},shadow:function(s,l,u,p){var g=s.getBandWidth(),m=u[1]-u[0];return{type:"Rect",shape:r.makeRectShape([l-g/2,u[0]],[g,m],f(s))}}};function f(s){return s.isHorizontal()?0:1}function v(s,l){var u=s.getRect();return[u[n[l]],u[n[l]]+u[h[l]]]}i.registerAxisPointerClass("SingleAxisPointer",d);var c=d;return Nv=c,Nv}var n1;function BT(){if(n1)return q_;n1=1;var e=ve;return A5(),T5(),C5(),on(),I5(),e.extendComponentView({type:"single"}),q_}var Vv,o1;function P5(){if(o1)return Vv;o1=1;var e=yt,t=oi(),r=Ji(),a=r.getDimensionTypeByAxis,i=qt(),n=F,h=Oe,d=h.encodeHTML,o=IT(),f=2,v=e.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(s){v.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(s){for(var l=s.length,u=o().key(function(I){return I[2]}).entries(s),p=n.map(u,function(I){return{name:I.key,dataList:I.values}}),g=p.length,m=-1,_=-1,y=0;y<g;++y){var b=p[y].dataList.length;b>m&&(m=b,_=y)}for(var x=0;x<g;++x)if(x!==_)for(var w=p[x].name,S=0;S<m;++S){for(var A=p[_].dataList[S][0],T=p[x].dataList.length,M=-1,C=0;C<T;++C){var L=p[x].dataList[C][0];if(L===A){M=C;break}}M===-1&&(s[l]=[],s[l][0]=A,s[l][1]=0,s[l][2]=w,l++)}return s},getInitialData:function(s,l){for(var u=l.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],p=u.get("type"),g=n.filter(s.data,function(A){return A[2]!==void 0}),m=this.fixData(g||[]),_=[],y=this.nameMap=n.createHashMap(),b=0,x=0;x<m.length;++x)_.push(m[x][f]),y.get(m[x][f])||(y.set(m[x][f],b),b++);var w=t(m,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:a(p)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),S=new i(w,this);return S.initData(m),S},getLayerSeries:function(){for(var s=this.getData(),l=s.count(),u=[],p=0;p<l;++p)u[p]=p;for(var g=o().key(function(x){return s.get("name",x)}).entries(u),m=n.map(g,function(x){return{name:x.key,indices:x.values}}),_=s.mapDimension("single"),y=0;y<m.length;++y)m[y].indices.sort(b);function b(x,w){return s.get(_,x)-s.get(_,w)}return m},getAxisTooltipData:function(s,l,u){n.isArray(s)||(s=s?[s]:[]);for(var p=this.getData(),g=this.getLayerSeries(),m=[],_=g.length,y,b=0;b<_;++b){for(var x=Number.MAX_VALUE,w=-1,S=g[b].indices.length,A=0;A<S;++A){var T=p.get(s[0],g[b].indices[A]),M=Math.abs(T-l);M<=x&&(y=T,x=M,w=g[b].indices[A])}m.push(w)}return{dataIndices:m,nestestValue:y}},formatTooltip:function(s){var l=this.getData(),u=l.getName(s),p=l.get(l.mapDimension("value"),s);return(isNaN(p)||p==null)&&(p="-"),d(u+" : "+p)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),c=v;return Vv=c,Vv}var Bv,s1;function R5(){if(s1)return Bv;s1=1;var e=ve,t=uT(),r=t.Polygon,a=le,i=F,n=i.bind,h=i.extend,d=da(),o=e.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(v,c,s){var l=v.getData(),u=this.group,p=v.getLayerSeries(),g=l.getLayout("layoutInfo"),m=g.rect,_=g.boundaryGap;u.attr("position",[0,m.y+_[0]]);function y(S){return S.name}var b=new d(this._layersSeries||[],p,y,y),x={};b.add(n(w,this,"add")).update(n(w,this,"update")).remove(n(w,this,"remove")).execute();function w(S,A,T){var M=this._layers;if(S==="remove"){u.remove(M[A]);return}for(var C=[],L=[],I,P=p[A].indices,R=0;R<P.length;R++){var E=l.getItemLayout(P[R]),D=E.x,k=E.y0,z=E.y;C.push([D,k]),L.push([D,k+z]),I=l.getItemVisual(P[R],"color")}var O,N,B=l.getItemLayout(P[0]),q=l.getItemModel(P[R-1]),V=q.getModel("label"),G=V.get("margin");if(S==="add"){var $=x[A]=new a.Group;O=new r({shape:{points:C,stackedOnPoints:L,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),N=new a.Text({style:{x:B.x-G,y:B.y0+B.y/2}}),$.add(O),$.add(N),u.add($),O.setClipPath(f(O.getBoundingRect(),v,function(){O.removeClipPath()}))}else{var $=M[T];O=$.childAt(0),N=$.childAt(1),u.add($),x[A]=$,a.updateProps(O,{shape:{points:C,stackedOnPoints:L}},v),a.updateProps(N,{style:{x:B.x-G,y:B.y0+B.y/2}},v)}var Z=q.getModel("emphasis.itemStyle"),Y=q.getModel("itemStyle");a.setTextStyle(N.style,V,{text:V.get("show")?v.getFormattedLabel(P[R-1],"normal")||l.getName(P[R-1]):null,textVerticalAlign:"middle"}),O.setStyle(h({fill:I},Y.getItemStyle(["color"]))),a.setHoverStyle(O,Z.getItemStyle())}this._layersSeries=p,this._layers=x},dispose:function(){}});function f(v,c,s){var l=new a.Rect({shape:{x:v.x-10,y:v.y-10,width:0,height:v.height+20}});return a.initProps(l,{shape:{width:v.width+20,height:v.height+20}},c,s),l}return Bv=o,Bv}var qv,l1;function E5(){if(l1)return qv;l1=1;var e=F,t=Ie();function r(n,h){n.eachSeriesByType("themeRiver",function(d){var o=d.getData(),f=d.coordinateSystem,v={},c=f.getRect();v.rect=c;var s=d.get("boundaryGap"),l=f.getAxis();if(v.boundaryGap=s,l.orient==="horizontal"){s[0]=t.parsePercent(s[0],c.height),s[1]=t.parsePercent(s[1],c.height);var u=c.height-s[0]-s[1];a(o,d,u)}else{s[0]=t.parsePercent(s[0],c.width),s[1]=t.parsePercent(s[1],c.width);var p=c.width-s[0]-s[1];a(o,d,p)}o.setLayout("layoutInfo",v)})}function a(n,h,d){if(n.count())for(var o=h.coordinateSystem,f=h.getLayerSeries(),v=n.mapDimension("single"),c=n.mapDimension("value"),s=e.map(f,function(x){return e.map(x.indices,function(w){var S=o.dataToPoint(n.get(v,w));return S[1]=n.get(c,w),S})}),l=i(s),u=l.y0,p=d/l.max,g=f.length,m=f[0].indices.length,_,y=0;y<m;++y){_=u[y]*p,n.setItemLayout(f[0].indices[y],{layerIndex:0,x:s[0][y][0],y0:_,y:s[0][y][1]*p});for(var b=1;b<g;++b)_+=s[b-1][y][1]*p,n.setItemLayout(f[b].indices[y],{layerIndex:b,x:s[b][y][0],y0:_,y:s[b][y][1]*p})}}function i(n){for(var h=n.length,d=n[0].length,o=[],f=[],v=0,c,s={},l=0;l<d;++l){for(var u=0,c=0;u<h;++u)c+=n[u][l][1];c>v&&(v=c),o.push(c)}for(var p=0;p<d;++p)f[p]=(v-o[p])/2;v=0;for(var g=0;g<d;++g){var m=o[g]+f[g];m>v&&(v=m)}return s.y0=f,s.max=v,s}return qv=r,qv}var Hv,u1;function k5(){if(u1)return Hv;u1=1;var e=F,t=e.createHashMap;function r(a){a.eachSeriesByType("themeRiver",function(i){var n=i.getData(),h=i.getRawData(),d=i.get("color"),o=t();n.each(function(f){o.set(n.getRawIndex(f),f)}),h.each(function(f){var v=h.getName(f),c=d[(i.nameMap.get(v)-1)%d.length];h.setItemVisual(f,"color",c);var s=o.get(f);s!=null&&n.setItemVisual(s,"color",c)})})}return Hv=r,Hv}var v1;function z5(){if(v1)return B_;v1=1;var e=ve;BT(),P5(),R5();var t=E5(),r=k5(),a=an();return e.registerLayout(t),e.registerVisual(r),e.registerProcessor(a("themeRiver")),B_}var h1={},Gv,c1;function O5(){if(c1)return Gv;c1=1;var e=F,t=yt,r=ad(),a=ya(),i=a.wrapTreePathInfo,n=t.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(d,o){var f={name:d.name,children:d.data};h(f);var v=d.levels||[],c={};return c.levels=v,r.createTree(f,this,c).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(d){var o=t.prototype.getDataParams.apply(this,arguments),f=this.getData().tree.getNodeByDataIndex(d);return o.treePathInfo=i(f,this),o},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(d){d?this._viewRoot=d:d=this._viewRoot;var o=this.getRawData().tree.root;(!d||d!==o&&!o.contains(d))&&(this._viewRoot=o)}});function h(d){var o=0;e.each(d.children,function(v){h(v);var c=v.value;e.isArray(c)&&(c=c[0]),o+=c});var f=d.value;e.isArray(f)&&(f=f[0]),(f==null||isNaN(f))&&(f=o),f<0&&(f=0),e.isArray(d.value)?d.value[0]=f:d.value=f}return Gv=n,Gv}var Fv,f1;function N5(){if(f1)return Fv;f1=1;var e=F,t=le,r={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},a=2,i=4;function n(c,s,l){t.Group.call(this);var u=new t.Sector({z2:a});u.seriesIndex=s.seriesIndex;var p=new t.Text({z2:i,silent:c.getModel("label").get("silent")});this.add(u),this.add(p),this.updateData(!0,c,"normal",s,l);function g(){p.ignore=p.hoverIgnore}function m(){p.ignore=p.normalIgnore}this.on("emphasis",g).on("normal",m).on("mouseover",g).on("mouseout",m)}var h=n.prototype;h.updateData=function(c,s,l,u,p){this.node=s,s.piece=this,u=u||this._seriesModel,p=p||this._ecModel;var g=this.childAt(0);g.dataIndex=s.dataIndex;var m=s.getModel(),_=s.getLayout();_||console.log(s.getLayout());var y=e.extend({},_);y.label=null;var b=o(s,u,p),x=m.getModel("itemStyle").getItemStyle(),w;if(l==="normal")w=x;else{var S=m.getModel(l+".itemStyle").getItemStyle();w=e.merge(S,x)}w=e.defaults({lineJoin:"bevel",fill:w.fill||b},w),c?(g.setShape(y),g.shape.r=_.r0,t.updateProps(g,{shape:{r:_.r}},u,s.dataIndex),g.useStyle(w)):typeof w.fill=="object"&&w.fill.type||typeof g.style.fill=="object"&&g.style.fill.type?(t.updateProps(g,{shape:y},u),g.useStyle(w)):t.updateProps(g,{shape:y,style:w},u),this._updateLabel(u,b,l);var A=m.getShallow("cursor");if(A&&g.attr("cursor",A),c){var T=u.getShallow("highlightPolicy");this._initEvents(g,s,u,T)}this._seriesModel=u||this._seriesModel,this._ecModel=p||this._ecModel},h.onEmphasis=function(c){var s=this;this.node.hostTree.root.eachNode(function(l){l.piece&&(s.node===l?l.piece.updateData(!1,l,"emphasis"):v(l,s.node,c)?l.piece.childAt(0).trigger("highlight"):c!==r.NONE&&l.piece.childAt(0).trigger("downplay"))})},h.onNormal=function(){this.node.hostTree.root.eachNode(function(c){c.piece&&c.piece.updateData(!1,c,"normal")})},h.onHighlight=function(){this.updateData(!1,this.node,"highlight")},h.onDownplay=function(){this.updateData(!1,this.node,"downplay")},h._updateLabel=function(c,s,l){var u=this.node.getModel(),p=u.getModel("label"),g=l==="normal"||l==="emphasis"?p:u.getModel(l+".label"),m=u.getModel("emphasis.label"),_=e.retrieve(c.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);k("show")===!1&&(_="");var y=this.node.getLayout(),b=g.get("minAngle");b==null&&(b=p.get("minAngle")),b=b/180*Math.PI;var x=y.endAngle-y.startAngle;b!=null&&Math.abs(x)<b&&(_="");var w=this.childAt(1);t.setLabelStyle(w.style,w.hoverStyle||{},p,m,{defaultText:g.getShallow("show")?_:null,autoColor:s,useInsideStyle:!0});var S=(y.startAngle+y.endAngle)/2,A=Math.cos(S),T=Math.sin(S),M,C=k("position"),L=k("distance")||0,I=k("align");C==="outside"?(M=y.r+L,I=S>Math.PI/2?"right":"left"):!I||I==="center"?(M=(y.r+y.r0)/2,I="center"):I==="left"?(M=y.r0+L,S>Math.PI/2&&(I="right")):I==="right"&&(M=y.r-L,S>Math.PI/2&&(I="left")),w.attr("style",{text:_,textAlign:I,textVerticalAlign:k("verticalAlign")||"middle",opacity:k("opacity")});var P=M*A+y.cx,R=M*T+y.cy;w.attr("position",[P,R]);var E=k("rotate"),D=0;E==="radial"?(D=-S,D<-Math.PI/2&&(D+=Math.PI)):E==="tangential"?(D=Math.PI/2-S,D>Math.PI/2?D-=Math.PI:D<-Math.PI/2&&(D+=Math.PI)):typeof E=="number"&&(D=E*Math.PI/180),w.attr("rotation",D);function k(z){var O=g.get(z);return O??p.get(z)}},h._initEvents=function(c,s,l,u){c.off("mouseover").off("mouseout").off("emphasis").off("normal");var p=this,g=function(){p.onEmphasis(u)},m=function(){p.onNormal()},_=function(){p.onDownplay()},y=function(){p.onHighlight()};l.isAnimationEnabled()&&c.on("mouseover",g).on("mouseout",m).on("emphasis",g).on("normal",m).on("downplay",_).on("highlight",y)},e.inherits(n,t.Group);var d=n;function o(c,s,l){var u=c.getVisual("color"),p=c.getVisual("visualMeta");(!p||p.length===0)&&(u=null);var g=c.getModel("itemStyle").get("color");if(g)return g;if(u)return u;if(c.depth===0)return l.option.color[0];var m=l.option.color.length;return g=l.option.color[f(c)%m],g}function f(c){for(var s=c;s.depth>1;)s=s.parentNode;var l=c.getAncestors()[0];return e.indexOf(l.children,s)}function v(c,s,l){return l===r.NONE?!1:l===r.SELF?c===s:l===r.ANCESTOR?c===s||c.isAncestorOf(s):c===s||c.isDescendantOf(s)}return Fv=d,Fv}var $v,d1;function V5(){if(d1)return $v;d1=1;var e=F,t=Mr,r=N5(),a=da(),i="sunburstRootToNode",n=t.extend({type:"sunburst",init:function(){},render:function(d,o,f,v){var c=this;this.seriesModel=d,this.api=f,this.ecModel=o;var s=d.getData(),l=s.tree.root,u=d.getViewRoot(),p=this.group,g=d.get("renderLabelForZeroData"),m=[];u.eachNode(function(T){m.push(T)});var _=this._oldChildren||[];if(x(m,_),A(l,u),v&&v.highlight&&v.highlight.piece){var y=d.getShallow("highlightPolicy");v.highlight.piece.onEmphasis(y)}else if(v&&v.unhighlight){var b=this.virtualPiece;!b&&l.children.length&&(b=l.children[0].piece),b&&b.onNormal()}this._initEvents(),this._oldChildren=m;function x(T,M){if(T.length===0&&M.length===0)return;new a(M,T,C,C).add(L).update(L).remove(e.curry(L,null)).execute();function C(I){return I.getId()}function L(I,P){var R=I==null?null:T[I],E=P==null?null:M[P];w(R,E)}}function w(T,M){if(!g&&T&&!T.getValue()&&(T=null),T!==l&&M!==l){if(M&&M.piece)T?(M.piece.updateData(!1,T,"normal",d,o),s.setItemGraphicEl(T.dataIndex,M.piece)):S(M);else if(T){var C=new r(T,d,o);p.add(C),s.setItemGraphicEl(T.dataIndex,C)}}}function S(T){T&&T.piece&&(p.remove(T.piece),T.piece=null)}function A(T,M){if(M.depth>0){c.virtualPiece?c.virtualPiece.updateData(!1,T,"normal",d,o):(c.virtualPiece=new r(T,d,o),p.add(c.virtualPiece)),M.piece._onclickEvent&&M.piece.off("click",M.piece._onclickEvent);var C=function(L){c._rootToNode(M.parentNode)};M.piece._onclickEvent=C,c.virtualPiece.on("click",C)}else c.virtualPiece&&(p.remove(c.virtualPiece),c.virtualPiece=null)}},dispose:function(){},_initEvents:function(){var d=this,o=function(f){var v=!1,c=d.seriesModel.getViewRoot();c.eachNode(function(s){if(!v&&s.piece&&s.piece.childAt(0)===f.target){var l=s.getModel().get("nodeClick");if(l==="rootToNode")d._rootToNode(s);else if(l==="link"){var u=s.getModel(),p=u.get("link");if(p){var g=u.get("target",!0)||"_blank";window.open(p,g)}}v=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",o),this.group._onclickEvent=o},_rootToNode:function(d){d!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:i,from:this.uid,seriesId:this.seriesModel.id,targetNode:d})},containPoint:function(d,o){var f=o.getData(),v=f.getItemLayout(0);if(v){var c=d[0]-v.cx,s=d[1]-v.cy,l=Math.sqrt(c*c+s*s);return l<=v.r&&l>=v.r0}}}),h=n;return $v=h,$v}var g1={},p1;function B5(){if(p1)return g1;p1=1;var e=ve,t=ya(),r="sunburstRootToNode";e.registerAction({type:r,update:"updateView"},function(n,h){h.eachComponent({mainType:"series",subType:"sunburst",query:n},d);function d(o,f){var v=t.retrieveTargetInfo(n,[r],o);if(v){var c=o.getViewRoot();c&&(n.direction=t.aboveViewRoot(c,v.node)?"rollUp":"drillDown"),o.resetViewRoot(v.node)}}});var a="sunburstHighlight";e.registerAction({type:a,update:"updateView"},function(n,h){h.eachComponent({mainType:"series",subType:"sunburst",query:n},d);function d(o,f){var v=t.retrieveTargetInfo(n,[a],o);v&&(n.highlight=v.node)}});var i="sunburstUnhighlight";return e.registerAction({type:i,update:"updateView"},function(n,h){h.eachComponent({mainType:"series",subType:"sunburst",query:n},d);function d(o,f){n.unhighlight=!0}}),g1}var Uv,m1;function q5(){if(m1)return Uv;m1=1;var e=Ie(),t=e.parsePercent,r=F,a=Math.PI/180;function i(d,o,f,v){o.eachSeriesByType(d,function(c){var s=c.get("center"),l=c.get("radius");r.isArray(l)||(l=[0,l]),r.isArray(s)||(s=[s,s]);var u=f.getWidth(),p=f.getHeight(),g=Math.min(u,p),m=t(s[0],u),_=t(s[1],p),y=t(l[0],g/2),b=t(l[1],g/2),x=-c.get("startAngle")*a,w=c.get("minAngle")*a,S=c.getData().tree.root,A=c.getViewRoot(),T=A.depth,M=c.get("sort");M!=null&&n(A,M);var C=0;r.each(A.children,function(V){!isNaN(V.getValue())&&C++});var L=A.getValue(),I=Math.PI/(L||C)*2,P=A.depth>0,R=A.height-(P?-1:1),E=(b-y)/(R||1),D=c.get("clockwise"),k=c.get("stillShowZeroSum"),z=D?1:-1,O=function(V,G){if(V){var $=G;if(V!==S){var Z=V.getValue(),Y=L===0&&k?I:Z*I;Y<w&&(Y=w),$=G+z*Y;var Q=V.depth-T-(P?-1:1),ee=y+E*Q,J=y+E*(Q+1),ae=V.getModel();ae.get("r0")!=null&&(ee=t(ae.get("r0"),g/2)),ae.get("r")!=null&&(J=t(ae.get("r"),g/2)),V.setLayout({angle:Y,startAngle:G,endAngle:$,clockwise:D,cx:m,cy:_,r0:ee,r:J})}if(V.children&&V.children.length){var j=0;r.each(V.children,function(ie){j+=O(ie,G+j)})}return $-G}};if(P){var N=y,B=y+E,q=Math.PI*2;S.setLayout({angle:q,startAngle:x,endAngle:x+q,clockwise:D,cx:m,cy:_,r0:N,r:B})}O(A,x)})}function n(d,o){var f=d.children||[];d.children=h(f,o),f.length&&r.each(d.children,function(v){n(v,o)})}function h(d,o){if(typeof o=="function")return d.sort(o);var f=o==="asc";return d.sort(function(v,c){var s=(v.getValue()-c.getValue())*(f?1:-1);return s===0?(v.dataIndex-c.dataIndex)*(f?-1:1):s})}return Uv=i,Uv}var y1;function H5(){if(y1)return h1;y1=1;var e=ve,t=F;O5(),V5(),B5();var r=Ho(),a=q5(),i=an();return e.registerVisual(t.curry(r,"sunburst")),e.registerLayout(t.curry(a,"sunburst")),e.registerProcessor(t.curry(i,"sunburst")),h1}var _1={},Wv,x1;function G5(){if(x1)return Wv;x1=1;var e=F;function t(a,i){return i=i||[0,0],e.map(["x","y"],function(n,h){var d=this.getAxis(n),o=i[h],f=a[h]/2;return d.type==="category"?d.getBandWidth():Math.abs(d.dataToCoord(o-f)-d.dataToCoord(o+f))},this)}function r(a){var i=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Wv=r,Wv}var Zv,S1;function F5(){if(S1)return Zv;S1=1;var e=F;function t(a,i){return i=i||[0,0],e.map([0,1],function(n){var h=i[n],d=a[n]/2,o=[],f=[];return o[n]=h-d,f[n]=h+d,o[1-n]=f[1-n]=i[1-n],Math.abs(this.dataToPoint(o)[n]-this.dataToPoint(f)[n])},this)}function r(a){var i=a.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Zv=r,Zv}var Yv,b1;function $5(){if(b1)return Yv;b1=1;var e=F;function t(a,i){var n=this.getAxis(),h=i instanceof Array?i[0]:i,d=(a instanceof Array?a[0]:a)/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(h-d)-n.dataToCoord(h+d))}function r(a){var i=a.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(n){return a.dataToPoint(n)},size:e.bind(t,a)}}}return Yv=r,Yv}var Xv,w1;function U5(){if(w1)return Xv;w1=1;var e=F;function t(a,i){return e.map(["Radius","Angle"],function(n,h){var d=this["get"+n+"Axis"](),o=i[h],f=a[h]/2,v="dataTo"+n,c=d.type==="category"?d.getBandWidth():Math.abs(d[v](o-f)-d[v](o+f));return n==="Angle"&&(c=c*Math.PI/180),c},this)}function r(a){var i=a.getRadiusAxis(),n=a.getAngleAxis(),h=i.getExtent();return h[0]>h[1]&&h.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:h[1],r0:h[0]},api:{coord:e.bind(function(d){var o=i.dataToRadius(d[0]),f=n.dataToAngle(d[1]),v=a.coordToPoint([o,f]);return v.push(o,f*Math.PI/180),v}),size:e.bind(t,a)}}}return Xv=r,Xv}var Kv,A1;function W5(){if(A1)return Kv;A1=1;function e(t){var r=t.getRect(),a=t.getRangeInfo();return{coordSys:{type:"calendar",x:r.x,y:r.y,width:r.width,height:r.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:a.start,end:a.end,weeks:a.weeks,dayCount:a.allDay}},api:{coord:function(i,n){return t.dataToPoint(i,n)}}}}return Kv=e,Kv}var T1;function Z5(){if(T1)return _1;T1=1;var e=ve,t=F,r=le,a=Jf(),i=a.getDefaultLabel,n=Lr(),h=No(),d=h.getLayoutOnAxis,o=da(),f=G5(),v=F5(),c=$5(),s=U5(),l=W5(),u=["itemStyle"],p=["emphasis","itemStyle"],g=["label"],m=["emphasis","label"],_="e\0\0",y={cartesian2d:f,geo:v,singleAxis:c,polar:s,calendar:l};e.extendSeriesModel({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(R,E){return n(this.getSource(),this)}}),e.extendChartView({type:"custom",_data:null,render:function(R,E,D){var k=this._data,z=R.getData(),O=this.group,N=S(R,z,E,D);this.group.removeAll(),z.diff(k).add(function(B){T(null,B,N(B),R,O,z)}).update(function(B,q){var V=k.getItemGraphicEl(q);T(V,B,N(B),R,O,z)}).remove(function(B){var q=k.getItemGraphicEl(B);q&&O.remove(q)}).execute(),this._data=z},incrementalPrepareRender:function(R,E,D){this.group.removeAll(),this._data=null},incrementalRender:function(R,E,D,k){var z=E.getData(),O=S(E,z,D,k);function N(V){V.isGroup||(V.incremental=!0,V.useHoverLayer=!0)}for(var B=R.start;B<R.end;B++){var q=T(null,B,O(B),E,this.group,z);q.traverse(N)}},dispose:t.noop});function b(R){var E=R.type,D;if(E==="path"){var k=R.shape;D=r.makePath(k.pathData,null,{x:k.x||0,y:k.y||0,width:k.width||0,height:k.height||0},"center"),D.__customPathData=R.pathData}else if(E==="image")D=new r.Image({}),D.__customImagePath=R.style.image;else if(E==="text")D=new r.Text({}),D.__customText=R.style.text;else{var z=r[E.charAt(0).toUpperCase()+E.slice(1)];D=new z}return D.__customGraphicType=E,D.name=R.name,D}function x(R,E,D,k,z,O){var N={},B=D.style||{};if(D.shape&&(N.shape=t.clone(D.shape)),D.position&&(N.position=D.position.slice()),D.scale&&(N.scale=D.scale.slice()),D.origin&&(N.origin=D.origin.slice()),D.rotation&&(N.rotation=D.rotation),R.type==="image"&&D.style){var q=N.style={};t.each(["x","y","width","height"],function(G){w(G,q,B,R.style,O)})}if(R.type==="text"&&D.style){var q=N.style={};t.each(["x","y"],function($){w($,q,B,R.style,O)}),!B.hasOwnProperty("textFill")&&B.fill&&(B.textFill=B.fill),!B.hasOwnProperty("textStroke")&&B.stroke&&(B.textStroke=B.stroke)}if(R.type!=="group"&&(R.useStyle(B),O)){R.style.opacity=0;var V=B.opacity;V==null&&(V=1),r.initProps(R,{style:{opacity:V}},k,E)}O?R.attr(N):r.updateProps(R,N,k,E),R.attr({z2:D.z2||0,silent:D.silent}),D.styleEmphasis!==!1&&r.setHoverStyle(R,D.styleEmphasis)}function w(R,E,D,k,z){D[R]!=null&&!z&&(E[R]=D[R],D[R]=k[R])}function S(R,E,D,k){var z=R.get("renderItem"),O=R.coordinateSystem,N={};O&&(N=O.prepareCustoms?O.prepareCustoms():y[O.type](O));var B=t.defaults({getWidth:k.getWidth,getHeight:k.getHeight,getZr:k.getZr,getDevicePixelRatio:k.getDevicePixelRatio,value:J,style:ae,styleEmphasis:j,visual:ie,barLayout:re,currentSeriesIndices:me,font:we},N.api||{}),q={context:{},seriesId:R.id,seriesName:R.name,seriesIndex:R.seriesIndex,coordSys:N.coordSys,dataInsideLength:E.count(),encode:A(R.getData())},V,G=!0,$,Z,Y,Q;return function(pe){return V=pe,G=!0,z&&z(t.defaults({dataIndexInside:pe,dataIndex:E.getRawIndex(pe)},q),B)||{}};function ee(pe){pe==null&&(pe=V),G&&($=E.getItemModel(pe),Z=$.getModel(g),Y=$.getModel(m),Q=E.getItemVisual(pe,"color"),G=!1)}function J(pe,ce){return ce==null&&(ce=V),E.get(E.getDimension(pe||0),ce)}function ae(pe,ce){ce==null&&(ce=V),ee(ce);var Se=$.getModel(u).getItemStyle();Q!=null&&(Se.fill=Q);var H=E.getItemVisual(ce,"opacity");return H!=null&&(Se.opacity=H),r.setTextStyle(Se,Z,null,{autoColor:Q,isRectText:!0}),Se.text=Z.getShallow("show")?t.retrieve2(R.getFormattedLabel(ce,"normal"),i(E,ce)):null,pe&&t.extend(Se,pe),Se}function j(pe,ce){ce==null&&(ce=V),ee(ce);var Se=$.getModel(p).getItemStyle();return r.setTextStyle(Se,Y,null,{isRectText:!0},!0),Se.text=Y.getShallow("show")?t.retrieve3(R.getFormattedLabel(ce,"emphasis"),R.getFormattedLabel(ce,"normal"),i(E,ce)):null,pe&&t.extend(Se,pe),Se}function ie(pe,ce){return ce==null&&(ce=V),E.getItemVisual(ce,pe)}function re(pe){if(O.getBaseAxis){var ce=O.getBaseAxis();return d(t.defaults({axis:ce},pe),k)}}function me(){return D.getCurrentSeriesIndices()}function we(pe){return r.getFont(pe,D)}}function A(R){var E={};return t.each(R.dimensions,function(D,k){var z=R.getDimensionInfo(D);if(!z.isExtraCoord){var O=z.coordDim,N=E[O]=E[O]||[];N[z.coordDimIndex]=k}}),E}function T(R,E,D,k,z,O){return R=M(R,E,D,k,z,O),R&&O.setItemGraphicEl(E,R),R}function M(R,E,D,k,z,O){var N=D.type;if(R&&N!==R.__customGraphicType&&(N!=="path"||D.pathData!==R.__customPathData)&&(N!=="image"||D.style.image!==R.__customImagePath)&&(N!=="text"||D.style.text!==R.__customText)&&(z.remove(R),R=null),N!=null){var B=!R;if(!R&&(R=b(D)),x(R,E,D,k,O,B),N==="group"){var q=R.children()||[],V=D.children||[];if(D.diffChildrenByName)C({oldChildren:q,newChildren:V,dataIndex:E,animatableModel:k,group:R,data:O});else{for(var G=0;G<V.length;G++)M(R.childAt(G),E,V[G],k,R,O);for(;G<q.length;G++)q[G]&&R.remove(q[G])}}return z.add(R),R}}function C(R){new o(R.oldChildren,R.newChildren,L,L,R).add(I).update(I).remove(P).execute()}function L(R,E){var D=R&&R.name;return D??_+E}function I(R,E){var D=this.context,k=R!=null?D.newChildren[R]:null,z=E!=null?D.oldChildren[E]:null;M(z,D.dataIndex,k,D.animatableModel,D.group,D.data)}function P(R){var E=this.context,D=E.oldChildren[R];D&&E.group.remove(D)}return _1}var C1={},M1;function Y5(){if(M1)return C1;M1=1;var e=ve,t=F,r=Me,a=le,i=ze;e.registerPreprocessor(function(l){var u=l.graphic;t.isArray(u)?!u[0]||!u[0].elements?l.graphic=[{elements:u}]:l.graphic=[l.graphic[0]]:u&&!u.elements&&(l.graphic=[{elements:[u]}])});var n=e.extendComponentModel({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(l){var u=this.option.elements;this.option.elements=null,n.superApply(this,"mergeOption",arguments),this.option.elements=u},optionUpdated:function(l,u){var p=this.option,g=(u?p:l).elements,m=p.elements=u?[]:p.elements,_=[];this._flatten(g,_);var y=r.mappingToExists(m,_);r.makeIdAndName(y);var b=this._elOptionsToUpdate=[];t.each(y,function(w,S){var A=w.option;A&&(b.push(A),v(w,A),c(m,S,A),s(m[S],A))},this);for(var x=m.length-1;x>=0;x--)m[x]==null?m.splice(x,1):delete m[x].$action},_flatten:function(l,u,p){t.each(l,function(g){if(g){p&&(g.parentOption=p),u.push(g);var m=g.children;g.type==="group"&&m&&this._flatten(m,u,g),delete g.children}},this)},useElOptionsToUpdate:function(){var l=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,l}});e.extendComponentView({type:"graphic",init:function(l,u){this._elMap=t.createHashMap(),this._lastGraphicModel},render:function(l,u,p){l!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=l,this._updateElements(l,p),this._relocate(l,p)},_updateElements:function(l,u){var p=l.useElOptionsToUpdate();if(p){var g=this._elMap,m=this.group;t.each(p,function(_){var y=_.$action,b=_.id,x=g.get(b),w=_.parentId,S=w!=null?g.get(w):m;if(_.type==="text"){var A=_.style;_.hv&&_.hv[1]&&(A.textVerticalAlign=A.textBaseline=null),!A.hasOwnProperty("textFill")&&A.fill&&(A.textFill=A.fill),!A.hasOwnProperty("textStroke")&&A.stroke&&(A.textStroke=A.stroke)}var T=o(_);!y||y==="merge"?x?x.attr(T):h(b,S,T,g):y==="replace"?(d(x,g),h(b,S,T,g)):y==="remove"&&d(x,g);var M=g.get(b);M&&(M.__ecGraphicWidth=_.width,M.__ecGraphicHeight=_.height)})}},_relocate:function(l,u){for(var p=l.option.elements,g=this.group,m=this._elMap,_=p.length-1;_>=0;_--){var y=p[_],b=m.get(y.id);if(b){var x=b.parent,w=x===g?{width:u.getWidth(),height:u.getHeight()}:{width:x.__ecGraphicWidth||0,height:x.__ecGraphicHeight||0};i.positionElement(b,y,w,null,{hv:y.hv,boundingMode:y.bounding})}}},_clear:function(){var l=this._elMap;l.each(function(u){d(u,l)}),this._elMap=t.createHashMap()},dispose:function(){this._clear()}});function h(l,u,p,g){var m=p.type,_=a[m.charAt(0).toUpperCase()+m.slice(1)],y=new _(p);u.add(y),g.set(l,y),y.__ecGraphicId=l}function d(l,u){var p=l&&l.parent;p&&(l.type==="group"&&l.traverse(function(g){d(g,u)}),u.removeKey(l.__ecGraphicId),p.remove(l))}function o(l){return l=t.extend({},l),t.each(["id","parentId","$action","hv","bounding"].concat(i.LOCATION_PARAMS),function(u){delete l[u]}),l}function f(l,u){var p;return t.each(u,function(g){l[g]!=null&&l[g]!=="auto"&&(p=!0)}),p}function v(l,u){var p=l.exist;if(u.id=l.keyInfo.id,!u.type&&p&&(u.type=p.type),u.parentId==null){var g=u.parentOption;g?u.parentId=g.id:p&&(u.parentId=p.parentId)}u.parentOption=null}function c(l,u,p){var g=t.extend({},p),m=l[u],_=p.$action||"merge";_==="merge"?m?(t.merge(m,g,!0),i.mergeLayoutParam(m,g,{ignoreSize:!0}),i.copyLayoutParams(p,m)):l[u]=g:_==="replace"?l[u]=g:_==="remove"&&m&&(l[u]=null)}function s(l,u){l&&(l.hv=u.hv=[f(u,["left","right"]),f(u,["top","bottom"])],l.type==="group"&&(l.width==null&&(l.width=u.width=0),l.height==null&&(l.height=u.height=0)))}return C1}var D1={},L1;function X5(){return L1||(L1=1,rn(),VT(),on()),D1}var I1={},P1={},Qv,R1;function qT(){if(R1)return Qv;R1=1;var e=ve,t=F,r=mt,a=Me,i=a.isNameSpecified,n=e.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(d,o,f){this.mergeDefaultAndTheme(d,f),d.selected=d.selected||{}},mergeOption:function(d){n.superCall(this,"mergeOption",d)},optionUpdated:function(){this._updateData(this.ecModel);var d=this._data;if(d[0]&&this.get("selectedMode")==="single"){for(var o=!1,f=0;f<d.length;f++){var v=d[f].get("name");if(this.isSelected(v)){this.select(v),o=!0;break}}!o&&this.select(d[0].get("name"))}},_updateData:function(d){var o=[],f=[];d.eachRawSeries(function(s){var l=s.name;f.push(l);var u;if(s.legendDataProvider){var p=s.legendDataProvider(),g=p.mapArray(p.getName);d.isSeriesFiltered(s)||(f=f.concat(g)),g.length?o=o.concat(g):u=!0}else u=!0;u&&i(s)&&o.push(s.name)}),this._availableNames=f;var v=this.get("data")||o,c=t.map(v,function(s){return(typeof s=="string"||typeof s=="number")&&(s={name:s}),new r(s,this,this.ecModel)},this);this._data=c},getData:function(){return this._data},select:function(d){var o=this.option.selected,f=this.get("selectedMode");if(f==="single"){var v=this._data;t.each(v,function(c){o[c.get("name")]=!1})}o[d]=!0},unSelect:function(d){this.get("selectedMode")!=="single"&&(this.option.selected[d]=!1)},toggleSelected:function(d){var o=this.option.selected;o.hasOwnProperty(d)||(o[d]=!0),this[o[d]?"unSelect":"select"](d)},isSelected:function(d){var o=this.option.selected;return!(o.hasOwnProperty(d)&&!o[d])&&t.indexOf(this._availableNames,d)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}}),h=n;return Qv=h,Qv}var E1={},k1;function K5(){if(k1)return E1;k1=1;var e=ve,t=F;function r(a,i,n){var h={},d=a==="toggleSelected",o;return n.eachComponent("legend",function(f){d&&o!=null?f[o?"select":"unSelect"](i.name):(f[a](i.name),o=f.isSelected(i.name));var v=f.getData();t.each(v,function(c){var s=c.get("name");if(!(s===`
`||s==="")){var l=f.isSelected(s);h.hasOwnProperty(s)?h[s]=h[s]&&l:h[s]=l}})}),{name:i.name,selected:h}}return e.registerAction("legendToggleSelect","legendselectchanged",t.curry(r,"toggleSelected")),e.registerAction("legendSelect","legendselected",t.curry(r,"select")),e.registerAction("legendUnSelect","legendunselected",t.curry(r,"unSelect")),E1}var Vn={},z1;function HT(){if(z1)return Vn;z1=1;var e=ze,t=e.getLayoutRect,r=e.box,a=e.positionElement,i=Oe,n=le;function h(o,f,v){var c=f.getBoxLayoutParams(),s=f.get("padding"),l={width:v.getWidth(),height:v.getHeight()},u=t(c,l,s);r(f.get("orient"),o,f.get("itemGap"),u.width,u.height),a(o,c,l,s)}function d(s,f){var v=i.normalizeCssArray(f.get("padding")),c=f.getItemStyle(["color","opacity"]);c.fill=f.get("backgroundColor");var s=new n.Rect({shape:{x:s.x-v[3],y:s.y-v[0],width:s.width+v[1]+v[3],height:s.height+v[0]+v[2],r:f.get("borderRadius")},style:c,silent:!0,z2:-1});return s}return Vn.layout=h,Vn.makeBackground=d,Vn}var jv,O1;function GT(){if(O1)return jv;O1=1;var e=ve,t=F,r=Ht(),a=r.createSymbol,i=le,n=HT(),h=n.makeBackground,d=ze,o=t.curry,f=t.each,v=i.Group,c=e.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new v),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(p,g,m){if(this.resetInner(),!!p.get("show",!0)){var _=p.get("align");(!_||_==="auto")&&(_=p.get("left")==="right"&&p.get("orient")==="vertical"?"right":"left"),this.renderInner(_,p,g,m);var y=p.getBoxLayoutParams(),b={width:m.getWidth(),height:m.getHeight()},x=p.get("padding"),w=d.getLayoutRect(y,b,x),S=this.layoutInner(p,_,w),A=d.getLayoutRect(t.defaults({width:S.width,height:S.height},y),b,x);this.group.attr("position",[A.x-S.x,A.y-S.y]),this.group.add(this._backgroundEl=h(S,p))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(p,g,m,_){var y=this.getContentGroup(),b=t.createHashMap(),x=g.get("selectedMode"),w=[];m.eachRawSeries(function(S){!S.get("legendHoverLink")&&w.push(S.id)}),f(g.getData(),function(S,A){var T=S.get("name");if(!this.newlineDisabled&&(T===""||T===`
`)){y.add(new v({newline:!0}));return}var M=m.getSeriesByName(T)[0];if(!b.get(T))if(M){var C=M.getData(),L=C.getVisual("color");typeof L=="function"&&(L=L(M.getDataParams(0)));var I=C.getVisual("legendSymbol")||"roundRect",P=C.getVisual("symbol"),R=this._createItem(T,A,S,g,I,P,p,L,x);R.on("click",o(s,T,_)).on("mouseover",o(l,M,null,_,w)).on("mouseout",o(u,M,null,_,w)),b.set(T,!0)}else m.eachRawSeries(function(E){if(!b.get(T)&&E.legendDataProvider){var D=E.legendDataProvider(),k=D.indexOfName(T);if(k<0)return;var z=D.getItemVisual(k,"color"),O="roundRect",N=this._createItem(T,A,S,g,O,null,p,z,x);N.on("click",o(s,T,_)).on("mouseover",o(l,E,T,_,w)).on("mouseout",o(u,E,T,_,w)),b.set(T,!0)}},this)},this)},_createItem:function(p,g,m,_,y,b,x,w,S){var A=_.get("itemWidth"),T=_.get("itemHeight"),M=_.get("inactiveColor"),C=_.get("symbolKeepAspect"),L=_.isSelected(p),I=new v,P=m.getModel("textStyle"),R=m.get("icon"),E=m.getModel("tooltip"),D=E.parentModel;if(y=R||y,I.add(a(y,0,0,A,T,L?w:M,C??!0)),!R&&b&&(b!==y||b=="none")){var k=T*.8;b==="none"&&(b="circle"),I.add(a(b,(A-k)/2,(T-k)/2,k,k,L?w:M,C??!0))}var z=x==="left"?A+5:-5,O=x,N=_.get("formatter"),B=p;typeof N=="string"&&N?B=N.replace("{name}",p??""):typeof N=="function"&&(B=N(p)),I.add(new i.Text({style:i.setTextStyle({},P,{text:B,x:z,y:T/2,textFill:L?P.getTextColor():M,textAlign:O,textVerticalAlign:"middle"})}));var q=new i.Rect({shape:I.getBoundingRect(),invisible:!0,tooltip:E.get("show")?t.extend({content:p,formatter:D.get("formatter",!0)||function(){return p},formatterParams:{componentType:"legend",legendIndex:_.componentIndex,name:p,$vars:["name"]}},E.option):null});return I.add(q),I.eachChild(function(V){V.silent=!0}),q.silent=!S,this.getContentGroup().add(I),i.setHoverStyle(I),I.__legendDataIndex=g,I},layoutInner:function(p,g,m){var _=this.getContentGroup();d.box(p.get("orient"),_,p.get("itemGap"),m.width,m.height);var y=_.getBoundingRect();return _.attr("position",[-y.x,-y.y]),this.group.getBoundingRect()}});function s(p,g){g.dispatchAction({type:"legendToggleSelect",name:p})}function l(p,g,m,_){var y=m.getZr().storage.getDisplayList()[0];y&&y.useHoverLayer||m.dispatchAction({type:"highlight",seriesName:p.name,name:g,excludeSeriesId:_})}function u(p,g,m,_){var y=m.getZr().storage.getDisplayList()[0];y&&y.useHoverLayer||m.dispatchAction({type:"downplay",seriesName:p.name,name:g,excludeSeriesId:_})}return jv=c,jv}var Jv,N1;function Q5(){if(N1)return Jv;N1=1;function e(t){var r=t.findComponents({mainType:"legend"});r&&r.length&&t.filterSeries(function(a){for(var i=0;i<r.length;i++)if(!r[i].isSelected(a.name))return!1;return!0})}return Jv=e,Jv}var V1;function j5(){if(V1)return P1;V1=1;var e=ve;qT(),K5(),GT();var t=Q5(),r=vt;return e.registerProcessor(t),r.registerSubTypeDefaulter("legend",function(){return"plain"}),P1}var eh,B1;function J5(){if(B1)return eh;B1=1;var e=qT(),t=ze,r=t.mergeLayoutParam,a=t.getLayoutParams,i=e.extend({type:"legend.scroll",setScrollDataIndex:function(d){this.option.scrollDataIndex=d},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(d,o,f,v){var c=a(d);i.superCall(this,"init",d,o,f,v),n(this,d,c)},mergeOption:function(d,o){i.superCall(this,"mergeOption",d,o),n(this,this.option,d)},getOrient:function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}});function n(d,o,f){var v=d.getOrient(),c=[1,1];c[v.index]=0,r(o,f,{type:"box",ignoreSize:c})}var h=i;return eh=h,eh}var th,q1;function eq(){if(q1)return th;q1=1;var e=F,t=le,r=ze,a=GT(),i=t.Group,n=["width","height"],h=["x","y"],d=a.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){d.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new i),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new i),this._showController},resetInner:function(){d.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(f,v,c,s){var l=this;d.superCall(this,"renderInner",f,v,c,s);var u=this._controllerGroup,p=v.get("pageIconSize",!0);e.isArray(p)||(p=[p,p]),m("pagePrev",0);var g=v.getModel("pageTextStyle");u.add(new t.Text({name:"pageText",style:{textFill:g.getTextColor(),font:g.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),m("pageNext",1);function m(_,y){var b=_+"DataIndex",x=t.createIcon(v.get("pageIcons",!0)[v.getOrient().name][y],{onclick:e.bind(l._pageGo,l,b,v,s)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});x.name=_,u.add(x)}},layoutInner:function(f,v,c){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup,p=f.getOrient().index,g=n[p],m=n[1-p],_=h[1-p];r.box(f.get("orient"),s,f.get("itemGap"),p?c.width:null,p?null:c.height),r.box("horizontal",u,f.get("pageButtonItemGap",!0));var y=s.getBoundingRect(),b=u.getBoundingRect(),x=this._showController=y[g]>c[g],w=[-y.x,-y.y];w[p]=s.position[p];var S=[0,0],A=[-b.x,-b.y],T=e.retrieve2(f.get("pageButtonGap",!0),f.get("itemGap",!0));if(x){var M=f.get("pageButtonPosition",!0);M==="end"?A[p]+=c[g]-b[g]:S[p]+=b[g]+T}A[1-p]+=y[m]/2-b[m]/2,s.attr("position",w),l.attr("position",S),u.attr("position",A);var C=this.group.getBoundingRect(),C={x:0,y:0};if(C[g]=x?c[g]:y[g],C[m]=Math.max(y[m],b[m]),C[_]=Math.min(0,b[_]+A[1-p]),l.__rectSize=c[g],x){var L={x:0,y:0};L[g]=Math.max(c[g]-b[g]-T,0),L[m]=C[m],l.setClipPath(new t.Rect({shape:L})),l.__rectSize=L[g]}else u.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var I=this._getPageInfo(f);return I.pageIndex!=null&&t.updateProps(s,{position:I.contentPosition},x?f:!1),this._updatePageInfoView(f,I),C},_pageGo:function(f,v,c){var s=this._getPageInfo(v)[f];s!=null&&c.dispatchAction({type:"legendScroll",scrollDataIndex:s,legendId:v.id})},_updatePageInfoView:function(f,v){var c=this._controllerGroup;e.each(["pagePrev","pageNext"],function(m){var _=v[m+"DataIndex"]!=null,y=c.childOfName(m);y&&(y.setStyle("fill",_?f.get("pageIconColor",!0):f.get("pageIconInactiveColor",!0)),y.cursor=_?"pointer":"default")});var s=c.childOfName("pageText"),l=f.get("pageFormatter"),u=v.pageIndex,p=u!=null?u+1:0,g=v.pageCount;s&&l&&s.setStyle("text",e.isString(l)?l.replace("{current}",p).replace("{total}",g):l({current:p,total:g}))},_getPageInfo:function(f){var v=f.get("scrollDataIndex",!0),c=this.getContentGroup(),s=c.getBoundingRect(),l=this._containerGroup.__rectSize,u=f.getOrient().index,p=n[u],g=n[1-u],m=h[u],_=c.position.slice(),y,b,x,w;this._showController?c.eachChild(function(E){E.__legendDataIndex===v&&(w=E)}):w=c.childAt(0);var S=l?Math.ceil(s[p]/l):0;if(w){var A=w.getBoundingRect(),T=w.position[u]+A[m];_[u]=-T-s[m],y=Math.floor(S*(T+A[m]+l/2)/s[p]),y=s[p]&&S?Math.max(0,Math.min(S-1,y)):-1;var M={x:0,y:0};M[p]=l,M[g]=s[g],M[m]=-_[u]-s[m];var C,L=c.children();if(c.eachChild(function(E,D){var k=R(E);k.intersect(M)&&(C==null&&(C=D),x=E.__legendDataIndex),D===L.length-1&&k[m]+k[p]<=M[m]+M[p]&&(x=null)}),C!=null){var I=L[C],P=R(I);if(M[m]=P[m]+P[p]-M[p],C<=0&&P[m]>=M[m])b=null;else{for(;C>0&&R(L[C-1]).intersect(M);)C--;b=L[C].__legendDataIndex}}}return{contentPosition:_,pageIndex:y,pageCount:S,pagePrevDataIndex:b,pageNextDataIndex:x};function R(E){var D=E.getBoundingRect().clone();return D[m]+=E.position[u],D}}}),o=d;return th=o,th}var H1={},G1;function tq(){if(G1)return H1;G1=1;var e=ve;return e.registerAction("legendScroll","legendscroll",function(t,r){var a=t.scrollDataIndex;a!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(a)})}),H1}var F1;function rq(){return F1||(F1=1,j5(),J5(),eq(),tq()),I1}var $1={},rh,U1;function aq(){if(U1)return rh;U1=1;var e=ve,t=e.extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});return rh=t,rh}var ah,W1;function iq(){if(W1)return ah;W1=1;var e=F,t=ut,r=wt,a=lt,i=Oe,n=e.each,h=i.toCamelCase,d=["","-webkit-","-moz-","-o-"],o="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";function f(u){var p="cubic-bezier(0.23, 1, 0.32, 1)",g="left "+u+"s "+p+",top "+u+"s "+p;return e.map(d,function(m){return m+"transition:"+g}).join(";")}function v(u){var p=[],g=u.get("fontSize"),m=u.getTextColor();return m&&p.push("color:"+m),p.push("font:"+u.getFont()),g&&p.push("line-height:"+Math.round(g*3/2)+"px"),n(["decoration","align"],function(_){var y=u.get(_);y&&p.push("text-"+_+":"+y)}),p.join(";")}function c(u){var p=[],g=u.get("transitionDuration"),m=u.get("backgroundColor"),_=u.getModel("textStyle"),y=u.get("padding");return g&&p.push(f(g)),m&&(a.canvasSupported?p.push("background-Color:"+m):(p.push("background-Color:#"+t.toHex(m)),p.push("filter:alpha(opacity=70)"))),n(["width","color","radius"],function(b){var x="border-"+b,w=h(x),S=u.get(w);S!=null&&p.push(x+":"+S+(b==="color"?"":"px"))}),p.push(v(_)),y!=null&&p.push("padding:"+i.normalizeCssArray(y).join("px ")+"px"),p.join(";")+";"}function s(u,p){if(a.wxa)return null;var g=document.createElement("div"),m=this._zr=p.getZr();this.el=g,this._x=p.getWidth()/2,this._y=p.getHeight()/2,u.appendChild(g),this._container=u,this._show=!1,this._hideTimeout;var _=this;g.onmouseenter=function(){_._enterable&&(clearTimeout(_._hideTimeout),_._show=!0),_._inContent=!0},g.onmousemove=function(y){if(y=y||window.event,!_._enterable){var b=m.handler;r.normalizeEvent(u,y,!0),b.dispatch("mousemove",y)}},g.onmouseleave=function(){_._enterable&&_._show&&_.hideLater(_._hideDelay),_._inContent=!1}}s.prototype={constructor:s,_enterable:!0,update:function(){var u=this._container,p=u.currentStyle||document.defaultView.getComputedStyle(u),g=u.style;g.position!=="absolute"&&p.position!=="absolute"&&(g.position="relative")},show:function(u){clearTimeout(this._hideTimeout);var p=this.el;p.style.cssText=o+c(u)+";left:"+this._x+"px;top:"+this._y+"px;"+(u.get("extraCssText")||""),p.style.display=p.innerHTML?"block":"none",this._show=!0},setContent:function(u){this.el.innerHTML=u??""},setEnterable:function(u){this._enterable=u},getSize:function(){var u=this.el;return[u.clientWidth,u.clientHeight]},moveTo:function(u,p){var g=this._zr,m;g&&g.painter&&(m=g.painter.getViewportRootOffset())&&(u+=m.offsetLeft,p+=m.offsetTop);var _=this.el.style;_.left=u+"px",_.top=p+"px",this._x=u,this._y=p},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(u){this._show&&!(this._inContent&&this._enterable)&&(u?(this._hideDelay=u,this._show=!1,this._hideTimeout=setTimeout(e.bind(this.hide,this),u)):this.hide())},isShow:function(){return this._show}};var l=s;return ah=l,ah}var ih,Z1;function nq(){if(Z1)return ih;Z1=1;var e=ve,t=F,r=lt,a=iq(),i=Oe,n=Ie(),h=le,d=OT(),o=ze,f=mt,v=NT(),c=jt(),s=$o(),l=t.bind,u=t.each,p=n.parsePercent,g=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),m=e.extendComponentView({type:"tooltip",init:function(T,M){if(!r.node){var C=new a(M.getDom(),M);this._tooltipContent=C}},render:function(T,M,C){if(!(r.node||r.wxa)){this.group.removeAll(),this._tooltipModel=T,this._ecModel=M,this._api=C,this._lastDataByCoordSys=null,this._alwaysShowContent=T.get("alwaysShowContent");var L=this._tooltipContent;L.update(),L.setEnterable(T.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var T=this._tooltipModel,M=T.get("triggerOn");v.register("itemTooltip",this._api,l(function(C,L,I){M!=="none"&&(M.indexOf(C)>=0?this._tryShow(L,I):C==="leave"&&this._hide(I))},this))},_keepShow:function(){var T=this._tooltipModel,M=this._ecModel,C=this._api;if(this._lastX!=null&&this._lastY!=null&&T.get("triggerOn")!=="none"){var L=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){L.manuallyShowTip(T,M,C,{x:L._lastX,y:L._lastY})})}},manuallyShowTip:function(T,M,C,L){if(!(L.from===this.uid||r.node)){var I=y(L,C);this._ticket="";var P=L.dataByCoordSys;if(L.tooltip&&L.x!=null&&L.y!=null){var R=g;R.position=[L.x,L.y],R.update(),R.tooltip=L.tooltip,this._tryShow({offsetX:L.x,offsetY:L.y,target:R},I)}else if(P)this._tryShow({offsetX:L.x,offsetY:L.y,position:L.position,event:{},dataByCoordSys:L.dataByCoordSys,tooltipOption:L.tooltipOption},I);else if(L.seriesIndex!=null){if(this._manuallyAxisShowTip(T,M,C,L))return;var E=d(L,M),D=E.point[0],k=E.point[1];D!=null&&k!=null&&this._tryShow({offsetX:D,offsetY:k,position:L.position,target:E.el,event:{}},I)}else L.x!=null&&L.y!=null&&(C.dispatchAction({type:"updateAxisPointer",x:L.x,y:L.y}),this._tryShow({offsetX:L.x,offsetY:L.y,position:L.position,target:C.getZr().findHover(L.x,L.y).target,event:{}},I))}},manuallyHideTip:function(T,M,C,L){var I=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&I.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,L.from!==this.uid&&this._hide(y(L,C))},_manuallyAxisShowTip:function(k,M,C,L){var I=L.seriesIndex,P=L.dataIndex,R=M.getComponent("axisPointer").coordSysAxesInfo;if(!(I==null||P==null||R==null)){var E=M.getSeriesByIndex(I);if(E){var D=E.getData(),k=_([D.getItemModel(P),E,(E.coordinateSystem||{}).model,k]);if(k.get("trigger")==="axis")return C.dispatchAction({type:"updateAxisPointer",seriesIndex:I,dataIndex:P,position:L.position}),!0}}},_tryShow:function(T,M){var C=T.target,L=this._tooltipModel;if(L){this._lastX=T.offsetX,this._lastY=T.offsetY;var I=T.dataByCoordSys;I&&I.length?this._showAxisTooltip(I,T):C&&C.dataIndex!=null?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(T,C,M)):C&&C.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(T,C,M)):(this._lastDataByCoordSys=null,this._hide(M))}},_showOrMove:function(T,M){var C=T.get("showDelay");M=t.bind(M,this),clearTimeout(this._showTimout),C>0?this._showTimout=setTimeout(M,C):M()},_showAxisTooltip:function(T,M){var C=this._ecModel,L=this._tooltipModel,I=[M.offsetX,M.offsetY],P=[],R=[],E=_([M.tooltipOption,L]);u(T,function(k){u(k.dataByAxis,function(z){var O=C.getComponent(z.axisDim+"Axis",z.axisIndex),N=z.value,B=[];if(!(!O||N==null)){var q=s.getValueLabel(N,O.axis,C,z.seriesDataIndices,z.valueLabelOpt);t.each(z.seriesDataIndices,function(G){var $=C.getSeriesByIndex(G.seriesIndex),Z=G.dataIndexInside,Y=$&&$.getDataParams(Z);Y.axisDim=z.axisDim,Y.axisIndex=z.axisIndex,Y.axisType=z.axisType,Y.axisId=z.axisId,Y.axisValue=c.getAxisRawValue(O.axis,N),Y.axisValueLabel=q,Y&&(R.push(Y),B.push($.formatTooltip(Z,!0)))});var V=q;P.push((V?i.encodeHTML(V)+"<br />":"")+B.join("<br />"))}})},this),P.reverse(),P=P.join("<br /><br />");var D=M.position;this._showOrMove(E,function(){this._updateContentNotChangedOnAxis(T)?this._updatePosition(E,D,I[0],I[1],this._tooltipContent,R):this._showTooltipContent(E,P,R,Math.random(),I[0],I[1],D)})},_showSeriesItemTooltip:function(T,M,C){var L=this._ecModel,I=M.seriesIndex,P=L.getSeriesByIndex(I),R=M.dataModel||P,E=M.dataIndex,D=M.dataType,k=R.getData(),z=_([k.getItemModel(E),R,P&&(P.coordinateSystem||{}).model,this._tooltipModel]),O=z.get("trigger");if(!(O!=null&&O!=="item")){var N=R.getDataParams(E,D),B=R.formatTooltip(E,!1,D),q="item_"+R.name+"_"+E;this._showOrMove(z,function(){this._showTooltipContent(z,B,N,q,T.offsetX,T.offsetY,T.position,T.target)}),C({type:"showTip",dataIndexInside:E,dataIndex:k.getRawIndex(E),seriesIndex:I,from:this.uid})}},_showComponentItemTooltip:function(T,M,C){var L=M.tooltip;if(typeof L=="string"){var I=L;L={content:I,formatter:I}}var P=new f(L,this._tooltipModel,this._ecModel),R=P.get("content"),E=Math.random();this._showOrMove(P,function(){this._showTooltipContent(P,R,P.get("formatterParams")||{},E,T.offsetX,T.offsetY,T.position,M)}),C({type:"showTip",from:this.uid})},_showTooltipContent:function(T,M,C,L,I,P,R,E){if(this._ticket="",!(!T.get("showContent")||!T.get("show"))){var D=this._tooltipContent,k=T.get("formatter");R=R||T.get("position");var z=M;if(k&&typeof k=="string")z=i.formatTpl(k,C,!0);else if(typeof k=="function"){var O=l(function(N,B){N===this._ticket&&(D.setContent(B),this._updatePosition(T,R,I,P,D,C,E))},this);this._ticket=L,z=k(C,L,O)}D.setContent(z),D.show(T),this._updatePosition(T,R,I,P,D,C,E)}},_updatePosition:function(T,M,C,L,I,P,R){var E=this._api.getWidth(),D=this._api.getHeight();M=M||T.get("position");var k=I.getSize(),z=T.get("align"),O=T.get("verticalAlign"),N=R&&R.getBoundingRect().clone();if(R&&N.applyTransform(R.transform),typeof M=="function"&&(M=M([C,L],P,I.el,N,{viewSize:[E,D],contentSize:k.slice()})),t.isArray(M))C=p(M[0],E),L=p(M[1],D);else if(t.isObject(M)){M.width=k[0],M.height=k[1];var B=o.getLayoutRect(M,{width:E,height:D});C=B.x,L=B.y,z=null,O=null}else if(typeof M=="string"&&R){var q=S(M,N,k);C=q[0],L=q[1]}else{var q=b(C,L,I.el,E,D,z?null:20,O?null:20);C=q[0],L=q[1]}if(z&&(C-=A(z)?k[0]/2:z==="right"?k[0]:0),O&&(L-=A(O)?k[1]/2:O==="bottom"?k[1]:0),T.get("confine")){var q=x(C,L,I.el,E,D);C=q[0],L=q[1]}I.moveTo(C,L)},_updateContentNotChangedOnAxis:function(T){var M=this._lastDataByCoordSys,C=!!M&&M.length===T.length;return C&&u(M,function(L,I){var P=L.dataByAxis||{},R=T[I]||{},E=R.dataByAxis||[];C&=P.length===E.length,C&&u(P,function(D,k){var z=E[k]||{},O=D.seriesDataIndices||[],N=z.seriesDataIndices||[];C&=D.value===z.value&&D.axisType===z.axisType&&D.axisId===z.axisId&&O.length===N.length,C&&u(O,function(B,q){var V=N[q];C&=B.seriesIndex===V.seriesIndex&&B.dataIndex===V.dataIndex})})}),this._lastDataByCoordSys=T,!!C},_hide:function(T){this._lastDataByCoordSys=null,T({type:"hideTip",from:this.uid})},dispose:function(T,M){r.node||r.wxa||(this._tooltipContent.hide(),v.unregister("itemTooltip",M))}});function _(T){for(var M=T.pop();T.length;){var C=T.pop();C&&(f.isInstance(C)&&(C=C.get("tooltip",!0)),typeof C=="string"&&(C={formatter:C}),M=new f(C,M,M.ecModel))}return M}function y(T,M){return T.dispatchAction||t.bind(M.dispatchAction,M)}function b(T,M,C,L,I,P,R){var E=w(C),D=E.width,k=E.height;return P!=null&&(T+D+P>L?T-=D+P:T+=P),R!=null&&(M+k+R>I?M-=k+R:M+=R),[T,M]}function x(T,M,C,L,I){var P=w(C),R=P.width,E=P.height;return T=Math.min(T+R,L)-R,M=Math.min(M+E,I)-E,T=Math.max(T,0),M=Math.max(M,0),[T,M]}function w(T){var M=T.clientWidth,C=T.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var L=document.defaultView.getComputedStyle(T);L&&(M+=parseInt(L.paddingLeft,10)+parseInt(L.paddingRight,10)+parseInt(L.borderLeftWidth,10)+parseInt(L.borderRightWidth,10),C+=parseInt(L.paddingTop,10)+parseInt(L.paddingBottom,10)+parseInt(L.borderTopWidth,10)+parseInt(L.borderBottomWidth,10))}return{width:M,height:C}}function S(T,M,C){var L=C[0],I=C[1],P=5,R=0,E=0,D=M.width,k=M.height;switch(T){case"inside":R=M.x+D/2-L/2,E=M.y+k/2-I/2;break;case"top":R=M.x+D/2-L/2,E=M.y-I-P;break;case"bottom":R=M.x+D/2-L/2,E=M.y+k+P;break;case"left":R=M.x-L-P,E=M.y+k/2-I/2;break;case"right":R=M.x+D+P,E=M.y+k/2-I/2}return[R,E]}function A(T){return T==="center"||T==="middle"}return ih=m,ih}var Y1;function oq(){if(Y1)return $1;Y1=1;var e=ve;return on(),aq(),nq(),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),$1}var X1={},nh,K1;function sq(){if(K1)return nh;K1=1;var e=F,t=Ie(),r=t.parsePercent,a=Dr(),i=a.isDimensionStacked;function n(v){return v.get("stack")||"__ec_stack_"+v.seriesIndex}function h(v){return v.dim}function d(v,c,s){var l=s.getWidth(),u=s.getHeight(),p={},g=o(e.filter(c.getSeriesByType(v),function(m){return!c.isSeriesFiltered(m)&&m.coordinateSystem&&m.coordinateSystem.type==="polar"}));c.eachSeriesByType(v,function(m){if(m.coordinateSystem.type==="polar"){var _=m.getData(),y=m.coordinateSystem,b=y.getBaseAxis(),x=n(m),w=g[h(b)][x],S=w.offset,A=w.width,T=y.getOtherAxis(b),M=m.get("center")||["50%","50%"],C=r(M[0],l),L=r(M[1],u),I=m.get("barMinHeight")||0,P=m.get("barMinAngle")||0;p[x]=p[x]||[];for(var R=_.mapDimension(T.dim),E=_.mapDimension(b.dim),D=i(_,R),k=T.getExtent()[0],z=0,O=_.count();z<O;z++){var N=_.get(R,z),B=_.get(E,z);if(!isNaN(N)){var q=N>=0?"p":"n",V=k;D&&(p[x][B]||(p[x][B]={p:k,n:k}),V=p[x][B][q]);var G,$,Z,Y;if(T.dim==="radius"){var Q=T.dataToRadius(N)-k,ee=b.dataToAngle(B);Math.abs(Q)<I&&(Q=(Q<0?-1:1)*I),G=V,$=V+Q,Z=ee-S,Y=Z-A,D&&(p[x][B][q]=$)}else{var J=T.dataToAngle(N,!0)-k,ae=b.dataToRadius(B);Math.abs(J)<P&&(J=(J<0?-1:1)*P),G=ae+S,$=G+A,Z=V,Y=V+J,D&&(p[x][B][q]=Y)}_.setItemLayout(z,{cx:C,cy:L,r0:G,r:$,startAngle:-Z*Math.PI/180,endAngle:-Y*Math.PI/180})}}}},this)}function o(v,c){var s={};e.each(v,function(u,p){var g=u.getData(),m=u.coordinateSystem,_=m.getBaseAxis(),y=_.getExtent(),b=_.type==="category"?_.getBandWidth():Math.abs(y[1]-y[0])/g.count(),x=s[h(_)]||{bandWidth:b,remainedWidth:b,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},w=x.stacks;s[h(_)]=x;var S=n(u);w[S]||x.autoWidthCount++,w[S]=w[S]||{width:0,maxWidth:0};var A=r(u.get("barWidth"),b),T=r(u.get("barMaxWidth"),b),M=u.get("barGap"),C=u.get("barCategoryGap");A&&!w[S].width&&(A=Math.min(x.remainedWidth,A),w[S].width=A,x.remainedWidth-=A),T&&(w[S].maxWidth=T),M!=null&&(x.gap=M),C!=null&&(x.categoryGap=C)});var l={};return e.each(s,function(u,p){l[p]={};var g=u.stacks,m=u.bandWidth,_=r(u.categoryGap,m),y=r(u.gap,1),b=u.remainedWidth,x=u.autoWidthCount,w=(b-_)/(x+(x-1)*y);w=Math.max(w,0),e.each(g,function(M,C){var L=M.maxWidth;L&&L<w&&(L=Math.min(L,b),M.width&&(L=Math.min(L,M.width)),b-=L,M.width=L,x--)}),w=(b-_)/(x+(x-1)*y),w=Math.max(w,0);var S=0,A;e.each(g,function(M,C){M.width||(M.width=w),A=M,S+=M.width*(1+y)}),A&&(S-=A.width*y);var T=-S/2;e.each(g,function(M,C){l[p][C]=l[p][C]||{offset:T,width:M.width},T+=M.width*(1+y)})}),l}var f=d;return nh=f,nh}var Q1={},oh,j1;function lq(){if(j1)return oh;j1=1;var e=F,t=Yr();function r(i,n){t.call(this,"radius",i,n),this.type="category"}r.prototype={constructor:r,pointToData:function(i,n){return this.polar.pointToData(i,n)[this.dim==="radius"?0:1]},dataToRadius:t.prototype.dataToCoord,radiusToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return oh=a,oh}var sh,J1;function uq(){if(J1)return sh;J1=1;var e=F,t=Yr();function r(i,n){n=n||[0,360],t.call(this,"angle",i,n),this.type="category"}r.prototype={constructor:r,pointToData:function(i,n){return this.polar.pointToData(i,n)[this.dim==="radius"?0:1]},dataToAngle:t.prototype.dataToCoord,angleToData:t.prototype.coordToData},e.inherits(r,t);var a=r;return sh=a,sh}var lh,ex;function vq(){if(ex)return lh;ex=1;var e=lq(),t=uq(),r=function(i){this.name=i||"",this.cx=0,this.cy=0,this._radiusAxis=new e,this._angleAxis=new t,this._radiusAxis.polar=this._angleAxis.polar=this};r.prototype={type:"polar",axisPointerEnabled:!0,constructor:r,dimensions:["radius","angle"],model:null,containPoint:function(i){var n=this.pointToCoord(i);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},containData:function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},getAxis:function(i){return this["_"+i+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(i){var n=[],h=this._angleAxis,d=this._radiusAxis;return h.scale.type===i&&n.push(h),d.scale.type===i&&n.push(d),n},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(i){var n=this._angleAxis;return i===n?this._radiusAxis:n},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(i){var n=i!=null&&i!=="auto"?this.getAxis(i):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},dataToPoint:function(i,n){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],n),this._angleAxis.dataToAngle(i[1],n)])},pointToData:function(i,n){var h=this.pointToCoord(i);return[this._radiusAxis.radiusToData(h[0],n),this._angleAxis.angleToData(h[1],n)]},pointToCoord:function(i){var n=i[0]-this.cx,h=i[1]-this.cy,d=this.getAngleAxis(),o=d.getExtent(),f=Math.min(o[0],o[1]),v=Math.max(o[0],o[1]);d.inverse?f=v-360:v=f+360;var c=Math.sqrt(n*n+h*h);n/=c,h/=c;for(var s=Math.atan2(-h,n)/Math.PI*180,l=s<f?1:-1;s<f||s>v;)s+=l*360;return[c,s]},coordToPoint:function(i){var n=i[0],h=i[1]/180*Math.PI,d=Math.cos(h)*n+this.cx,o=-Math.sin(h)*n+this.cy;return[d,o]}};var a=r;return lh=a,lh}var tx={},rx;function hq(){if(rx)return tx;rx=1;var e=F,t=vt,r=Bo(),a=si(),i=t.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});e.merge(i.prototype,a);var n={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};function h(d,o){return o.type||(o.data?"category":"value")}return r("angle",i,h,n.angle),r("radius",i,h,n.radius),tx}var uh,ax;function cq(){if(ax)return uh;ax=1;var e=ve;hq();var t=e.extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(r){var a,i=this.ecModel;return i.eachComponent(r,function(n){n.getCoordSysModel()===this&&(a=n)},this),a},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});return uh=t,uh}var ix;function ld(){if(ix)return Q1;ix=1;var e=F,t=vq(),r=Ie(),a=r.parsePercent,i=jt(),n=i.createScaleByModel,h=i.niceScaleExtent,d=cr,o=Dr(),f=o.getStackedDimension;cq();function v(u,p,g){var m=p.get("center"),_=g.getWidth(),y=g.getHeight();u.cx=a(m[0],_),u.cy=a(m[1],y);var b=u.getRadiusAxis(),x=Math.min(_,y)/2,w=a(p.get("radius"),x);b.inverse?b.setExtent(w,0):b.setExtent(0,w)}function c(u,p){var g=this,m=g.getAngleAxis(),_=g.getRadiusAxis();if(m.scale.setExtent(1/0,-1/0),_.scale.setExtent(1/0,-1/0),u.eachSeries(function(x){if(x.coordinateSystem===g){var w=x.getData();e.each(w.mapDimension("radius",!0),function(S){_.scale.unionExtentFromData(w,f(w,S))}),e.each(w.mapDimension("angle",!0),function(S){m.scale.unionExtentFromData(w,f(w,S))})}}),h(m.scale,m.model),h(_.scale,_.model),m.type==="category"&&!m.onBand){var y=m.getExtent(),b=360/m.scale.count();m.inverse?y[1]+=b:y[1]-=b,m.setExtent(y[0],y[1])}}function s(u,p){if(u.type=p.get("type"),u.scale=n(p),u.onBand=p.get("boundaryGap")&&u.type==="category",u.inverse=p.get("inverse"),p.mainType==="angleAxis"){u.inverse^=p.get("clockwise");var g=p.get("startAngle");u.setExtent(g,g+(u.inverse?-360:360))}p.axis=u,u.model=p}var l={dimensions:t.prototype.dimensions,create:function(u,p){var g=[];return u.eachComponent("polar",function(m,_){var y=new t(_);y.update=c;var b=y.getRadiusAxis(),x=y.getAngleAxis(),w=m.findAxisModel("radiusAxis"),S=m.findAxisModel("angleAxis");s(b,w),s(x,S),v(y,m,p),g.push(y),m.coordinateSystem=y,y.model=m}),u.eachSeries(function(m){if(m.get("coordinateSystem")==="polar"){var _=u.queryComponents({mainType:"polar",index:m.get("polarIndex"),id:m.get("polarId")})[0];m.coordinateSystem=_.coordinateSystem}}),g}};return d.register("polar",l),Q1}var nx={},vh,ox;function fq(){if(ox)return vh;ox=1;var e=F,t=le,r=mt,a=ma(),i=["axisLine","axisLabel","axisTick","splitLine","splitArea"];function n(f,v,c){v[1]>v[0]&&(v=v.slice().reverse());var s=f.coordToPoint([v[0],c]),l=f.coordToPoint([v[1],c]);return{x1:s[0],y1:s[1],x2:l[0],y2:l[1]}}function h(f){var v=f.getRadiusAxis();return v.inverse?0:1}function d(f){var v=f[0],c=f[f.length-1];v&&c&&Math.abs(Math.abs(v.coord-c.coord)-360)<1e-4&&f.pop()}var o=a.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(f,v){if(this.group.removeAll(),!!f.get("show")){var c=f.axis,s=c.polar,l=s.getRadiusAxis().getExtent(),u=c.getTicksCoords(),p=e.map(c.getViewLabels(),function(m){var m=e.clone(m);return m.coord=c.dataToCoord(m.tickValue),m});d(p),d(u),e.each(i,function(g){f.get(g+".show")&&(!c.scale.isBlank()||g==="axisLine")&&this["_"+g](f,s,u,l,p)},this)}},_axisLine:function(f,v,c,s){var l=f.getModel("axisLine.lineStyle"),u=new t.Circle({shape:{cx:v.cx,cy:v.cy,r:s[h(v)]},style:l.getLineStyle(),z2:1,silent:!0});u.style.fill=null,this.group.add(u)},_axisTick:function(f,v,c,s){var l=f.getModel("axisTick"),u=(l.get("inside")?-1:1)*l.get("length"),p=s[h(v)],g=e.map(c,function(m){return new t.Line({shape:n(v,[p,p+u],m.coord)})});this.group.add(t.mergePath(g,{style:e.defaults(l.getModel("lineStyle").getLineStyle(),{stroke:f.get("axisLine.lineStyle.color")})}))},_axisLabel:function(f,v,c,s,l){var u=f.getCategories(!0),p=f.getModel("axisLabel"),g=p.get("margin");e.each(l,function(m,_){var y=p,b=m.tickValue,x=s[h(v)],w=v.coordToPoint([x+g,m.coord]),S=v.cx,A=v.cy,T=Math.abs(w[0]-S)/x<.3?"center":w[0]>S?"left":"right",M=Math.abs(w[1]-A)/x<.3?"middle":w[1]>A?"top":"bottom";u&&u[b]&&u[b].textStyle&&(y=new r(u[b].textStyle,p,p.ecModel));var C=new t.Text({silent:!0});this.group.add(C),t.setTextStyle(C.style,y,{x:w[0],y:w[1],textFill:y.getTextColor()||f.get("axisLine.lineStyle.color"),text:m.formattedLabel,textAlign:T,textVerticalAlign:M})},this)},_splitLine:function(f,v,c,s){var l=f.getModel("splitLine"),u=l.getModel("lineStyle"),p=u.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],_=0;_<c.length;_++){var y=g++%p.length;m[y]=m[y]||[],m[y].push(new t.Line({shape:n(v,s,c[_].coord)}))}for(var _=0;_<m.length;_++)this.group.add(t.mergePath(m[_],{style:e.defaults({stroke:p[_%p.length]},u.getLineStyle()),silent:!0,z:f.get("z")}))},_splitArea:function(f,v,c,s){if(c.length){var l=f.getModel("splitArea"),u=l.getModel("areaStyle"),p=u.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],_=Math.PI/180,y=-c[0].coord*_,b=Math.min(s[0],s[1]),x=Math.max(s[0],s[1]),w=f.get("clockwise"),S=1;S<c.length;S++){var A=g++%p.length;m[A]=m[A]||[],m[A].push(new t.Sector({shape:{cx:v.cx,cy:v.cy,r0:b,r:x,startAngle:y,endAngle:-c[S].coord*_,clockwise:w},silent:!0})),y=-c[S].coord*_}for(var S=0;S<m.length;S++)this.group.add(t.mergePath(m[S],{style:e.defaults({fill:p[S%p.length]},u.getAreaStyle()),silent:!0}))}}});return vh=o,vh}var sx;function dq(){return sx||(sx=1,ld(),fq()),nx}var lx={},hh,ux;function gq(){if(ux)return hh;ux=1;var e=F,t=le,r=pa(),a=ma(),i=["axisLine","axisTickLabel","axisName"],n=["splitLine","splitArea"],h=a.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(o,f){if(this.group.removeAll(),!!o.get("show")){var v=o.axis,c=v.polar,s=c.getAngleAxis(),l=v.getTicksCoords(),u=s.getExtent()[0],p=v.getExtent(),g=d(c,o,u),m=new r(o,g);e.each(i,m.add,m),this.group.add(m.getGroup()),e.each(n,function(_){o.get(_+".show")&&!v.scale.isBlank()&&this["_"+_](o,c,u,p,l)},this)}},_splitLine:function(o,f,v,c,s){var l=o.getModel("splitLine"),u=l.getModel("lineStyle"),p=u.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],_=0;_<s.length;_++){var y=g++%p.length;m[y]=m[y]||[],m[y].push(new t.Circle({shape:{cx:f.cx,cy:f.cy,r:s[_].coord},silent:!0}))}for(var _=0;_<m.length;_++)this.group.add(t.mergePath(m[_],{style:e.defaults({stroke:p[_%p.length],fill:null},u.getLineStyle()),silent:!0}))},_splitArea:function(o,f,v,c,s){if(s.length){var l=o.getModel("splitArea"),u=l.getModel("areaStyle"),p=u.get("color"),g=0;p=p instanceof Array?p:[p];for(var m=[],_=s[0].coord,y=1;y<s.length;y++){var b=g++%p.length;m[b]=m[b]||[],m[b].push(new t.Sector({shape:{cx:f.cx,cy:f.cy,r0:_,r:s[y].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),_=s[y].coord}for(var y=0;y<m.length;y++)this.group.add(t.mergePath(m[y],{style:e.defaults({fill:p[y%p.length]},u.getAreaStyle()),silent:!0}))}}});function d(o,f,v){return{position:[o.cx,o.cy],rotation:v/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:f.getModel("axisLabel").get("rotate"),z2:1}}return hh=h,hh}var vx;function pq(){return vx||(vx=1,ld(),gq()),lx}var ch,hx;function mq(){if(hx)return ch;hx=1;var e=Oe,t=sd(),r=le,a=$o(),i=We,n=pa(),h=ma(),d=t.extend({makeElOption:function(c,s,l,u,p){var g=l.axis;g.dim==="angle"&&(this.animationThreshold=Math.PI/18);var m=g.polar,_=m.getOtherAxis(g),y=_.getExtent(),b;b=g["dataTo"+e.capitalFirst(g.dim)](s);var x=u.get("type");if(x&&x!=="none"){var w=a.buildElStyle(u),S=f[x](g,m,b,y,w);S.style=w,c.graphicKey=S.type,c.pointer=S}var A=u.get("label.margin"),T=o(s,l,u,m,A);a.buildLabelElOption(c,l,u,p,T)}});function o(c,s,l,u,p){var g=s.axis,m=g.dataToCoord(c),_=u.getAngleAxis().getExtent()[0];_=_/180*Math.PI;var y=u.getRadiusAxis().getExtent(),b,x,w;if(g.dim==="radius"){var S=i.create();i.rotate(S,S,_),i.translate(S,S,[u.cx,u.cy]),b=r.applyTransform([m,-p],S);var A=s.getModel("axisLabel").get("rotate")||0,T=n.innerTextLayout(_,A*Math.PI/180,-1);x=T.textAlign,w=T.textVerticalAlign}else{var M=y[1];b=u.coordToPoint([M+p,m]);var C=u.cx,L=u.cy;x=Math.abs(b[0]-C)/M<.3?"center":b[0]>C?"left":"right",w=Math.abs(b[1]-L)/M<.3?"middle":b[1]>L?"top":"bottom"}return{position:b,align:x,verticalAlign:w}}var f={line:function(c,s,l,u,p){return c.dim==="angle"?{type:"Line",shape:a.makeLineShape(s.coordToPoint([u[0],l]),s.coordToPoint([u[1],l]))}:{type:"Circle",shape:{cx:s.cx,cy:s.cy,r:l}}},shadow:function(c,s,l,u,p){var g=Math.max(1,c.getBandWidth()),m=Math.PI/180;return c.dim==="angle"?{type:"Sector",shape:a.makeSectorShape(s.cx,s.cy,u[0],u[1],(-l-g/2)*m,(-l+g/2)*m)}:{type:"Sector",shape:a.makeSectorShape(s.cx,s.cy,l-g/2,l+g/2,0,Math.PI*2)}}};h.registerAxisPointerClass("PolarAxisPointer",d);var v=d;return ch=v,ch}var cx;function yq(){if(cx)return X1;cx=1;var e=ve,t=F,r=sq();return ld(),dq(),pq(),on(),mq(),e.registerLayout(t.curry(r,"bar")),e.extendComponentView({type:"polar"}),X1}var fx={},fh,dx;function _q(){if(dx)return fh;dx=1;var e=F,t=Me,r=vt,a=mt,i=td(),n=Go(),h=r.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(o){r.prototype.init.apply(this,arguments),t.defaultEmphasis(o,"label",["show"])},optionUpdated:function(){var o=this.option,f=this;o.regions=n.getFilledRegions(o.regions,o.map,o.nameMap),this._optionModelMap=e.reduce(o.regions||[],function(v,c){return c.name&&v.set(c.name,new a(c,f)),v},e.createHashMap()),this.updateSelectedMap(o.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(o){return this._optionModelMap.get(o)||new a(null,this,this.ecModel)},getFormattedLabel:function(o,f){var v=this.getRegionModel(o),c=v.get("label."+f+".formatter"),s={name:o};if(typeof c=="function")return s.status=f,c(s);if(typeof c=="string")return c.replace("{a}",o??"")},setZoom:function(o){this.option.zoom=o},setCenter:function(o){this.option.center=o}});e.mixin(h,i);var d=h;return fh=d,fh}var dh,gx;function xq(){if(gx)return dh;gx=1;var e=_T(),t=ve,r=t.extendComponentView({type:"geo",init:function(a,i){var n=new e(i,!0);this._mapDraw=n,this.group.add(n.group)},render:function(a,i,n,h){if(!(h&&h.type==="geoToggleSelect"&&h.from===this.uid)){var d=this._mapDraw;a.get("show")?d.draw(a,i,n,this,h):this._mapDraw.group.removeAll(),this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});return dh=r,dh}var px;function Sq(){if(px)return fx;px=1;var e=ve,t=F;_q(),Go(),xq(),ST();function r(a,i){i.update="updateView",e.registerAction(i,function(n,h){var d={};return h.eachComponent({mainType:"geo",query:n},function(o){o[a](n.name);var f=o.coordinateSystem;t.each(f.regions,function(v){d[v.name]=o.isSelected(v.name)||!1})}),{selected:d,name:n.name}})}return r("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),r("select",{type:"geoSelect",event:"geoselected"}),r("unSelect",{type:"geoUnSelect",event:"geounselected"}),fx}var mx={},gh,yx;function bq(){if(yx)return gh;yx=1;var e=F,t=["rect","polygon","keep","clear"];function r(i,n){var h=i&&i.brush;if(e.isArray(h)||(h=h?[h]:[]),!!h.length){var d=[];e.each(h,function(s){var l=s.hasOwnProperty("toolbox")?s.toolbox:[];l instanceof Array&&(d=d.concat(l))});var o=i&&i.toolbox;e.isArray(o)&&(o=o[0]),o||(o={feature:{}},i.toolbox=[o]);var f=o.feature||(o.feature={}),v=f.brush||(f.brush={}),c=v.type||(v.type=[]);c.push.apply(c,d),a(c),n&&!c.length&&c.push.apply(c,t)}}function a(i){var n={};e.each(i,function(h){n[h]=1}),i.length=0,e.each(n,function(h,d){i.push(d)})}return gh=r,gh}var _x={},Ra={},xx;function Uo(){if(xx)return Ra;xx=1;var e=F,t=_a(),r=e.each;function a(o){if(o){for(var f in o)if(o.hasOwnProperty(f))return!0}}function i(o,f,v){var c={};return r(f,function(l){var u=c[l]=s();r(o[l],function(p,g){if(t.isValidType(g)){var m={type:g,visual:p};v&&v(m,l),u[g]=new t(m),g==="opacity"&&(m=e.clone(m),m.type="colorAlpha",u.__hidden.__alphaForOpacity=new t(m))}})}),c;function s(){var l=function(){};l.prototype.__hidden=l.prototype;var u=new l;return u}}function n(o,f,v){var c;e.each(v,function(s){f.hasOwnProperty(s)&&a(f[s])&&(c=!0)}),c&&e.each(v,function(s){f.hasOwnProperty(s)&&a(f[s])?o[s]=e.clone(f[s]):delete o[s]})}function h(o,f,v,c,s,l){var u={};e.each(o,function(y){var b=t.prepareVisualTypes(f[y]);u[y]=b});var p;function g(y){return v.getItemVisual(p,y)}function m(y,b){v.setItemVisual(p,y,b)}l==null?v.each(_):v.each([l],_);function _(y,b){p=l==null?y:b;var x=v.getRawDataItem(p);if(!(x&&x.visualMap===!1))for(var w=c.call(s,y),S=f[w],A=u[w],T=0,M=A.length;T<M;T++){var C=A[T];S[C]&&S[C].applyVisual(y,g,m)}}}function d(o,f,v,c){var s={};e.each(o,function(u){var p=t.prepareVisualTypes(f[u]);s[u]=p});function l(u,p){c!=null&&(c=p.getDimension(c));function g(C){return p.getItemVisual(_,C)}function m(C,L){p.setItemVisual(_,C,L)}for(var _;(_=u.next())!=null;){var y=p.getRawDataItem(_);if(y&&y.visualMap===!1)return;for(var b=c!=null?p.get(c,_,!0):_,x=v(b),w=f[x],S=s[x],A=0,T=S.length;A<T;A++){var M=S[A];w[M]&&w[M].applyVisual(b,g,m)}}}return{progress:l}}return Ra.createVisualMappings=i,Ra.replaceVisualOption=n,Ra.applyVisual=h,Ra.incrementalApplyVisual=d,Ra}var ph,Sx;function wq(){if(Sx)return ph;Sx=1;var e=iT(),t=Qe,r={lineX:a(0),lineY:a(1),rect:{point:function(v,c,s){return v&&s.boundingRect.contain(v[0],v[1])},rect:function(v,c,s){return v&&s.boundingRect.intersect(v)}},polygon:{point:function(v,c,s){return v&&s.boundingRect.contain(v[0],v[1])&&e.contain(s.range,v[0],v[1])},rect:function(v,c,s){var l=s.range;if(!v||l.length<=1)return!1;var u=v.x,p=v.y,g=v.width,m=v.height,_=l[0];if(e.contain(l,u,p)||e.contain(l,u+g,p)||e.contain(l,u,p+m)||e.contain(l,u+g,p+m)||t.create(v).contain(_[0],_[1])||n(u,p,u+g,p,l)||n(u,p,u,p+m,l)||n(u+g,p,u+g,p+m,l)||n(u,p+m,u+g,p+m,l))return!0}}};function a(v){var c=["x","y"],s=["width","height"];return{point:function(l,u,p){if(l){var g=p.range,m=l[v];return i(m,g)}},rect:function(l,u,p){if(l){var g=p.range,m=[l[c[v]],l[c[v]]+l[s[v]]];return m[1]<m[0]&&m.reverse(),i(m[0],g)||i(m[1],g)||i(g[0],m)||i(g[1],m)}}}}function i(v,c){return c[0]<=v&&v<=c[1]}function n(v,c,s,l,u){for(var p=0,g=u[u.length-1];p<u.length;p++){var m=u[p];if(h(v,c,s,l,m[0],m[1],g[0],g[1]))return!0;g=m}}function h(v,c,s,l,u,p,g,m){var _=o(s-v,u-g,l-c,p-m);if(d(_))return!1;var y=o(u-v,u-g,p-c,p-m)/_;if(y<0||y>1)return!1;var b=o(s-v,u-v,l-c,p-c)/_;return!(b<0||b>1)}function d(v){return v<=1e-6&&v>=-1e-6}function o(v,c,s,l){return v*l-c*s}var f=r;return ph=f,ph}var mh,bx;function FT(){if(bx)return mh;bx=1;var e=F,t=le,r=Me,a=DT(),i=e.each,n=e.indexOf,h=e.curry,d=["dataToPoint","pointToData"],o=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"];function f(S,A,T){var M=this._targetInfoList=[],C={},L=s(A,S);i(l,function(I,P){(!T||!T.include||n(T.include,P)>=0)&&I(L,M,C)})}var v=f.prototype;v.setOutputRanges=function(S,A){this.matchOutputRanges(S,A,function(T,M,C){if((T.coordRanges||(T.coordRanges=[])).push(M),!T.coordRange){T.coordRange=M;var L=g[T.brushType](0,C,M);T.__rangeOffset={offset:_[T.brushType](L.values,T.range,[1,1]),xyMinMax:L.xyMinMax}}})},v.matchOutputRanges=function(S,A,T){i(S,function(M){var C=this.findTargetInfo(M,A);C&&C!==!0&&e.each(C.coordSyses,function(L){var I=g[M.brushType](1,L,M.range);T(M,I.values,L,A)})},this)},v.setInputRanges=function(S,A){i(S,function(T){var M=this.findTargetInfo(T,A);if(T.range=T.range||[],M&&M!==!0){T.panelId=M.panelId;var C=g[T.brushType](0,M.coordSys,T.coordRange),L=T.__rangeOffset;T.range=L?_[T.brushType](C.values,L.offset,b(C.xyMinMax,L.xyMinMax)):C.values}},this)},v.makePanelOpts=function(S,A){return e.map(this._targetInfoList,function(T){var M=T.getPanelRect();return{panelId:T.panelId,defaultBrushType:A&&A(T),clipPath:a.makeRectPanelClipPath(M),isTargetByCursor:a.makeRectIsTargetByCursor(M,S,T.coordSysModel),getLinearBrushOtherExtent:a.makeLinearBrushOtherExtent(M)}})},v.controlSeries=function(S,A,T){var M=this.findTargetInfo(S,T);return M===!0||M&&n(M.coordSyses,A.coordinateSystem)>=0},v.findTargetInfo=function(S,A){for(var T=this._targetInfoList,M=s(A,S),C=0;C<T.length;C++){var L=T[C],I=S.panelId;if(I){if(L.panelId===I)return L}else for(var C=0;C<u.length;C++)if(u[C](M,L))return L}return!0};function c(S){return S[0]>S[1]&&S.reverse(),S}function s(S,A){return r.parseFinder(S,A,{includeMainTypes:o})}var l={grid:function(S,A){var T=S.xAxisModels,M=S.yAxisModels,C=S.gridModels,L=e.createHashMap(),I={},P={};!T&&!M&&!C||(i(T,function(R){var E=R.axis.grid.model;L.set(E.id,E),I[E.id]=!0}),i(M,function(R){var E=R.axis.grid.model;L.set(E.id,E),P[E.id]=!0}),i(C,function(R){L.set(R.id,R),I[R.id]=!0,P[R.id]=!0}),L.each(function(R){var E=R.coordinateSystem,D=[];i(E.getCartesians(),function(k,z){(n(T,k.getAxis("x").model)>=0||n(M,k.getAxis("y").model)>=0)&&D.push(k)}),A.push({panelId:"grid--"+R.id,gridModel:R,coordSysModel:R,coordSys:D[0],coordSyses:D,getPanelRect:p.grid,xAxisDeclared:I[R.id],yAxisDeclared:P[R.id]})}))},geo:function(S,A){i(S.geoModels,function(T){var M=T.coordinateSystem;A.push({panelId:"geo--"+T.id,geoModel:T,coordSysModel:T,coordSys:M,coordSyses:[M],getPanelRect:p.geo})})}},u=[function(S,A){var T=S.xAxisModel,M=S.yAxisModel,C=S.gridModel;return!C&&T&&(C=T.axis.grid.model),!C&&M&&(C=M.axis.grid.model),C&&C===A.gridModel},function(S,A){var T=S.geoModel;return T&&T===A.geoModel}],p={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var S=this.coordSys,A=S.getBoundingRect().clone();return A.applyTransform(t.getTransform(S)),A}},g={lineX:h(m,0),lineY:h(m,1),rect:function(S,A,T){var M=A[d[S]]([T[0][0],T[1][0]]),C=A[d[S]]([T[0][1],T[1][1]]),L=[c([M[0],C[0]]),c([M[1],C[1]])];return{values:L,xyMinMax:L}},polygon:function(S,A,T){var M=[[1/0,-1/0],[1/0,-1/0]],C=e.map(T,function(L){var I=A[d[S]](L);return M[0][0]=Math.min(M[0][0],I[0]),M[1][0]=Math.min(M[1][0],I[1]),M[0][1]=Math.max(M[0][1],I[0]),M[1][1]=Math.max(M[1][1],I[1]),I});return{values:C,xyMinMax:M}}};function m(S,A,T,M){var C=T.getAxis(["x","y"][S]),L=c(e.map([0,1],function(P){return A?C.coordToData(C.toLocalCoord(M[P])):C.toGlobalCoord(C.dataToCoord(M[P]))})),I=[];return I[S]=L,I[1-S]=[NaN,NaN],{values:L,xyMinMax:I}}var _={lineX:h(y,0),lineY:h(y,1),rect:function(S,A,T){return[[S[0][0]-T[0]*A[0][0],S[0][1]-T[0]*A[0][1]],[S[1][0]-T[1]*A[1][0],S[1][1]-T[1]*A[1][1]]]},polygon:function(S,A,T){return e.map(S,function(M,C){return[M[0]-T[0]*A[C][0],M[1]-T[1]*A[C][1]]})}};function y(S,A,T,M){return[A[0]-M[S]*T[0],A[1]-M[S]*T[1]]}function b(S,A){var T=x(S),M=x(A),C=[T[0]/M[0],T[1]/M[1]];return isNaN(C[0])&&(C[0]=1),isNaN(C[1])&&(C[1]=1),C}function x(S){return S?[S[0][1]-S[0][0],S[1][1]-S[1][0]]:[NaN,NaN]}var w=f;return mh=w,mh}var Ax;function Aq(){if(Ax)return _x;Ax=1;var e=ve,t=F,r=Qe,a=Uo(),i=wq(),n=fr,h=FT(),d=["inBrush","outOfBrush"],o="__ecBrushSelect",f="__ecInBrushSelectEvent",v=e.PRIORITY.VISUAL.BRUSH;e.registerLayout(v,function(y,b,x){y.eachComponent({mainType:"brush"},function(w){x&&x.type==="takeGlobalCursor"&&w.setBrushOption(x.key==="brush"?x.brushOption:{brushType:!1});var S=w.brushTargetManager=new h(w.option,y);S.setInputRanges(w.areas,y)})}),e.registerVisual(v,function(y,b,x){var w=[],S,A;y.eachComponent({mainType:"brush"},function(T,M){var C={brushId:T.id,brushIndex:M,brushName:T.name,areas:t.clone(T.areas),selected:[]};w.push(C);var L=T.option,I=L.brushLink,P=[],R=[],E=[],D=0;M||(S=L.throttleType,A=L.throttleDelay);var k=t.map(T.areas,function(V){return g(t.defaults({boundingRect:m[V.brushType](V)},V))}),z=a.createVisualMappings(T.option,d,function(V){V.mappingMethod="fixed"});t.isArray(I)&&t.each(I,function(V){P[V]=1});function O(V){return I==="all"||P[V]}function N(V){return!!V.length}y.eachSeries(function(V,G){var $=E[G]=[];V.subType==="parallel"?B(V,G):q(V,G,$)});function B(V,G){var $=V.coordinateSystem;D|=$.hasAxisBrushed(),O(G)&&$.eachActiveState(V.getData(),function(Z,Y){Z==="active"&&(R[Y]=1)})}function q(V,G,$){var Z=u(V);if(!(!Z||p(T,G))&&(t.each(k,function(Q){Z[Q.brushType]&&T.brushTargetManager.controlSeries(Q,V,y)&&$.push(Q),D|=N($)}),O(G)&&N($))){var Y=V.getData();Y.each(function(Q){l(Z,$,Y,Q)&&(R[Q]=1)})}}y.eachSeries(function(V,G){var $={seriesId:V.id,seriesIndex:G,seriesName:V.name,dataIndex:[]};C.selected.push($);var Z=u(V),Y=E[G],Q=V.getData(),ee=O(G)?function(J){return R[J]?($.dataIndex.push(Q.getRawIndex(J)),"inBrush"):"outOfBrush"}:function(J){return l(Z,Y,Q,J)?($.dataIndex.push(Q.getRawIndex(J)),"inBrush"):"outOfBrush"};(O(G)?D:N(Y))&&a.applyVisual(d,z,Q,ee)})}),c(b,S,A,w,x)});function c(y,b,x,w,S){if(S){var A=y.getZr();if(!A[f]){A[o]||(A[o]=s);var T=n.createOrUpdate(A,o,x,b);T(y,w)}}}function s(y,b){if(!y.isDisposed()){var x=y.getZr();x[f]=!0,y.dispatchAction({type:"brushSelect",batch:b}),x[f]=!1}}function l(y,b,x,w){for(var S=0,A=b.length;S<A;S++){var T=b[S];if(y[T.brushType](w,x,T.selectors,T))return!0}}function u(y){var b=y.brushSelector;if(t.isString(b)){var x=[];return t.each(i,function(S,A){x[A]=function(T,M,C,L){var I=M.getItemLayout(T);return S[b](I,C,L)}}),x}else if(t.isFunction(b)){var w={};return t.each(i,function(S,A){w[A]=b}),w}return b}function p(y,b){var x=y.option.seriesIndex;return x!=null&&x!=="all"&&(t.isArray(x)?t.indexOf(x,b)<0:b!==x)}function g(y){var b=y.selectors={};return t.each(i[y.brushType],function(x,w){b[w]=function(S){return x(S,b,y)}}),y}var m={lineX:t.noop,lineY:t.noop,rect:function(y){return _(y.range)},polygon:function(y){for(var b,x=y.range,w=0,S=x.length;w<S;w++){b=b||[[1/0,-1/0],[1/0,-1/0]];var A=x[w];A[0]<b[0][0]&&(b[0][0]=A[0]),A[0]>b[0][1]&&(b[0][1]=A[0]),A[1]<b[1][0]&&(b[1][0]=A[1]),A[1]>b[1][1]&&(b[1][1]=A[1])}return b&&_(b)}};function _(y){return new r(y[0][0],y[1][0],y[0][1]-y[0][0],y[1][1]-y[1][0])}return _x}var yh,Tx;function Tq(){if(Tx)return yh;Tx=1;var e=ve,t=F,r=Uo(),a=mt,i=["#ddd"],n=e.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(o,f){var v=this.option;!f&&r.replaceVisualOption(v,o,["inBrush","outOfBrush"]);var c=v.inBrush=v.inBrush||{};v.outOfBrush=v.outOfBrush||{color:i},c.hasOwnProperty("liftZ")||(c.liftZ=5)},setAreas:function(o){o&&(this.areas=t.map(o,function(f){return h(this.option,f)},this))},setBrushOption:function(o){this.brushOption=h(this.option,o),this.brushType=this.brushOption.brushType}});function h(o,f){return t.merge({brushType:o.brushType,brushMode:o.brushMode,transformable:o.transformable,brushStyle:new a(o.brushStyle).getItemStyle(),removeOnClick:o.removeOnClick,z:o.z},f,!0)}var d=n;return yh=d,yh}var _h,Cx;function Cq(){if(Cx)return _h;Cx=1;var e=ve,t=F,r=od(),a=e.extendComponentView({type:"brush",init:function(n,h){this.ecModel=n,this.api=h,this.model,(this._brushController=new r(h.getZr())).on("brush",t.bind(this._onBrush,this)).mount()},render:function(n){return this.model=n,i.apply(this,arguments)},updateTransform:i,updateView:i,dispose:function(){this._brushController.dispose()},_onBrush:function(n,h){var d=this.model.id;this.model.brushTargetManager.setOutputRanges(n,this.ecModel),(!h.isEnd||h.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:d,areas:t.clone(n),$from:d})}});function i(n,h,d,o){(!o||o.$from!==n.id)&&this._brushController.setPanels(n.brushTargetManager.makePanelOpts(d)).enableBrush(n.brushOption).updateCovers(n.areas.slice())}return _h=a,_h}var Mx={},Dx;function Mq(){if(Dx)return Mx;Dx=1;var e=ve;return e.registerAction({type:"brush",event:"brush"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(a){a.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){}),Mx}var Bn={},Lx;function Xr(){if(Lx)return Bn;Lx=1;var e={};function t(a,i){e[a]=i}function r(a){return e[a]}return Bn.register=t,Bn.get=r,Bn}var xh,Ix;function Dq(){if(Ix)return xh;Ix=1;var e=F,t=Xr(),r=fa,a=r.toolbox.brush;function i(d,o,f){this.model=d,this.ecModel=o,this.api=f,this._brushType,this._brushMode}i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.clone(a.title)};var n=i.prototype;n.render=n.updateView=function(d,o,f){var v,c,s;o.eachComponent({mainType:"brush"},function(l){v=l.brushType,c=l.brushOption.brushMode||"single",s|=l.areas.length}),this._brushType=v,this._brushMode=c,e.each(d.get("type",!0),function(l){d.setIconStatus(l,(l==="keep"?c==="multiple":l==="clear"?s:l===v)?"emphasis":"normal")})},n.getIcons=function(){var d=this.model,o=d.get("icon",!0),f={};return e.each(d.get("type",!0),function(v){o[v]&&(f[v]=o[v])}),f},n.onclick=function(d,o,f){var v=this._brushType,c=this._brushMode;f==="clear"?(o.dispatchAction({type:"axisAreaSelect",intervals:[]}),o.dispatchAction({type:"brush",command:"clear",areas:[]})):o.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:f==="keep"?v:v===f?!1:f,brushMode:f==="keep"?c==="multiple"?"single":"multiple":c}})},t.register("brush",i);var h=i;return xh=h,xh}var Px;function Lq(){if(Px)return mx;Px=1;var e=ve,t=bq();return Aq(),Tq(),Cq(),Mq(),Dq(),e.registerPreprocessor(t),mx}var Rx={},Sh,Ex;function Iq(){if(Ex)return Sh;Ex=1;var e=F,t=ze,r=Ie(),a=cr,i=864e5;function n(o,f,v){this._model=o}n.prototype={constructor:n,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(o){o=r.parseDate(o);var f=o.getFullYear(),v=o.getMonth()+1;v=v<10?"0"+v:v;var c=o.getDate();c=c<10?"0"+c:c;var s=o.getDay();return s=Math.abs((s+7-this.getFirstDayOfWeek())%7),{y:f,m:v,d:c,day:s,time:o.getTime(),formatedDate:f+"-"+v+"-"+c,date:o}},getNextNDay:function(o,f){return f=f||0,f===0?this.getDateInfo(o):(o=new Date(this.getDateInfo(o).time),o.setDate(o.getDate()+f),this.getDateInfo(o))},update:function(o,f){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var v=this._rangeInfo.weeks||1,c=["width","height"],s=this._model.get("cellSize").slice(),l=this._model.getBoxLayoutParams(),u=this._orient==="horizontal"?[v,7]:[7,v];e.each([0,1],function(_){m(s,_)&&(l[c[_]]=s[_]*u[_])});var p={width:f.getWidth(),height:f.getHeight()},g=this._rect=t.getLayoutRect(l,p);e.each([0,1],function(_){m(s,_)||(s[_]=g[c[_]]/u[_])});function m(_,y){return _[y]!=null&&_[y]!=="auto"}this._sw=s[0],this._sh=s[1]},dataToPoint:function(o,f){e.isArray(o)&&(o=o[0]),f==null&&(f=!0);var v=this.getDateInfo(o),c=this._rangeInfo,s=v.formatedDate;if(f&&!(v.time>=c.start.time&&v.time<c.end.time+i))return[NaN,NaN];var l=v.day,u=this._getRangeInfo([c.start.time,s]).nthWeek;return this._orient==="vertical"?[this._rect.x+l*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]:[this._rect.x+u*this._sw+this._sw/2,this._rect.y+l*this._sh+this._sh/2]},pointToData:function(o){var f=this.pointToDate(o);return f&&f.time},dataToRect:function(o,f){var v=this.dataToPoint(o,f);return{contentShape:{x:v[0]-(this._sw-this._lineWidth)/2,y:v[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:v,tl:[v[0]-this._sw/2,v[1]-this._sh/2],tr:[v[0]+this._sw/2,v[1]-this._sh/2],br:[v[0]+this._sw/2,v[1]+this._sh/2],bl:[v[0]-this._sw/2,v[1]+this._sh/2]}},pointToDate:function(o){var f=Math.floor((o[0]-this._rect.x)/this._sw)+1,v=Math.floor((o[1]-this._rect.y)/this._sh)+1,c=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(v,f-1,c):this._getDateByWeeksAndDay(f,v-1,c)},convertToPixel:e.curry(h,"dataToPoint"),convertFromPixel:e.curry(h,"pointToData"),_initRangeOption:function(){var o=this._model.get("range"),f=o;if(e.isArray(f)&&f.length===1&&(f=f[0]),/^\d{4}$/.test(f)&&(o=[f+"-01-01",f+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(f)){var v=this.getDateInfo(f),c=v.date;c.setMonth(c.getMonth()+1);var s=this.getNextNDay(c,-1);o=[v.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(f)&&(o=[f,f]);var l=this._getRangeInfo(o);return l.start.time>l.end.time&&o.reverse(),o},_getRangeInfo:function(o){o=[this.getDateInfo(o[0]),this.getDateInfo(o[1])];var f;o[0].time>o[1].time&&(f=!0,o.reverse());var v=Math.floor(o[1].time/i)-Math.floor(o[0].time/i)+1,c=new Date(o[0].time),s=c.getDate(),l=o[1].date.getDate();if(c.setDate(s+v-1),c.getDate()!==l)for(var u=c.getTime()-o[1].time>0?1:-1;c.getDate()!==l&&(c.getTime()-o[1].time)*u>0;)v-=u,c.setDate(s+v-1);var p=Math.floor((v+o[0].day+6)/7),g=f?-p+1:p-1;return f&&o.reverse(),{range:[o[0].formatedDate,o[1].formatedDate],start:o[0],end:o[1],allDay:v,weeks:p,nthWeek:g,fweek:o[0].day,lweek:o[1].day}},_getDateByWeeksAndDay:function(o,f,v){var c=this._getRangeInfo(v);if(o>c.weeks||o===0&&f<c.fweek||o===c.weeks&&f>c.lweek)return!1;var s=(o-1)*7-c.fweek+f,l=new Date(c.start.time);return l.setDate(c.start.d+s),this.getDateInfo(l)}},n.dimensions=n.prototype.dimensions,n.getDimensionsInfo=n.prototype.getDimensionsInfo,n.create=function(o,f){var v=[];return o.eachComponent("calendar",function(c){var s=new n(c);v.push(s),c.coordinateSystem=s}),o.eachSeries(function(c){c.get("coordinateSystem")==="calendar"&&(c.coordinateSystem=v[c.get("calendarIndex")||0])}),v};function h(o,f,v,c){var s=v.calendarModel,l=v.seriesModel,u=s?s.coordinateSystem:l?l.coordinateSystem:null;return u===this?u[o](c):null}a.register("calendar",n);var d=n;return Sh=d,Sh}var bh,kx;function Pq(){if(kx)return bh;kx=1;var e=F,t=vt,r=ze,a=r.getLayoutParams,i=r.sizeCalculable,n=r.mergeLayoutParam,h=t.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(f,v,c,s){var l=a(f);h.superApply(this,"init",arguments),d(f,l)},mergeOption:function(f,v){h.superApply(this,"mergeOption",arguments),d(this.option,f)}});function d(f,v){var c=f.cellSize;e.isArray(c)?c.length===1&&(c[1]=c[0]):c=f.cellSize=[c,c];var s=e.map([0,1],function(l){return i(v,l)&&(c[l]="auto"),c[l]!=null&&c[l]!=="auto"});n(f,v,{type:"box",ignoreSize:s})}var o=h;return bh=o,bh}var wh,zx;function Rq(){if(zx)return wh;zx=1;var e=ve,t=F,r=le,a=Oe,i=Ie(),n={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},h={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]},d=e.extendComponentView({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(o,f,v){var c=this.group;c.removeAll();var s=o.coordinateSystem,l=s.getRangeInfo(),u=s.getOrient();this._renderDayRect(o,l,c),this._renderLines(o,l,u,c),this._renderYearText(o,l,u,c),this._renderMonthText(o,u,c),this._renderWeekText(o,l,u,c)},_renderDayRect:function(o,f,v){for(var c=o.coordinateSystem,s=o.getModel("itemStyle").getItemStyle(),l=c.getCellWidth(),u=c.getCellHeight(),p=f.start.time;p<=f.end.time;p=c.getNextNDay(p,1).time){var g=c.dataToRect([p],!1).tl,m=new r.Rect({shape:{x:g[0],y:g[1],width:l,height:u},cursor:"default",style:s});v.add(m)}},_renderLines:function(o,f,v,c){var s=this,l=o.coordinateSystem,u=o.getModel("splitLine.lineStyle").getLineStyle(),p=o.get("splitLine.show"),g=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var m=f.start,_=0;m.time<=f.end.time;_++){b(m.formatedDate),_===0&&(m=l.getDateInfo(f.start.y+"-"+f.start.m));var y=m.date;y.setMonth(y.getMonth()+1),m=l.getDateInfo(y)}b(l.getNextNDay(f.end.time,1).formatedDate);function b(x){s._firstDayOfMonth.push(l.getDateInfo(x)),s._firstDayPoints.push(l.dataToRect([x],!1).tl);var w=s._getLinePointsOfOneWeek(o,x,v);s._tlpoints.push(w[0]),s._blpoints.push(w[w.length-1]),p&&s._drawSplitline(w,u,c)}p&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,g,v),u,c),p&&this._drawSplitline(s._getEdgesPoints(s._blpoints,g,v),u,c)},_getEdgesPoints:function(o,f,v){var c=[o[0].slice(),o[o.length-1].slice()],s=v==="horizontal"?0:1;return c[0][s]=c[0][s]-f/2,c[1][s]=c[1][s]+f/2,c},_drawSplitline:function(o,f,v){var c=new r.Polyline({z2:20,shape:{points:o},style:f});v.add(c)},_getLinePointsOfOneWeek:function(o,f,v){var c=o.coordinateSystem;f=c.getDateInfo(f);for(var s=[],l=0;l<7;l++){var u=c.getNextNDay(f.time,l),p=c.dataToRect([u.time],!1);s[2*u.day]=p.tl,s[2*u.day+1]=p[v==="horizontal"?"bl":"tr"]}return s},_formatterLabel:function(o,f){return typeof o=="string"&&o?a.formatTplSimple(o,f):typeof o=="function"?o(f):f.nameMap},_yearTextPositionControl:function(o,f,v,c,s){f=f.slice();var l=["center","bottom"];c==="bottom"?(f[1]+=s,l=["center","top"]):c==="left"?f[0]-=s:c==="right"?(f[0]+=s,l=["center","top"]):f[1]-=s;var u=0;return(c==="left"||c==="right")&&(u=Math.PI/2),{rotation:u,position:f,style:{textAlign:l[0],textVerticalAlign:l[1]}}},_renderYearText:function(o,f,v,c){var s=o.getModel("yearLabel");if(s.get("show")){var l=s.get("margin"),u=s.get("position");u||(u=v!=="horizontal"?"top":"left");var p=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],g=(p[0][0]+p[1][0])/2,m=(p[0][1]+p[1][1])/2,_=v==="horizontal"?0:1,y={top:[g,p[_][1]],bottom:[g,p[1-_][1]],left:[p[1-_][0],m],right:[p[_][0],m]},b=f.start.y;+f.end.y>+f.start.y&&(b=b+"-"+f.end.y);var x=s.get("formatter"),w={start:f.start.y,end:f.end.y,nameMap:b},S=this._formatterLabel(x,w),A=new r.Text({z2:30});r.setTextStyle(A.style,s,{text:S}),A.attr(this._yearTextPositionControl(A,y[u],v,u,l)),c.add(A)}},_monthTextPositionControl:function(o,f,v,c,s){var l="left",u="top",p=o[0],g=o[1];return v==="horizontal"?(g=g+s,f&&(l="center"),c==="start"&&(u="bottom")):(p=p+s,f&&(u="middle"),c==="start"&&(l="right")),{x:p,y:g,textAlign:l,textVerticalAlign:u}},_renderMonthText:function(o,f,v){var c=o.getModel("monthLabel");if(c.get("show")){var s=c.get("nameMap"),l=c.get("margin"),u=c.get("position"),p=c.get("align"),g=[this._tlpoints,this._blpoints];t.isString(s)&&(s=n[s.toUpperCase()]||[]);var m=u==="start"?0:1,_=f==="horizontal"?0:1;l=u==="start"?-l:l;for(var y=p==="center",b=0;b<g[m].length-1;b++){var x=g[m][b].slice(),w=this._firstDayOfMonth[b];if(y){var S=this._firstDayPoints[b];x[_]=(S[_]+g[0][b+1][_])/2}var A=c.get("formatter"),T=s[+w.m-1],M={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:T},C=this._formatterLabel(A,M),L=new r.Text({z2:30});t.extend(r.setTextStyle(L.style,c,{text:C}),this._monthTextPositionControl(x,y,f,u,l)),v.add(L)}}},_weekTextPositionControl:function(o,f,v,c,s){var l="center",u="middle",p=o[0],g=o[1],m=v==="start";return f==="horizontal"?(p=p+c+(m?1:-1)*s[0]/2,l=m?"right":"left"):(g=g+c+(m?1:-1)*s[1]/2,u=m?"bottom":"top"),{x:p,y:g,textAlign:l,textVerticalAlign:u}},_renderWeekText:function(o,f,v,c){var s=o.getModel("dayLabel");if(s.get("show")){var l=o.coordinateSystem,u=s.get("position"),p=s.get("nameMap"),g=s.get("margin"),m=l.getFirstDayOfWeek();t.isString(p)&&(p=h[p.toUpperCase()]||[]);var _=l.getNextNDay(f.end.time,7-f.lweek).time,y=[l.getCellWidth(),l.getCellHeight()];g=i.parsePercent(g,y[v==="horizontal"?0:1]),u==="start"&&(_=l.getNextNDay(f.start.time,-(7+f.fweek)).time,g=-g);for(var b=0;b<7;b++){var x=l.getNextNDay(_,b),w=l.dataToRect([x.time],!1).center,S=b;S=Math.abs((b+m)%7);var A=new r.Text({z2:30});t.extend(r.setTextStyle(A.style,s,{text:p[S]}),this._weekTextPositionControl(w,v,u,g,y)),c.add(A)}}}});return wh=d,wh}var Ox;function Eq(){return Ox||(Ox=1,Iq(),Pq(),Rq()),Rx}var Nx={},Vx;function kq(){if(Vx)return Nx;Vx=1;var e=ve,t=le,r=ze,a=r.getLayoutRect;return e.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),e.extendComponentView({type:"title",render:function(i,n,h){if(this.group.removeAll(),!!i.get("show")){var d=this.group,o=i.getModel("textStyle"),f=i.getModel("subtextStyle"),v=i.get("textAlign"),c=i.get("textBaseline"),s=new t.Text({style:t.setTextStyle({},o,{text:i.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),l=s.getBoundingRect(),u=i.get("subtext"),p=new t.Text({style:t.setTextStyle({},f,{text:u,textFill:f.getTextColor(),y:l.height+i.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),g=i.get("link"),m=i.get("sublink");s.silent=!g,p.silent=!m,g&&s.on("click",function(){window.open(g,"_"+i.get("target"))}),m&&p.on("click",function(){window.open(m,"_"+i.get("subtarget"))}),d.add(s),u&&d.add(p);var _=d.getBoundingRect(),y=i.getBoxLayoutParams();y.width=_.width,y.height=_.height;var b=a(y,{width:h.getWidth(),height:h.getHeight()},i.get("padding"));v||(v=i.get("left")||i.get("right"),v==="middle"&&(v="center"),v==="right"?b.x+=b.width:v==="center"&&(b.x+=b.width/2)),c||(c=i.get("top")||i.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?b.y+=b.height:c==="middle"&&(b.y+=b.height/2),c=c||"top"),d.attr("position",[b.x,b.y]);var x={textAlign:v,textVerticalAlign:c};s.setStyle(x),p.setStyle(x),_=d.getBoundingRect();var w=b.margin,S=i.getItemStyle(["color","opacity"]);S.fill=i.get("backgroundColor");var A=new t.Rect({shape:{x:_.x-w[3],y:_.y-w[0],width:_.width+w[1]+w[3],height:_.height+w[0]+w[2],r:i.get("borderRadius")},style:S,silent:!0});t.subPixelOptimizeRect(A),d.add(A)}}}),Nx}var Bx={},qx={},Hx;function $T(){if(Hx)return qx;Hx=1;var e=vt;return e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}),qx}var Ea={},Gx;function ud(){if(Gx)return Ea;Gx=1;var e=F,t=Oe,r=["x","y","z","radius","angle","single"],a=["cartesian2d","polar","singleAxis"];function i(o){return e.indexOf(a,o)>=0}function n(o,f){o=o.slice();var v=e.map(o,t.capitalFirst);f=(f||[]).slice();var c=e.map(f,t.capitalFirst);return function(s,l){e.each(o,function(u,p){for(var g={name:u,capital:v[p]},m=0;m<f.length;m++)g[f[m]]=u+c[m];s.call(l,g)})}}var h=n(r,["axisIndex","axis","index","id"]);function d(o,f,v){return function(u){var p={nodes:[],records:{}};if(f(function(_){p.records[_.name]={}}),!u)return p;l(u,p);var g;do g=!1,o(m);while(g);function m(_){!c(_,p)&&s(_,p)&&(l(_,p),g=!0)}return p};function c(u,p){return e.indexOf(p.nodes,u)>=0}function s(u,p){var g=!1;return f(function(m){e.each(v(u,m)||[],function(_){p.records[m.name][_]&&(g=!0)})}),g}function l(u,p){p.nodes.push(u),f(function(g){e.each(v(u,g)||[],function(m){p.records[g.name][m]=!0})})}}return Ea.isCoordSupported=i,Ea.createNameEach=n,Ea.eachAxisDim=h,Ea.createLinkedNodesFinder=d,Ea}var Ah,Fx;function zq(){if(Fx)return Ah;Fx=1;var e=F,t=Ie(),r=ud(),a=e.each,i=t.asc,n=function(c,s,l,u){this._dimName=c,this._axisIndex=s,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=u,this._dataZoomModel=l};n.prototype={constructor:n,hostedBy:function(c){return this._dataZoomModel===c},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var c=[],s=this.ecModel;return s.eachSeries(function(l){if(r.isCoordSupported(l.get("coordinateSystem"))){var u=this._dimName,p=s.queryComponents({mainType:u+"Axis",index:l.get(u+"AxisIndex"),id:l.get(u+"AxisId")})[0];this._axisIndex===(p&&p.componentIndex)&&c.push(l)}},this),c},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var c=this._dimName,s=this.ecModel,l=this.getAxisModel(),u=c==="x"||c==="y",p,g;u?(g="gridIndex",p=c==="x"?"y":"x"):(g="polarIndex",p=c==="angle"?"radius":"angle");var m;return s.eachComponent(p+"Axis",function(_){(_.get(g)||0)===(l.get(g)||0)&&(m=_)}),m},getMinMaxSpan:function(){return e.clone(this._minMaxSpan)},calculateDataWindow:function(c){var s=this._dataExtent,l=this.getAxisModel(),u=l.axis.scale,p=this._dataZoomModel.getRangePropMode(),g=[0,100],m=[c.start,c.end],_=[];return a(["startValue","endValue"],function(y){_.push(c[y]!=null?u.parse(c[y]):null)}),a([0,1],function(y){var b=_[y],x=m[y];p[y]==="percent"?(x==null&&(x=g[y]),b=u.parse(t.linearMap(x,g,s,!0))):x=t.linearMap(b,s,g,!0),_[y]=b,m[y]=x}),{valueWindow:i(_),percentWindow:i(m)}},reset:function(c){if(c===this._dataZoomModel){var s=this.getTargetSeriesModels();this._dataExtent=h(this,this._dimName,s);var l=this.calculateDataWindow(c.option);this._valueWindow=l.valueWindow,this._percentWindow=l.percentWindow,f(this),o(this)}},restore:function(c){c===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,o(this,!0))},filterData:function(c,s){if(c!==this._dataZoomModel)return;var l=this._dimName,u=this.getTargetSeriesModels(),p=c.get("filterMode"),g=this._valueWindow;if(p==="none")return;a(u,function(_){var y=_.getData(),b=y.mapDimension(l,!0);p==="weakFilter"?y.filterSelf(function(x){for(var w,S,A,T=0;T<b.length;T++){var M=y.get(b[T],x),C=!isNaN(M),L=M<g[0],I=M>g[1];if(C&&!L&&!I)return!0;C&&(A=!0),L&&(w=!0),I&&(S=!0)}return A&&w&&S}):a(b,function(x){if(p==="empty")_.setData(y.map(x,function(S){return m(S)?S:NaN}));else{var w={};w[x]=g,y.selectRange(w)}}),a(b,function(x){y.setApproximateExtent(g,x)})});function m(_){return _>=g[0]&&_<=g[1]}}};function h(c,s,l){var u=[1/0,-1/0];return a(l,function(p){var g=p.getData();g&&a(g.mapDimension(s,!0),function(m){var _=g.getApproximateExtent(m);_[0]<u[0]&&(u[0]=_[0]),_[1]>u[1]&&(u[1]=_[1])})}),u[1]<u[0]&&(u=[NaN,NaN]),d(c,u),u}function d(c,s){var l=c.getAxisModel(),u=l.getMin(!0),p=l.get("type")==="category",g=p&&l.getCategories().length;u!=null&&u!=="dataMin"&&typeof u!="function"?s[0]=u:p&&(s[0]=g>0?0:NaN);var m=l.getMax(!0);return m!=null&&m!=="dataMax"&&typeof m!="function"?s[1]=m:p&&(s[1]=g>0?g-1:NaN),l.get("scale",!0)||(s[0]>0&&(s[0]=0),s[1]<0&&(s[1]=0)),s}function o(c,s){var l=c.getAxisModel(),u=c._percentWindow,p=c._valueWindow;if(u){var g=t.getPixelPrecision(p,[0,500]);g=Math.min(g,20);var m=s||u[0]===0&&u[1]===100;l.setRange(m?null:+p[0].toFixed(g),m?null:+p[1].toFixed(g))}}function f(c){var s=c._minMaxSpan={},l=c._dataZoomModel;a(["min","max"],function(u){s[u+"Span"]=l.get(u+"Span");var p=l.get(u+"ValueSpan");if(p!=null&&(s[u+"ValueSpan"]=p,p=c.getAxisModel().axis.scale.parse(p),p!=null)){var g=c._dataExtent;s[u+"Span"]=t.linearMap(g[0]+p,g,[0,100],!0)}})}var v=n;return Ah=v,Ah}var Th,$x;function sn(){if($x)return Th;$x=1;var e=ve,t=F,r=lt,a=Me,i=ud(),n=zq(),h=t.each,d=i.eachAxisDim,o=e.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(s,l,u){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var p=f(s);this.mergeDefaultAndTheme(s,u),this.doInit(p)},mergeOption:function(s){var l=f(s);t.merge(this.option,s,!0),this.doInit(l)},doInit:function(s){var l=this.option;r.canvasSupported||(l.realtime=!1),this._setDefaultThrottle(s),v(this,s),h([["start","startValue"],["end","endValue"]],function(u,p){this._rangePropMode[p]==="value"&&(l[u[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var s=this._axisProxies;this.eachTargetAxis(function(l,u,p,g){var m=this.dependentModels[l.axis][u],_=m.__dzAxisProxy||(m.__dzAxisProxy=new n(l.name,u,this,g));s[l.name+"_"+u]=_},this)},_resetTarget:function(){var s=this.option,l=this._judgeAutoMode();d(function(u){var p=u.axisIndex;s[p]=a.normalizeToArray(s[p])},this),l==="axisIndex"?this._autoSetAxisIndex():l==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var s=this.option,l=!1;d(function(p){s[p.axisIndex]!=null&&(l=!0)},this);var u=s.orient;if(u==null&&l)return"orient";if(!l)return u==null&&(s.orient="horizontal"),"axisIndex"},_autoSetAxisIndex:function(){var s=!0,l=this.get("orient",!0),u=this.option,p=this.dependentModels;if(s){var g=l==="vertical"?"y":"x";p[g+"Axis"].length?(u[g+"AxisIndex"]=[0],s=!1):h(p.singleAxis,function(m){s&&m.get("orient",!0)===l&&(u.singleAxisIndex=[m.componentIndex],s=!1)})}s&&d(function(m){if(s){var _=[],y=this.dependentModels[m.axis];if(y.length&&!_.length)for(var b=0,x=y.length;b<x;b++)y[b].get("type")==="category"&&_.push(b);u[m.axisIndex]=_,_.length&&(s=!1)}},this),s&&this.ecModel.eachSeries(function(m){this._isSeriesHasAllAxesTypeOf(m,"value")&&d(function(_){var y=u[_.axisIndex],b=m.get(_.axisIndex),x=m.get(_.axisId),w=m.ecModel.queryComponents({mainType:_.axis,index:b,id:x})[0];b=w.componentIndex,t.indexOf(y,b)<0&&y.push(b)})},this)},_autoSetOrient:function(){var s;this.eachTargetAxis(function(l){!s&&(s=l.name)},this),this.option.orient=s==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(s,l){var u=!0;return d(function(p){var g=s.get(p.axisIndex),m=this.dependentModels[p.axis][g];(!m||m.get("type")!==l)&&(u=!1)},this),u},_setDefaultThrottle:function(s){if(s.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var l=this.ecModel.option;this.option.throttle=l.animation&&l.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var s;return d(function(l){if(s==null){var u=this.get(l.axisIndex);u.length&&(s=this.dependentModels[l.axis][u[0]])}},this),s},eachTargetAxis:function(s,l){var u=this.ecModel;d(function(p){h(this.get(p.axisIndex),function(g){s.call(l,p,g,this,u)},this)},this)},getAxisProxy:function(s,l){return this._axisProxies[s+"_"+l]},getAxisModel:function(s,l){var u=this.getAxisProxy(s,l);return u&&u.getAxisModel()},setRawRange:function(s,l){var u=this.option;h([["start","startValue"],["end","endValue"]],function(p){(s[p[0]]!=null||s[p[1]]!=null)&&(u[p[0]]=s[p[0]],u[p[1]]=s[p[1]])},this),!l&&v(this,s)},getPercentRange:function(){var s=this.findRepresentativeAxisProxy();if(s)return s.getDataPercentWindow()},getValueRange:function(s,l){if(s==null&&l==null){var u=this.findRepresentativeAxisProxy();if(u)return u.getDataValueWindow()}else return this.getAxisProxy(s,l).getDataValueWindow()},findRepresentativeAxisProxy:function(s){if(s)return s.__dzAxisProxy;var l=this._axisProxies;for(var u in l)if(l.hasOwnProperty(u)&&l[u].hostedBy(this))return l[u];for(var u in l)if(l.hasOwnProperty(u)&&!l[u].hostedBy(this))return l[u]},getRangePropMode:function(){return this._rangePropMode.slice()}});function f(s){var l={};return h(["start","end","startValue","endValue","throttle"],function(u){s.hasOwnProperty(u)&&(l[u]=s[u])}),l}function v(s,l){var u=s._rangePropMode,p=s.get("rangeMode");h([["start","startValue"],["end","endValue"]],function(g,m){var _=l[g[0]]!=null,y=l[g[1]]!=null;_&&!y?u[m]="percent":!_&&y?u[m]="value":p?u[m]=p[m]:_&&(u[m]="percent")})}var c=o;return Th=c,Th}var Ch,Ux;function ln(){if(Ux)return Ch;Ux=1;var e=Ro,t=e.extend({type:"dataZoom",render:function(r,a,i,n){this.dataZoomModel=r,this.ecModel=a,this.api=i},getTargetCoordInfo:function(){var r=this.dataZoomModel,a=this.ecModel,i={};r.eachTargetAxis(function(h,d){var o=a.getComponent(h.axis,d);if(o){var f=o.getCoordSysModel();f&&n(f,o,i[f.mainType]||(i[f.mainType]=[]),f.componentIndex)}},this);function n(h,d,o,f){for(var v,c=0;c<o.length;c++)if(o[c].model===h){v=o[c];break}v||o.push(v={model:h,axisModels:[],coordIndex:f}),v.axisModels.push(d)}return i}});return Ch=t,Ch}var Mh,Wx;function Oq(){if(Wx)return Mh;Wx=1;var e=sn(),t=e.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),r=t;return Mh=r,Mh}var Dh,Zx;function Nq(){if(Zx)return Dh;Zx=1;var e=F,t=wt,r=le,a=fr,i=ln(),n=Ie(),h=ze,d=nn(),o=r.Rect,f=n.linearMap,v=n.asc,c=e.bind,s=e.each,l=7,u=1,p=30,g="horizontal",m="vertical",_=5,y=["line","bar","candlestick","scatter"],b=i.extend({type:"dataZoom.slider",init:function(A,T){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=T},render:function(A,T,M,C){if(b.superApply(this,"render",arguments),a.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=A.get("orient"),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}(!C||C.type!=="dataZoom"||C.from!==this.uid)&&this._buildView(),this._updateView()},remove:function(){b.superApply(this,"remove",arguments),a.clear(this,"_dispatchZoomAction")},dispose:function(){b.superApply(this,"dispose",arguments),a.clear(this,"_dispatchZoomAction")},_buildView:function(){var A=this.group;A.removeAll(),this._resetLocation(),this._resetInterval();var T=this._displayables.barGroup=new r.Group;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),A.add(T),this._positionGroup()},_resetLocation:function(){var A=this.dataZoomModel,T=this.api,M=this._findCoordRect(),C={width:T.getWidth(),height:T.getHeight()},L=this._orient===g?{right:C.width-M.x-M.width,top:C.height-p-l,width:M.width,height:p}:{right:l,top:M.y,width:p,height:M.height},I=h.getLayoutParams(A.option);e.each(["right","top","width","height"],function(R){I[R]==="ph"&&(I[R]=L[R])});var P=h.getLayoutRect(I,C,A.padding);this._location={x:P.x,y:P.y},this._size=[P.width,P.height],this._orient===m&&this._size.reverse()},_positionGroup:function(){var A=this.group,T=this._location,M=this._orient,C=this.dataZoomModel.getFirstTargetAxisModel(),L=C&&C.get("inverse"),I=this._displayables.barGroup,P=(this._dataShadowInfo||{}).otherAxisInverse;I.attr(M===g&&!L?{scale:P?[1,1]:[1,-1]}:M===g&&L?{scale:P?[-1,1]:[-1,-1]}:M===m&&!L?{scale:P?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:P?[-1,-1]:[-1,1],rotation:Math.PI/2});var R=A.getBoundingRect([I]);A.attr("position",[T.x-R.x,T.y-R.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var A=this.dataZoomModel,T=this._size,M=this._displayables.barGroup;M.add(new o({silent:!0,shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:A.get("backgroundColor")},z2:-40})),M.add(new o({shape:{x:0,y:0,width:T[0],height:T[1]},style:{fill:"transparent"},z2:0,onclick:e.bind(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var A=this._dataShadowInfo=this._prepareDataShadowInfo();if(A){var T=this._size,M=A.series,C=M.getRawData(),L=M.getShadowDim?M.getShadowDim():A.otherDim;if(L!=null){var I=C.getDataExtent(L),P=(I[1]-I[0])*.3;I=[I[0]-P,I[1]+P];var R=[0,T[1]],E=[0,T[0]],D=[[T[0],0],[0,0]],k=[],z=E[1]/(C.count()-1),O=0,N=Math.round(C.count()/T[0]),B;C.each([L],function(V,G){if(N>0&&G%N){O+=z;return}var $=V==null||isNaN(V)||V==="",Z=$?0:f(V,I,R,!0);$&&!B&&G?(D.push([D[D.length-1][0],0]),k.push([k[k.length-1][0],0])):!$&&B&&(D.push([O,0]),k.push([O,0])),D.push([O,Z]),k.push([O,Z]),O+=z,B=$});var q=this.dataZoomModel;this._displayables.barGroup.add(new r.Polygon({shape:{points:D},style:e.defaults({fill:q.get("dataBackgroundColor")},q.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new r.Polyline({shape:{points:k},style:q.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var A=this.dataZoomModel,T=A.get("showDataShadow");if(T!==!1){var M,C=this.ecModel;return A.eachTargetAxis(function(L,I){var P=A.getAxisProxy(L.name,I).getTargetSeriesModels();e.each(P,function(R){if(!M&&!(T!==!0&&e.indexOf(y,R.get("type"))<0)){var E=C.getComponent(L.axis,I).axis,D=x(L.name),k,z=R.coordinateSystem;D!=null&&z.getOtherAxis&&(k=z.getOtherAxis(E).inverse),D=R.getData().mapDimension(D),M={thisAxis:E,series:R,thisDim:L.name,otherDim:D,otherAxisInverse:k}}},this)},this),M}},_renderHandle:function(){var A=this._displayables,T=A.handles=[],M=A.handleLabels=[],C=this._displayables.barGroup,L=this._size,I=this.dataZoomModel;C.add(A.filler=new o({draggable:!0,cursor:w(this._orient),drift:c(this._onDragMove,this,"all"),onmousemove:function(P){t.stop(P.event)},ondragstart:c(this._showDataInfo,this,!0),ondragend:c(this._onDragEnd,this),onmouseover:c(this._showDataInfo,this,!0),onmouseout:c(this._showDataInfo,this,!1),style:{fill:I.get("fillerColor"),textPosition:"inside"}})),C.add(new o(r.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:L[0],height:L[1]},style:{stroke:I.get("dataBackgroundColor")||I.get("borderColor"),lineWidth:u,fill:"rgba(0,0,0,0)"}}))),s([0,1],function(P){var R=r.createIcon(I.get("handleIcon"),{cursor:w(this._orient),draggable:!0,drift:c(this._onDragMove,this,P),onmousemove:function(z){t.stop(z.event)},ondragend:c(this._onDragEnd,this),onmouseover:c(this._showDataInfo,this,!0),onmouseout:c(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),E=R.getBoundingRect();this._handleHeight=n.parsePercent(I.get("handleSize"),this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,R.setStyle(I.getModel("handleStyle").getItemStyle());var D=I.get("handleColor");D!=null&&(R.style.fill=D),C.add(T[P]=R);var k=I.textStyleModel;this.group.add(M[P]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:k.getTextColor(),textFont:k.getFont()},z2:10}))},this)},_resetInterval:function(){var A=this._range=this.dataZoomModel.getPercentRange(),T=this._getViewExtent();this._handleEnds=[f(A[0],[0,100],T,!0),f(A[1],[0,100],T,!0)]},_updateInterval:function(A,T){var M=this.dataZoomModel,C=this._handleEnds,L=this._getViewExtent(),I=M.findRepresentativeAxisProxy().getMinMaxSpan(),P=[0,100];d(T,C,L,M.get("zoomLock")?"all":A,I.minSpan!=null?f(I.minSpan,P,L,!0):null,I.maxSpan!=null?f(I.maxSpan,P,L,!0):null);var R=this._range,E=this._range=v([f(C[0],L,P,!0),f(C[1],L,P,!0)]);return!R||R[0]!==E[0]||R[1]!==E[1]},_updateView:function(A){var T=this._displayables,M=this._handleEnds,C=v(M.slice()),L=this._size;s([0,1],function(I){var P=T.handles[I],R=this._handleHeight;P.attr({scale:[R/2,R/2],position:[M[I],L[1]/2-R/2]})},this),T.filler.setShape({x:C[0],y:0,width:C[1]-C[0],height:L[1]}),this._updateDataInfo(A)},_updateDataInfo:function(A){var T=this.dataZoomModel,M=this._displayables,C=M.handleLabels,L=this._orient,I=["",""];if(T.get("showDetail")){var P=T.findRepresentativeAxisProxy();if(P){var R=P.getAxisModel().axis,E=this._range,D=A?P.calculateDataWindow({start:E[0],end:E[1]}).valueWindow:P.getDataValueWindow();I=[this._formatLabel(D[0],R),this._formatLabel(D[1],R)]}}var k=v(this._handleEnds.slice());z.call(this,0),z.call(this,1);function z(O){var N=r.getTransform(M.handles[O].parent,this.group),B=r.transformDirection(O===0?"right":"left",N),q=this._handleWidth/2+_,V=r.applyTransform([k[O]+(O===0?-q:q),this._size[1]/2],N);C[O].setStyle({x:V[0],y:V[1],textVerticalAlign:L===g?"middle":B,textAlign:L===g?B:"center",text:I[O]})}},_formatLabel:function(A,T){var M=this.dataZoomModel,C=M.get("labelFormatter"),L=M.get("labelPrecision");(L==null||L==="auto")&&(L=T.getPixelPrecision());var I=A==null||isNaN(A)?"":T.type==="category"||T.type==="time"?T.scale.getLabel(Math.round(A)):A.toFixed(Math.min(L,20));return e.isFunction(C)?C(A,I):e.isString(C)?C.replace("{value}",I):I},_showDataInfo:function(A){A=this._dragging||A;var T=this._displayables.handleLabels;T[0].attr("invisible",!A),T[1].attr("invisible",!A)},_onDragMove:function(A,T,M){this._dragging=!0;var C=this._displayables.barGroup.getLocalTransform(),L=r.applyTransform([T,M],C,!0),I=this._updateInterval(A,L[0]),P=this.dataZoomModel.get("realtime");this._updateView(!P),I&&P&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1);var A=this.dataZoomModel.get("realtime");!A&&this._dispatchZoomAction()},_onClickPanelClick:function(A){var T=this._size,M=this._displayables.barGroup.transformCoordToLocal(A.offsetX,A.offsetY);if(!(M[0]<0||M[0]>T[0]||M[1]<0||M[1]>T[1])){var C=this._handleEnds,L=(C[0]+C[1])/2,I=this._updateInterval("all",M[0]-L);this._updateView(),I&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var A=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:A[0],end:A[1]})},_findCoordRect:function(){var A;if(s(this.getTargetCoordInfo(),function(C){if(!A&&C.length){var L=C[0].model.coordinateSystem;A=L.getRect&&L.getRect()}}),!A){var T=this.api.getWidth(),M=this.api.getHeight();A={x:T*.2,y:M*.2,width:T*.6,height:M*.6}}return A}});function x(A){var T={x:"y",y:"x",radius:"angle",angle:"radius"};return T[A]}function w(A){return A==="vertical"?"ns-resize":"ew-resize"}var S=b;return Dh=S,Dh}var Lh,Yx;function Vq(){if(Yx)return Lh;Yx=1;var e=sn(),t=e.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});return Lh=t,Lh}var wi={},Xx;function Bq(){if(Xx)return wi;Xx=1;var e=F,t=Fo(),r=fr,a=e.curry,i="\0_ec_dataZoom_roams";function n(g,m){var _=o(g),y=m.dataZoomId,b=m.coordId;e.each(_,function(S,A){var T=S.dataZoomInfos;T[y]&&e.indexOf(m.allCoordIds,b)<0&&(delete T[y],S.count--)}),v(_);var x=_[b];x||(x=_[b]={coordId:b,dataZoomInfos:{},count:0},x.controller=f(g,x),x.dispatchAction=e.curry(u,g)),!x.dataZoomInfos[y]&&x.count++,x.dataZoomInfos[y]=m;var w=p(x.dataZoomInfos);x.controller.enable(w.controlType,w.opt),x.controller.setPointerChecker(m.containsPoint),r.createOrUpdate(x,"dispatchAction",m.throttleRate,"fixRate")}function h(g,m){var _=o(g);e.each(_,function(y){y.controller.dispose();var b=y.dataZoomInfos;b[m]&&(delete b[m],y.count--)}),v(_)}function d(g){return g.type+"\0_"+g.id}function o(g){var m=g.getZr();return m[i]||(m[i]={})}function f(g,m){var _=new t(g.getZr());return _.on("pan",a(c,m)),_.on("zoom",a(s,m)),_}function v(g){e.each(g,function(m,_){m.count||(m.controller.dispose(),delete g[_])})}function c(g,m,_,y,b,x,w){l(g,function(S){return S.panGetRange(g.controller,m,_,y,b,x,w)})}function s(g,m,_,y){l(g,function(b){return b.zoomGetRange(g.controller,m,_,y)})}function l(g,m){var _=[];e.each(g.dataZoomInfos,function(y){var b=m(y);!y.disabled&&b&&_.push({dataZoomId:y.dataZoomId,start:b[0],end:b[1]})}),_.length&&g.dispatchAction(_)}function u(g,m){g.dispatchAction({type:"dataZoom",batch:m})}function p(g){var m,_={},y="type_",b={type_true:2,type_move:1,type_false:0,type_undefined:-1};return e.each(g,function(x){var w=x.disabled?!1:x.zoomLock?"move":!0;b[y+w]>b[y+m]&&(m=w),e.extend(_,x.roamControllerOpt)}),{controlType:m,opt:_}}return wi.register=n,wi.unregister=h,wi.generateCoordId=d,wi}var Ih,Kx;function qq(){if(Kx)return Ih;Kx=1;var e=F,t=ln(),r=nn(),a=Bq(),i=e.bind,n=t.extend({type:"dataZoom.inside",init:function(o,f){this._range},render:function(o,f,v,c){n.superApply(this,"render",arguments),this._range=o.getPercentRange(),e.each(this.getTargetCoordInfo(),function(s,l){var u=e.map(s,function(p){return a.generateCoordId(p.model)});e.each(s,function(p){var g=p.model,m=o.option;a.register(v,{coordId:a.generateCoordId(g),allCoordIds:u,containsPoint:function(_,y,b){return g.coordinateSystem.containPoint([y,b])},dataZoomId:o.id,throttleRate:o.get("throttle",!0),panGetRange:i(this._onPan,this,p,l),zoomGetRange:i(this._onZoom,this,p,l),zoomLock:m.zoomLock,disabled:m.disabled,roamControllerOpt:{zoomOnMouseWheel:m.zoomOnMouseWheel,moveOnMouseMove:m.moveOnMouseMove,preventDefaultMouseMove:m.preventDefaultMouseMove}})},this)},this)},dispose:function(){a.unregister(this.api,this.dataZoomModel.id),n.superApply(this,"dispose",arguments),this._range=null},_onPan:function(o,f,v,c,s,l,u,p,g){var m=this._range,_=m.slice(),y=o.axisModels[0];if(y){var b=h[f]([l,u],[p,g],y,v,o),x=b.signal*(_[1]-_[0])*b.pixel/b.pixelLength;if(r(x,_,[0,100],"all"),this._range=_,m[0]!==_[0]||m[1]!==_[1])return _}},_onZoom:function(o,f,v,c,s,l){var u=this._range,p=u.slice(),g=o.axisModels[0];if(g){var m=h[f](null,[s,l],g,v,o),_=(m.signal>0?m.pixelStart+m.pixelLength-m.pixel:m.pixel-m.pixelStart)/m.pixelLength*(p[1]-p[0])+p[0];c=Math.max(1/c,0),p[0]=(p[0]-_)*c+_,p[1]=(p[1]-_)*c+_;var y=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(r(0,p,[0,100],0,y.minSpan,y.maxSpan),this._range=p,u[0]!==p[0]||u[1]!==p[1])return p}}}),h={grid:function(o,f,v,c,s){var l=v.axis,u={},p=s.model.coordinateSystem.getRect();return o=o||[0,0],l.dim==="x"?(u.pixel=f[0]-o[0],u.pixelLength=p.width,u.pixelStart=p.x,u.signal=l.inverse?1:-1):(u.pixel=f[1]-o[1],u.pixelLength=p.height,u.pixelStart=p.y,u.signal=l.inverse?-1:1),u},polar:function(o,f,v,c,s){var l=v.axis,u={},p=s.model.coordinateSystem,g=p.getRadiusAxis().getExtent(),m=p.getAngleAxis().getExtent();return o=o?p.pointToCoord(o):[0,0],f=p.pointToCoord(f),v.mainType==="radiusAxis"?(u.pixel=f[0]-o[0],u.pixelLength=g[1]-g[0],u.pixelStart=g[0],u.signal=l.inverse?1:-1):(u.pixel=f[1]-o[1],u.pixelLength=m[1]-m[0],u.pixelStart=m[0],u.signal=l.inverse?-1:1),u},singleAxis:function(o,f,v,c,s){var l=v.axis,u=s.model.coordinateSystem.getRect(),p={};return o=o||[0,0],l.orient==="horizontal"?(p.pixel=f[0]-o[0],p.pixelLength=u.width,p.pixelStart=u.x,p.signal=l.inverse?1:-1):(p.pixel=f[1]-o[1],p.pixelLength=u.height,p.pixelStart=u.y,p.signal=l.inverse?-1:1),p}},d=n;return Ih=d,Ih}var Qx={},jx;function UT(){if(jx)return Qx;jx=1;var e=ve,t=F,r=t.createHashMap,a=t.each;return e.registerProcessor({getTargetSeries:function(i){var n=r();return i.eachComponent("dataZoom",function(h){h.eachTargetAxis(function(d,o,f){var v=f.getAxisProxy(d.name,o);a(v.getTargetSeriesModels(),function(c){n.set(c.uid,c)})})}),n},modifyOutputEnd:!0,overallReset:function(i,n){i.eachComponent("dataZoom",function(h){h.eachTargetAxis(function(d,o,f){f.getAxisProxy(d.name,o).reset(f,n)}),h.eachTargetAxis(function(d,o,f){f.getAxisProxy(d.name,o).filterData(f,n)})}),i.eachComponent("dataZoom",function(h){var d=h.findRepresentativeAxisProxy(),o=d.getDataPercentWindow(),f=d.getDataValueWindow();h.setRawRange({start:o[0],end:o[1],startValue:f[0],endValue:f[1]},!0)})}}),Qx}var Jx={},eS;function WT(){if(eS)return Jx;eS=1;var e=ve,t=F,r=ud();return e.registerAction("dataZoom",function(a,i){var n=r.createLinkedNodesFinder(t.bind(i.eachComponent,i,"dataZoom"),r.eachAxisDim,function(d,o){return d.get(o.axisIndex)}),h=[];i.eachComponent({mainType:"dataZoom",query:a},function(d,o){h.push.apply(h,n(d).nodes)}),t.each(h,function(d,o){d.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})}),Jx}var tS;function Hq(){return tS||(tS=1,$T(),sn(),ln(),Oq(),Nq(),Vq(),qq(),UT(),WT()),Bx}var rS={},aS={},Ph,iS;function ZT(){if(iS)return Ph;iS=1;var e=F,t=e.each;function r(i){var n=i&&i.visualMap;e.isArray(n)||(n=n?[n]:[]),t(n,function(h){if(h){a(h,"splitList")&&!a(h,"pieces")&&(h.pieces=h.splitList,delete h.splitList);var d=h.pieces;d&&e.isArray(d)&&t(d,function(o){e.isObject(o)&&(a(o,"start")&&!a(o,"min")&&(o.min=o.start),a(o,"end")&&!a(o,"max")&&(o.max=o.end))})}})}function a(i,n){return i&&i.hasOwnProperty&&i.hasOwnProperty(n)}return Ph=r,Ph}var nS={},oS;function YT(){if(oS)return nS;oS=1;var e=vt;return e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),nS}var sS={},lS;function XT(){if(lS)return sS;lS=1;var e=ve,t=F,r=Uo(),a=_a(),i=e.PRIORITY.VISUAL.COMPONENT;e.registerVisual(i,{createOnAllSeries:!0,reset:function(h,d){var o=[];return d.eachComponent("visualMap",function(f){var v=h.pipelineContext;!f.isTargetSeries(h)||v&&v.large||o.push(r.incrementalApplyVisual(f.stateList,f.targetVisuals,t.bind(f.getValueState,f),f.getDataDimension(h.getData())))}),o}}),e.registerVisual(i,{createOnAllSeries:!0,reset:function(h,d){var o=h.getData(),f=[];d.eachComponent("visualMap",function(v){if(v.isTargetSeries(h)){var c=v.getVisualMeta(t.bind(n,null,h,v))||{stops:[],outerColors:[]},s=v.getDataDimension(o),l=o.getDimensionInfo(s);l!=null&&(c.dimension=l.index,f.push(c))}}),h.getData().setVisual("visualMeta",f)}});function n(h,d,o,f){for(var v=d.targetVisuals[f],c=a.prepareVisualTypes(v),s={color:h.getData().getVisual("color")},l=0,u=c.length;l<u;l++){var p=c[l],g=v[p==="opacity"?"__alphaForOpacity":p];g&&g.applyVisual(o,m,_)}return s.color;function m(y){return s[y]}function _(y,b){s[y]=b}}return sS}var Rh,uS;function KT(){if(uS)return Rh;uS=1;var e=F,t={get:function(i,n,h){var d=e.clone((r[i]||{})[n]);return h&&e.isArray(d)?d[d.length-1]:d}},r={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},a=t;return Rh=a,Rh}var Eh,vS;function QT(){if(vS)return Eh;vS=1;var e=ve,t=F,r=lt,a=KT(),i=_a(),n=Uo(),h=Me,d=Ie(),o=i.mapVisual,f=i.eachVisual,v=t.isArray,c=t.each,s=d.asc,l=d.linearMap,u=t.noop,p=e.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(m,_,y){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(m,y)},optionUpdated:function(m,_){var y=this.option;r.canvasSupported||(y.realtime=!1),!_&&n.replaceVisualOption(y,m,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(m){var _=this.stateList;m=t.bind(m,this),this.controllerVisuals=n.createVisualMappings(this.option.controller,_,m),this.targetVisuals=n.createVisualMappings(this.option.target,_,m)},getTargetSeriesIndices:function(){var m=this.option.seriesIndex,_=[];return m==null||m==="all"?this.ecModel.eachSeries(function(y,b){_.push(b)}):_=h.normalizeToArray(m),_},eachTargetSeries:function(m,_){t.each(this.getTargetSeriesIndices(),function(y){m.call(_,this.ecModel.getSeriesByIndex(y))},this)},isTargetSeries:function(m){var _=!1;return this.eachTargetSeries(function(y){y===m&&(_=!0)}),_},formatValueText:function(m,_,y){var b=this.option,x=b.precision,w=this.dataBound,S=b.formatter,A,T;if(y=y||["<",">"],t.isArray(m)&&(m=m.slice(),A=!0),T=_?m:A?[M(m[0]),M(m[1])]:M(m),t.isString(S))return S.replace("{value}",A?T[0]:T).replace("{value2}",A?T[1]:T);if(t.isFunction(S))return A?S(m[0],m[1]):S(m);if(A)return m[0]===w[0]?y[0]+" "+T[1]:m[1]===w[1]?y[1]+" "+T[0]:T[0]+" - "+T[1];return T;function M(C){return C===w[0]?"min":C===w[1]?"max":(+C).toFixed(Math.min(x,20))}},resetExtent:function(){var m=this.option,_=s([m.min,m.max]);this._dataExtent=_},getDataDimension:function(m){var _=this.option.dimension,y=m.dimensions;if(!(_==null&&!y.length)){if(_!=null)return m.getDimension(_);for(var b=m.dimensions,x=b.length-1;x>=0;x--){var w=b[x],S=m.getDimensionInfo(w);if(!S.isCalculationCoord)return w}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var m=this.ecModel,_=this.option,y={inRange:_.inRange,outOfRange:_.outOfRange},b=_.target||(_.target={}),x=_.controller||(_.controller={});t.merge(b,y),t.merge(x,y);var w=this.isCategory();S.call(this,b),S.call(this,x),A.call(this,b,"inRange","outOfRange"),T.call(this,x);function S(M){v(_.color)&&!M.inRange&&(M.inRange={color:_.color.slice().reverse()}),M.inRange=M.inRange||{color:m.get("gradientColor")},c(this.stateList,function(C){var L=M[C];if(t.isString(L)){var I=a.get(L,"active",w);I?(M[C]={},M[C][L]=I):delete M[C]}},this)}function A(M,C,L){var I=M[C],P=M[L];I&&!P&&(P=M[L]={},c(I,function(R,E){if(i.isValidType(E)){var D=a.get(E,"inactive",w);D!=null&&(P[E]=D,E==="color"&&!P.hasOwnProperty("opacity")&&!P.hasOwnProperty("colorAlpha")&&(P.opacity=[0,0]))}}))}function T(M){var C=(M.inRange||{}).symbol||(M.outOfRange||{}).symbol,L=(M.inRange||{}).symbolSize||(M.outOfRange||{}).symbolSize,I=this.get("inactiveColor");c(this.stateList,function(P){var R=this.itemSize,E=M[P];E||(E=M[P]={color:w?I:[I]}),E.symbol==null&&(E.symbol=C&&t.clone(C)||(w?"roundRect":["roundRect"])),E.symbolSize==null&&(E.symbolSize=L&&t.clone(L)||(w?R[0]:[R[0],R[0]])),E.symbol=o(E.symbol,function(z){return z==="none"||z==="square"?"roundRect":z});var D=E.symbolSize;if(D!=null){var k=-1/0;f(D,function(z){z>k&&(k=z)}),E.symbolSize=o(D,function(z){return l(z,[0,k],[0,R[0]],!0)})}},this)}},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:u,getValueState:u,getVisualMeta:u}),g=p;return Eh=g,Eh}var kh,hS;function Gq(){if(hS)return kh;hS=1;var e=F,t=QT(),r=Ie(),a=[20,140],i=t.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(d,o){i.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(f){f.mappingMethod="linear",f.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){i.superApply(this,"resetItemSize",arguments);var d=this.itemSize;this._orient==="horizontal"&&d.reverse(),(d[0]==null||isNaN(d[0]))&&(d[0]=a[0]),(d[1]==null||isNaN(d[1]))&&(d[1]=a[1])},_resetRange:function(){var d=this.getExtent(),o=this.option.range;!o||o.auto?(d.auto=1,this.option.range=d):e.isArray(o)&&(o[0]>o[1]&&o.reverse(),o[0]=Math.max(o[0],d[0]),o[1]=Math.min(o[1],d[1]))},completeVisualOption:function(){t.prototype.completeVisualOption.apply(this,arguments),e.each(this.stateList,function(d){var o=this.option.controller[d].symbolSize;o&&o[0]!==o[1]&&(o[0]=0)},this)},setSelected:function(d){this.option.range=d.slice(),this._resetRange()},getSelected:function(){var d=this.getExtent(),o=r.asc((this.get("range")||[]).slice());return o[0]>d[1]&&(o[0]=d[1]),o[1]>d[1]&&(o[1]=d[1]),o[0]<d[0]&&(o[0]=d[0]),o[1]<d[0]&&(o[1]=d[0]),o},getValueState:function(d){var o=this.option.range,f=this.getExtent();return(o[0]<=f[0]||o[0]<=d)&&(o[1]>=f[1]||d<=o[1])?"inRange":"outOfRange"},findTargetDataIndices:function(d){var o=[];return this.eachTargetSeries(function(f){var v=[],c=f.getData();c.each(this.getDataDimension(c),function(s,l){d[0]<=s&&s<=d[1]&&v.push(l)},this),o.push({seriesId:f.id,dataIndex:v})},this),o},getVisualMeta:function(d){var o=n(this,"outOfRange",this.getExtent()),f=n(this,"inRange",this.option.range.slice()),v=[];function c(_,y){v.push({value:_,color:d(_,y)})}for(var s=0,l=0,u=f.length,p=o.length;l<p&&(!f.length||o[l]<=f[0]);l++)o[l]<f[s]&&c(o[l],"outOfRange");for(var g=1;s<u;s++,g=0)g&&v.length&&c(f[s],"outOfRange"),c(f[s],"inRange");for(var g=1;l<p;l++)(!f.length||f[f.length-1]<o[l])&&(g&&(v.length&&c(v[v.length-1].value,"outOfRange"),g=0),c(o[l],"outOfRange"));var m=v.length;return{stops:v,outerColors:[m?v[0].color:"transparent",m?v[m-1].color:"transparent"]}}});function n(d,o,f){if(f[0]===f[1])return f.slice();for(var v=200,c=(f[1]-f[0])/v,s=f[0],l=[],u=0;u<=v&&s<f[1];u++)l.push(s),s+=c;return l.push(f[1]),l}var h=i;return kh=h,kh}var zh,cS;function jT(){if(cS)return zh;cS=1;var e=ve,t=F,r=le,a=Oe,i=ze,n=_a(),h=e.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(d,o){this.ecModel=d,this.api=o,this.visualMapModel},render:function(d,o,f,v){if(this.visualMapModel=d,d.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(d){var o=this.visualMapModel,f=a.normalizeCssArray(o.get("padding")||0),v=d.getBoundingRect();d.add(new r.Rect({z2:-1,silent:!0,shape:{x:v.x-f[3],y:v.y-f[0],width:v.width+f[3]+f[1],height:v.height+f[0]+f[2]},style:{fill:o.get("backgroundColor"),stroke:o.get("borderColor"),lineWidth:o.get("borderWidth")}}))},getControllerVisual:function(d,o,f){f=f||{};var v=f.forceState,c=this.visualMapModel,s={};if(o==="symbol"&&(s.symbol=c.get("itemSymbol")),o==="color"){var l=c.get("contentColor");s.color=l}function u(_){return s[_]}function p(_,y){s[_]=y}var g=c.controllerVisuals[v||c.getValueState(d)],m=n.prepareVisualTypes(g);return t.each(m,function(_){var y=g[_];f.convertOpacityToAlpha&&_==="opacity"&&(_="colorAlpha",y=g.__alphaForOpacity),n.dependsOn(_,o)&&y&&y.applyVisual(d,u,p)}),s[o]},positionGroup:function(d){var o=this.visualMapModel,f=this.api;i.positionElement(d,o.getBoxLayoutParams(),{width:f.getWidth(),height:f.getHeight()})},doRender:t.noop});return zh=h,zh}var qn={},fS;function JT(){if(fS)return qn;fS=1;var e=F,t=ze,r=t.getLayoutRect;function a(n,h,d){var o=n.option,f=o.align;if(f!=null&&f!=="auto")return f;for(var v={width:h.getWidth(),height:h.getHeight()},c=o.orient==="horizontal"?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[c],u=[0,null,10],p={},g=0;g<3;g++)p[s[1-c][g]]=u[g],p[l[g]]=g===2?d[0]:o[l[g]];var m=[["x","width",3],["y","height",0]][c],_=r(p,v,o.padding);return l[(_.margin[m[2]]||0)+_[m[0]]+_[m[1]]*.5<v[m[1]]*.5?0:1]}function i(n){return e.each(n||[],function(h){n.dataIndex!=null&&(n.dataIndexInside=n.dataIndex,n.dataIndex=null)}),n}return qn.getItemAlign=a,qn.convertDataIndex=i,qn}var Oh,dS;function Fq(){if(dS)return Oh;dS=1;var e=F,t=Jw,r=wt,a=jT(),i=le,n=Ie(),h=nn(),d=JT(),o=Me,f=n.linearMap,v=e.each,c=Math.min,s=Math.max,l=12,u=6,p=a.extend({type:"visualMap.continuous",init:function(){p.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(S,A,T,M){(!M||M.type!=="selectDataRange"||M.from!==this.uid)&&this._buildView()},_buildView:function(){this.group.removeAll();var S=this.visualMapModel,A=this.group;this._orient=S.get("orient"),this._useHandle=S.get("calculable"),this._resetInterval(),this._renderBar(A);var T=S.get("text");this._renderEndsText(A,T,0),this._renderEndsText(A,T,1),this._updateView(!0),this.renderBackground(A),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(A)},_renderEndsText:function(S,A,T){if(A){var M=A[1-T];M=M!=null?M+"":"";var C=this.visualMapModel,L=C.get("textGap"),I=C.itemSize,P=this._shapes.barGroup,R=this._applyTransform([I[0]/2,T===0?-L:I[1]+L],P),E=this._applyTransform(T===0?"bottom":"top",P),D=this._orient,k=this.visualMapModel.textStyleModel;this.group.add(new i.Text({style:{x:R[0],y:R[1],textVerticalAlign:D==="horizontal"?"middle":E,textAlign:D==="horizontal"?E:"center",text:M,textFont:k.getFont(),textFill:k.getTextColor()}}))}},_renderBar:function(S){var A=this.visualMapModel,T=this._shapes,M=A.itemSize,C=this._orient,L=this._useHandle,I=d.getItemAlign(A,this.api,M),P=T.barGroup=this._createBarGroup(I);P.add(T.outOfRange=g()),P.add(T.inRange=g(null,L?x(this._orient):null,e.bind(this._dragHandle,this,"all",!1),e.bind(this._dragHandle,this,"all",!0)));var R=A.textStyleModel.getTextRect("国"),E=s(R.width,R.height);L&&(T.handleThumbs=[],T.handleLabels=[],T.handleLabelPoints=[],this._createHandle(P,0,M,E,C,I),this._createHandle(P,1,M,E,C,I)),this._createIndicator(P,M,E,C),S.add(P)},_createHandle:function(S,A,T,M,C){var L=e.bind(this._dragHandle,this,A,!1),I=e.bind(this._dragHandle,this,A,!0),P=g(m(A,M),x(this._orient),L,I);P.position[0]=T[0],S.add(P);var R=this.visualMapModel.textStyleModel,E=new i.Text({draggable:!0,drift:L,onmousemove:function(z){r.stop(z.event)},ondragend:I,style:{x:0,y:0,text:"",textFont:R.getFont(),textFill:R.getTextColor()}});this.group.add(E);var D=[C==="horizontal"?M/2:M*1.5,C==="horizontal"?A===0?-(M*1.5):M*1.5:A===0?-M/2:M/2],k=this._shapes;k.handleThumbs[A]=P,k.handleLabelPoints[A]=D,k.handleLabels[A]=E},_createIndicator:function(S,A,T,M){var C=g([[0,0]],"move");C.position[0]=A[0],C.attr({invisible:!0,silent:!0}),S.add(C);var L=this.visualMapModel.textStyleModel,I=new i.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:L.getFont(),textFill:L.getTextColor()}});this.group.add(I);var P=[M==="horizontal"?T/2:u+3,0],R=this._shapes;R.indicator=C,R.indicatorLabel=I,R.indicatorLabelPoint=P},_dragHandle:function(S,A,T,M){if(this._useHandle){if(this._dragging=!A,!A){var C=this._applyTransform([T,M],this._shapes.barGroup,!0);this._updateInterval(S,C[1]),this._updateView()}A===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),A?!this._hovering&&this._clearHoverLinkToSeries():b(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[S],!1)}},_resetInterval:function(){var S=this.visualMapModel,A=this._dataInterval=S.getSelected(),T=S.getExtent(),M=[0,S.itemSize[1]];this._handleEnds=[f(A[0],T,M,!0),f(A[1],T,M,!0)]},_updateInterval:function(S,A){A=A||0;var T=this.visualMapModel,M=this._handleEnds,C=[0,T.itemSize[1]];h(A,M,C,S,0);var L=T.getExtent();this._dataInterval=[f(M[0],C,L,!0),f(M[1],C,L,!0)]},_updateView:function(S){var A=this.visualMapModel,T=A.getExtent(),M=this._shapes,C=[0,A.itemSize[1]],L=S?C:this._handleEnds,I=this._createBarVisual(this._dataInterval,T,L,"inRange"),P=this._createBarVisual(T,T,C,"outOfRange");M.inRange.setStyle({fill:I.barColor,opacity:I.opacity}).setShape("points",I.barPoints),M.outOfRange.setStyle({fill:P.barColor,opacity:P.opacity}).setShape("points",P.barPoints),this._updateHandle(L,I)},_createBarVisual:function(S,A,T,M){var C={forceState:M,convertOpacityToAlpha:!0},L=this._makeColorGradient(S,C),I=[this.getControllerVisual(S[0],"symbolSize",C),this.getControllerVisual(S[1],"symbolSize",C)],P=this._createBarPoints(T,I);return{barColor:new t(0,0,0,1,L),barPoints:P,handlesColor:[L[0].color,L[L.length-1].color]}},_makeColorGradient:function(S,A){var T=100,M=[],C=(S[1]-S[0])/T;M.push({color:this.getControllerVisual(S[0],"color",A),offset:0});for(var L=1;L<T;L++){var I=S[0]+C*L;if(I>S[1])break;M.push({color:this.getControllerVisual(I,"color",A),offset:L/T})}return M.push({color:this.getControllerVisual(S[1],"color",A),offset:1}),M},_createBarPoints:function(S,A){var T=this.visualMapModel.itemSize;return[[T[0]-A[0],S[0]],[T[0],S[0]],[T[0],S[1]],[T[0]-A[1],S[1]]]},_createBarGroup:function(S){var A=this._orient,T=this.visualMapModel.get("inverse");return new i.Group(A==="horizontal"&&!T?{scale:S==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:A==="horizontal"&&T?{scale:S==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:A==="vertical"&&!T?{scale:S==="left"?[1,-1]:[-1,-1]}:{scale:S==="left"?[1,1]:[-1,1]})},_updateHandle:function(S,A){if(this._useHandle){var T=this._shapes,M=this.visualMapModel,C=T.handleThumbs,L=T.handleLabels;v([0,1],function(I){var P=C[I];P.setStyle("fill",A.handlesColor[I]),P.position[1]=S[I];var R=i.applyTransform(T.handleLabelPoints[I],i.getTransform(P,this.group));L[I].setStyle({x:R[0],y:R[1],text:M.formatValueText(this._dataInterval[I]),textVerticalAlign:"middle",textAlign:this._applyTransform(this._orient==="horizontal"?I===0?"bottom":"top":"left",T.barGroup)})},this)}},_showIndicator:function(S,A,T,M){var C=this.visualMapModel,L=C.getExtent(),I=C.itemSize,P=[0,I[1]],R=f(S,L,P,!0),E=this._shapes,D=E.indicator;if(D){D.position[1]=R,D.attr("invisible",!1),D.setShape("points",_(!!T,M,R,I[1]));var k={convertOpacityToAlpha:!0},z=this.getControllerVisual(S,"color",k);D.setStyle("fill",z);var O=i.applyTransform(E.indicatorLabelPoint,i.getTransform(D,this.group)),N=E.indicatorLabel;N.attr("invisible",!1);var B=this._applyTransform("left",E.barGroup),q=this._orient;N.setStyle({text:(T||"")+C.formatValueText(A),textVerticalAlign:q==="horizontal"?B:"middle",textAlign:q==="horizontal"?"center":B,x:O[0],y:O[1]})}},_enableHoverLinkToSeries:function(){var S=this;this._shapes.barGroup.on("mousemove",function(A){if(S._hovering=!0,!S._dragging){var T=S.visualMapModel.itemSize,M=S._applyTransform([A.offsetX,A.offsetY],S._shapes.barGroup,!0,!0);M[1]=c(s(0,M[1]),T[1]),S._doHoverLinkToSeries(M[1],0<=M[0]&&M[0]<=T[0])}}).on("mouseout",function(){S._hovering=!1,!S._dragging&&S._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var S=this.api.getZr();this.visualMapModel.option.hoverLink?(S.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),S.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(S,A){var T=this.visualMapModel,M=T.itemSize;if(T.option.hoverLink){var C=[0,M[1]],L=T.getExtent();S=c(s(C[0],S),C[1]);var I=y(T,L,C),P=[S-I,S+I],R=f(S,C,L,!0),E=[f(P[0],C,L,!0),f(P[1],C,L,!0)];P[0]<C[0]&&(E[0]=-1/0),P[1]>C[1]&&(E[1]=1/0),A&&(E[0]===-1/0?this._showIndicator(R,E[1],"< ",I):E[1]===1/0?this._showIndicator(R,E[0],"> ",I):this._showIndicator(R,R,"≈ ",I));var D=this._hoverLinkDataIndices,k=[];(A||b(T))&&(k=this._hoverLinkDataIndices=T.findTargetDataIndices(E));var z=o.compressBatches(D,k);this._dispatchHighDown("downplay",d.convertDataIndex(z[0])),this._dispatchHighDown("highlight",d.convertDataIndex(z[1]))}},_hoverLinkFromSeriesMouseOver:function(S){var A=S.target,T=this.visualMapModel;if(!(!A||A.dataIndex==null)){var M=this.ecModel.getSeriesByIndex(A.seriesIndex);if(T.isTargetSeries(M)){var C=M.getData(A.dataType),L=C.get(T.getDataDimension(C),A.dataIndex,!0);isNaN(L)||this._showIndicator(L,L)}}},_hideIndicator:function(){var S=this._shapes;S.indicator&&S.indicator.attr("invisible",!0),S.indicatorLabel&&S.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var S=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",d.convertDataIndex(S)),S.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var S=this.api.getZr();S.off("mouseover",this._hoverLinkFromSeriesMouseOver),S.off("mouseout",this._hideIndicator)},_applyTransform:function(S,A,T,M){var C=i.getTransform(A,M?null:this.group);return i[e.isArray(S)?"applyTransform":"transformDirection"](S,C,T)},_dispatchHighDown:function(S,A){A&&A.length&&this.api.dispatchAction({type:S,batch:A})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function g(S,A,T,M){return new i.Polygon({shape:{points:S},draggable:!!T,cursor:A,drift:T,onmousemove:function(C){r.stop(C.event)},ondragend:M})}function m(S,A){return S===0?[[0,0],[A,0],[A,-A]]:[[0,0],[A,0],[A,A]]}function _(S,A,T,M){return S?[[0,-c(A,s(T,0))],[u,0],[0,c(A,s(M-T,0))]]:[[0,0],[5,-5],[5,5]]}function y(S,A,T){var M=l/2,C=S.get("hoverLinkDataSize");return C&&(M=f(C,A,T,!0)/2),M}function b(S){var A=S.get("hoverLinkOnHandle");return!!(A??S.get("realtime"))}function x(S){return S==="vertical"?"ns-resize":"ew-resize"}var w=p;return Oh=w,Oh}var gS={},pS;function eC(){if(pS)return gS;pS=1;var e=ve,t={type:"selectDataRange",event:"dataRangeSelected",update:"update"};return e.registerAction(t,function(r,a){a.eachComponent({mainType:"visualMap",query:r},function(i){i.setSelected(r.selected)})}),gS}var mS;function $q(){if(mS)return aS;mS=1;var e=ve,t=ZT();return YT(),XT(),Gq(),Fq(),eC(),e.registerPreprocessor(t),aS}var yS={},Nh,_S;function Uq(){if(_S)return Nh;_S=1;var e=F,t=QT(),r=_a(),a=KT(),i=Ie(),n=i.reformIntervals,h=t.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(v,c){h.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var s=this._mode=this._determineMode();d[this._mode].call(this),this._resetSelected(v,c);var l=this.option.categories;this.resetVisual(function(u,p){s==="categories"?(u.mappingMethod="category",u.categories=e.clone(l)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=e.map(this._pieceList,function(m){var m=e.clone(m);return p!=="inRange"&&(m.visual=null),m}))})},completeVisualOption:function(){var v=this.option,c={},s=r.listVisualTypes(),l=this.isCategory();e.each(v.pieces,function(p){e.each(s,function(g){p.hasOwnProperty(g)&&(c[g]=1)})}),e.each(c,function(p,g){var m=0;e.each(this.stateList,function(_){m|=u(v,_,g)||u(v.target,_,g)},this),!m&&e.each(this.stateList,function(_){(v[_]||(v[_]={}))[g]=a.get(g,_==="inRange"?"active":"inactive",l)})},this);function u(p,g,m){return p&&p[g]&&(e.isObject(p[g])?p[g].hasOwnProperty(m):p[g]===m)}t.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(v,c){var s=this.option,l=this._pieceList,u=(c?s:v).selected||{};if(s.selected=u,e.each(l,function(g,m){var _=this.getSelectedMapKey(g);u.hasOwnProperty(_)||(u[_]=!0)},this),s.selectedMode==="single"){var p=!1;e.each(l,function(g,m){var _=this.getSelectedMapKey(g);u[_]&&(p?u[_]=!1:p=!0)},this)}},getSelectedMapKey:function(v){return this._mode==="categories"?v.value+"":v.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var v=this.option;return v.pieces&&v.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(v){this.option.selected=e.clone(v)},getValueState:function(v){var c=r.findPieceIndex(v,this._pieceList);return c!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[c])]?"inRange":"outOfRange"},findTargetDataIndices:function(v){var c=[];return this.eachTargetSeries(function(s){var l=[],u=s.getData();u.each(this.getDataDimension(u),function(p,g){var m=r.findPieceIndex(p,this._pieceList);m===v&&l.push(g)},this),c.push({seriesId:s.id,dataIndex:l})},this),c},getRepresentValue:function(v){var c;if(this.isCategory())c=v.value;else if(v.value!=null)c=v.value;else{var s=v.interval||[];c=s[0]===-1/0&&s[1]===1/0?0:(s[0]+s[1])/2}return c},getVisualMeta:function(v){if(this.isCategory())return;var c=[],s=[],l=this;function u(_,y){var b=l.getRepresentValue({interval:_});y||(y=l.getValueState(b));var x=v(b,y);_[0]===-1/0?s[0]=x:_[1]===1/0?s[1]=x:c.push({value:_[0],color:x},{value:_[1],color:x})}var p=this._pieceList.slice();if(!p.length)p.push({interval:[-1/0,1/0]});else{var g=p[0].interval[0];g!==-1/0&&p.unshift({interval:[-1/0,g]}),g=p[p.length-1].interval[1],g!==1/0&&p.push({interval:[g,1/0]})}var m=-1/0;return e.each(p,function(_){var y=_.interval;y&&(y[0]>m&&u([m,y[0]],"outOfRange"),u(y.slice()),m=y[1])},this),{stops:c,outerColors:s}}}),d={splitNumber:function(){var v=this.option,c=this._pieceList,s=Math.min(v.precision,20),l=this.getExtent(),u=v.splitNumber;u=Math.max(parseInt(u,10),1),v.splitNumber=u;for(var p=(l[1]-l[0])/u;+p.toFixed(s)!==p&&s<5;)s++;v.precision=s,p=+p.toFixed(s);var g=0;v.minOpen&&c.push({index:g++,interval:[-1/0,l[0]],close:[0,0]});for(var m=l[0],_=g+u;g<_;m+=p){var y=g===u-1?l[1]:m+p;c.push({index:g++,interval:[m,y],close:[1,1]})}v.maxOpen&&c.push({index:g++,interval:[l[1],1/0],close:[0,0]}),n(c),e.each(c,function(b){b.text=this.formatValueText(b.interval)},this)},categories:function(){var v=this.option;e.each(v.categories,function(c){this._pieceList.push({text:this.formatValueText(c,!0),value:c})},this),o(v,this._pieceList)},pieces:function(){var v=this.option,c=this._pieceList;e.each(v.pieces,function(s,l){e.isObject(s)||(s={value:s});var u={text:"",index:l};if(s.label!=null&&(u.text=s.label),s.hasOwnProperty("value")){var p=u.value=s.value;u.interval=[p,p],u.close=[1,1]}else{for(var g=u.interval=[],m=u.close=[0,0],_=[1,0,1],y=[-1/0,1/0],b=[],x=0;x<2;x++){for(var w=[["gte","gt","min"],["lte","lt","max"]][x],S=0;S<3&&g[x]==null;S++)g[x]=s[w[S]],m[x]=_[S],b[x]=S===2;g[x]==null&&(g[x]=y[x])}b[0]&&g[1]===1/0&&(m[0]=0),b[1]&&g[0]===-1/0&&(m[1]=0),g[0]===g[1]&&m[0]&&m[1]&&(u.value=g[0])}u.visual=r.retrieveVisuals(s),c.push(u)},this),o(v,c),n(c),e.each(c,function(s){var l=s.close,u=[["<","≤"][l[1]],[">","≥"][l[0]]];s.text=s.text||this.formatValueText(s.value!=null?s.value:s.interval,!1,u)},this)}};function o(v,c){var s=v.inverse;(v.orient==="vertical"?!s:s)&&c.reverse()}var f=h;return Nh=f,Nh}var Vh,xS;function Wq(){if(xS)return Vh;xS=1;var e=F,t=jT(),r=le,a=Ht(),i=a.createSymbol,n=ze,h=JT(),d=t.extend({type:"visualMap.piecewise",doRender:function(){var f=this.group;f.removeAll();var v=this.visualMapModel,c=v.get("textGap"),s=v.textStyleModel,l=s.getFont(),u=s.getTextColor(),p=this._getItemAlign(),g=v.itemSize,m=this._getViewData(),_=m.endsText,y=e.retrieve(v.get("showLabel",!0),!_);_&&this._renderEndsText(f,_[0],g,y,p),e.each(m.viewPieceList,b,this),_&&this._renderEndsText(f,_[1],g,y,p),n.box(v.get("orient"),f,v.get("itemGap")),this.renderBackground(f),this.positionGroup(f);function b(x){var w=x.piece,S=new r.Group;S.onclick=e.bind(this._onItemClick,this,w),this._enableHoverLink(S,x.indexInModelPieceList);var A=v.getRepresentValue(w);if(this._createItemSymbol(S,A,[0,0,g[0],g[1]]),y){var T=this.visualMapModel.getValueState(A);S.add(new r.Text({style:{x:p==="right"?-c:g[0]+c,y:g[1]/2,text:w.text,textVerticalAlign:"middle",textAlign:p,textFont:l,textFill:u,opacity:T==="outOfRange"?.5:1}}))}f.add(S)}},_enableHoverLink:function(f,v){f.on("mouseover",e.bind(c,this,"highlight")).on("mouseout",e.bind(c,this,"downplay"));function c(s){var l=this.visualMapModel;l.option.hoverLink&&this.api.dispatchAction({type:s,batch:h.convertDataIndex(l.findTargetDataIndices(v))})}},_getItemAlign:function(){var f=this.visualMapModel,v=f.option;if(v.orient==="vertical")return h.getItemAlign(f,this.api,f.itemSize);var c=v.align;return(!c||c==="auto")&&(c="left"),c},_renderEndsText:function(f,v,c,s,l){if(v){var u=new r.Group,p=this.visualMapModel.textStyleModel;u.add(new r.Text({style:{x:s?l==="right"?c[0]:0:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:s?l:"center",text:v,textFont:p.getFont(),textFill:p.getTextColor()}})),f.add(u)}},_getViewData:function(){var f=this.visualMapModel,v=e.map(f.getPieceList(),function(u,p){return{piece:u,indexInModelPieceList:p}}),c=f.get("text"),s=f.get("orient"),l=f.get("inverse");return(s==="horizontal"?l:!l)?v.reverse():c&&(c=c.slice().reverse()),{viewPieceList:v,endsText:c}},_createItemSymbol:function(f,v,c){f.add(i(this.getControllerVisual(v,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(v,"color")))},_onItemClick:function(f){var v=this.visualMapModel,c=v.option,s=e.clone(c.selected),l=v.getSelectedMapKey(f);c.selectedMode==="single"?(s[l]=!0,e.each(s,function(u,p){s[p]=p===l})):s[l]=!s[l],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}}),o=d;return Vh=o,Vh}var SS;function Zq(){if(SS)return yS;SS=1;var e=ve,t=ZT();return YT(),XT(),Uq(),Wq(),eC(),e.registerPreprocessor(t),yS}var bS;function Yq(){return bS||(bS=1,$q(),Zq()),rS}var wS={},Bh,AS;function vd(){if(AS)return Bh;AS=1;var e=ve,t=F,r=lt,a=Me,i=Oe,n=Xf,h=i.addCommas,d=i.encodeHTML;function o(c){a.defaultEmphasis(c,"label",["show"])}var f=e.extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(c,s,l,u){this.mergeDefaultAndTheme(c,l),this.mergeOption(c,l,u.createdBySelf,!0)},isAnimationEnabled:function(){if(r.node)return!1;var c=this.__hostSeries;return this.getShallow("animation")&&c&&c.isAnimationEnabled()},mergeOption:function(c,s,l,u){var p=this.constructor,g=this.mainType+"Model";l||s.eachSeries(function(m){var _=m.get(this.mainType,!0),y=m[g];if(!_||!_.data){m[g]=null;return}y?y.mergeOption(_,s,!0):(u&&o(_),t.each(_.data,function(b){b instanceof Array?(o(b[0]),o(b[1])):o(b)}),y=new p(_,this,s),t.extend(y,{mainType:this.mainType,seriesIndex:m.seriesIndex,name:m.name,createdBySelf:!0}),y.__hostSeries=m),m[g]=y},this)},formatTooltip:function(c){var s=this.getData(),l=this.getRawValue(c),u=t.isArray(l)?t.map(l,h).join(", "):h(l),p=s.getName(c),g=d(this.name);return(l!=null||p)&&(g+="<br />"),p&&(g+=d(p),l!=null&&(g+=" : ")),l!=null&&(g+=d(u)),g},getData:function(){return this._data},setData:function(c){this._data=c}});t.mixin(f,n);var v=f;return Bh=v,Bh}var qh,TS;function Xq(){if(TS)return qh;TS=1;var e=vd(),t=e.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});return qh=t,qh}var ta={},CS;function hd(){if(CS)return ta;CS=1;var e=F,t=Ie(),r=Dr(),a=r.isDimensionStacked,i=e.indexOf;function n(g){return!(isNaN(parseFloat(g.x))&&isNaN(parseFloat(g.y)))}function h(g){return!isNaN(parseFloat(g.x))&&!isNaN(parseFloat(g.y))}function d(g,m,_,y,b,x){var w=[],S=a(m,y),A=S?m.getCalculationInfo("stackResultDimension"):y,T=p(m,A,g),M=m.indicesOfNearest(A,T)[0];w[b]=m.get(_,M),w[x]=m.get(y,M);var C=t.getPrecision(m.get(y,M));return C=Math.min(C,20),C>=0&&(w[x]=+w[x].toFixed(C)),w}var o=e.curry,f={min:o(d,"min"),max:o(d,"max"),average:o(d,"average")};function v(g,m){var _=g.getData(),y=g.coordinateSystem;if(m&&!h(m)&&!e.isArray(m.coord)&&y){var b=y.dimensions,x=c(m,_,y,g);if(m=e.clone(m),m.type&&f[m.type]&&x.baseAxis&&x.valueAxis){var w=i(b,x.baseAxis.dim),S=i(b,x.valueAxis.dim);m.coord=f[m.type](_,x.baseDataDim,x.valueDataDim,w,S),m.value=m.coord[S]}else{for(var A=[m.xAxis!=null?m.xAxis:m.radiusAxis,m.yAxis!=null?m.yAxis:m.angleAxis],T=0;T<2;T++)f[A[T]]&&(A[T]=p(_,_.mapDimension(b[T]),A[T]));m.coord=A}}return m}function c(g,m,_,y){var b={};return g.valueIndex!=null||g.valueDim!=null?(b.valueDataDim=g.valueIndex!=null?m.getDimension(g.valueIndex):g.valueDim,b.valueAxis=_.getAxis(s(y,b.valueDataDim)),b.baseAxis=_.getOtherAxis(b.valueAxis),b.baseDataDim=m.mapDimension(b.baseAxis.dim)):(b.baseAxis=y.getBaseAxis(),b.valueAxis=_.getOtherAxis(b.baseAxis),b.baseDataDim=m.mapDimension(b.baseAxis.dim),b.valueDataDim=m.mapDimension(b.valueAxis.dim)),b}function s(g,m){var _=g.getData(),y=_.dimensions;m=_.getDimension(m);for(var b=0;b<y.length;b++){var x=_.getDimensionInfo(y[b]);if(x.name===m)return x.coordDim}}function l(g,m){return g&&g.containData&&m.coord&&!n(m)?g.containData(m.coord):!0}function u(g,m,_,y){return y<2?g.coord&&g.coord[y]:g.value}function p(g,m,_){if(_==="average"){var y=0,b=0;return g.each(m,function(x,w){isNaN(x)||(y+=x,b++)}),y/b}else return _==="median"?g.getMedian(m):g.getDataExtent(m,!0)[_==="max"?1:0]}return ta.dataTransform=v,ta.getAxisInfo=c,ta.dataFilter=l,ta.dimValueGetter=u,ta.numCalculate=p,ta}var Hh,MS;function cd(){if(MS)return Hh;MS=1;var e=ve,t=F,r=e.extendComponentView({type:"marker",init:function(){this.markerGroupMap=t.createHashMap()},render:function(a,i,n){var h=this.markerGroupMap;h.each(function(o){o.__keep=!1});var d=this.type+"Model";i.eachSeries(function(o){var f=o[d];f&&this.renderSeries(o,f,i,n)},this),h.each(function(o){!o.__keep&&this.group.remove(o.group)},this)},renderSeries:function(){}});return Hh=r,Hh}var Gh,DS;function Kq(){if(DS)return Gh;DS=1;var e=F,t=en(),r=Ie(),a=qt(),i=hd(),n=cd();function h(f,v,c){var s=v.coordinateSystem;f.each(function(l){var u=f.getItemModel(l),p,g=r.parsePercent(u.get("x"),c.getWidth()),m=r.parsePercent(u.get("y"),c.getHeight());if(!isNaN(g)&&!isNaN(m))p=[g,m];else if(v.getMarkerPosition)p=v.getMarkerPosition(f.getValues(f.dimensions,l));else if(s){var _=f.get(s.dimensions[0],l),y=f.get(s.dimensions[1],l);p=s.dataToPoint([_,y])}isNaN(g)||(p[0]=g),isNaN(m)||(p[1]=m),f.setItemLayout(l,p)})}var d=n.extend({type:"markPoint",updateTransform:function(f,v,c){v.eachSeries(function(s){var l=s.markPointModel;l&&(h(l.getData(),s,c),this.markerGroupMap.get(s.id).updateLayout(l))},this)},renderSeries:function(f,v,c,s){var l=f.coordinateSystem,u=f.id,p=f.getData(),g=this.markerGroupMap,m=g.get(u)||g.set(u,new t),_=o(l,f,v);v.setData(_),h(v.getData(),f,s),_.each(function(y){var b=_.getItemModel(y),x=b.getShallow("symbolSize");typeof x=="function"&&(x=x(v.getRawValue(y),v.getDataParams(y))),_.setItemVisual(y,{symbolSize:x,color:b.get("itemStyle.color")||p.getVisual("color"),symbol:b.getShallow("symbol")})}),m.updateData(_),this.group.add(m.group),_.eachItemGraphicEl(function(y){y.traverse(function(b){b.dataModel=v})}),m.__keep=!0,m.group.silent=v.get("silent")||f.get("silent")}});function o(f,v,c){var s;f?s=e.map(f&&f.dimensions,function(p){var g=v.getData().getDimensionInfo(v.getData().mapDimension(p))||{};return e.defaults({name:p},g)}):s=[{name:"value",type:"float"}];var l=new a(s,c),u=e.map(c.get("data"),e.curry(i.dataTransform,v));return f&&(u=e.filter(u,e.curry(i.dataFilter,f))),l.initData(u,null,f?i.dimValueGetter:function(p){return p.value}),l}return Gh=d,Gh}var LS;function Qq(){if(LS)return wS;LS=1;var e=ve;return Xq(),Kq(),e.registerPreprocessor(function(t){t.markPoint=t.markPoint||{}}),wS}var IS={},Fh,PS;function jq(){if(PS)return Fh;PS=1;var e=vd(),t=e.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});return Fh=t,Fh}var $h,RS;function Jq(){if(RS)return $h;RS=1;var e=F,t=qt(),r=Ie(),a=hd(),i=nd(),n=cd(),h=function(l,u,p,g){var m=l.getData(),_=g.type;if(!e.isArray(g)&&(_==="min"||_==="max"||_==="average"||_==="median"||g.xAxis!=null||g.yAxis!=null)){var y,b;if(g.yAxis!=null||g.xAxis!=null)y=g.yAxis!=null?"y":"x",u.getAxis(y),b=e.retrieve(g.yAxis,g.xAxis);else{var x=a.getAxisInfo(g,m,u,l);y=x.valueDataDim,x.valueAxis,b=a.numCalculate(m,y,_)}var w=y==="x"?0:1,S=1-w,A=e.clone(g),T={};A.type=null,A.coord=[],T.coord=[],A.coord[S]=-1/0,T.coord[S]=1/0;var M=p.get("precision");M>=0&&typeof b=="number"&&(b=+b.toFixed(Math.min(M,20))),A.coord[w]=T.coord[w]=b,g=[A,T,{type:_,valueIndex:g.valueIndex,value:b}]}return g=[a.dataTransform(l,g[0]),a.dataTransform(l,g[1]),e.extend({},g[2])],g[2].type=g[2].type||"",e.merge(g[2],g[0]),e.merge(g[2],g[1]),g};function d(l){return!isNaN(l)&&!isFinite(l)}function o(l,u,p,g){var m=1-l,_=g.dimensions[l];return d(u[m])&&d(p[m])&&u[l]===p[l]&&g.getAxis(_).containData(u[l])}function f(l,u){if(l.type==="cartesian2d"){var p=u[0].coord,g=u[1].coord;if(p&&g&&(o(1,p,g,l)||o(0,p,g,l)))return!0}return a.dataFilter(l,u[0])&&a.dataFilter(l,u[1])}function v(l,u,p,g,m){var _=g.coordinateSystem,y=l.getItemModel(u),b,x=r.parsePercent(y.get("x"),m.getWidth()),w=r.parsePercent(y.get("y"),m.getHeight());if(!isNaN(x)&&!isNaN(w))b=[x,w];else{if(g.getMarkerPosition)b=g.getMarkerPosition(l.getValues(l.dimensions,u));else{var S=_.dimensions,A=l.get(S[0],u),T=l.get(S[1],u);b=_.dataToPoint([A,T])}if(_.type==="cartesian2d"){var M=_.getAxis("x"),C=_.getAxis("y"),S=_.dimensions;d(l.get(S[0],u))?b[0]=M.toGlobalCoord(M.getExtent()[p?0:1]):d(l.get(S[1],u))&&(b[1]=C.toGlobalCoord(C.getExtent()[p?0:1]))}isNaN(x)||(b[0]=x),isNaN(w)||(b[1]=w)}l.setItemLayout(u,b)}var c=n.extend({type:"markLine",updateTransform:function(l,u,p){u.eachSeries(function(g){var m=g.markLineModel;if(m){var _=m.getData(),y=m.__from,b=m.__to;y.each(function(x){v(y,x,!0,g,p),v(b,x,!1,g,p)}),_.each(function(x){_.setItemLayout(x,[y.getItemLayout(x),b.getItemLayout(x)])}),this.markerGroupMap.get(g.id).updateLayout()}},this)},renderSeries:function(l,u,p,g){var m=l.coordinateSystem,_=l.id,y=l.getData(),b=this.markerGroupMap,x=b.get(_)||b.set(_,new i);this.group.add(x.group);var w=s(m,l,u),S=w.from,A=w.to,T=w.line;u.__from=S,u.__to=A,u.setData(T);var M=u.get("symbol"),C=u.get("symbolSize");e.isArray(M)||(M=[M,M]),typeof C=="number"&&(C=[C,C]),w.from.each(function(I){L(S,I,!0),L(A,I,!1)}),T.each(function(I){var P=T.getItemModel(I).get("lineStyle.color");T.setItemVisual(I,{color:P||S.getItemVisual(I,"color")}),T.setItemLayout(I,[S.getItemLayout(I),A.getItemLayout(I)]),T.setItemVisual(I,{fromSymbolSize:S.getItemVisual(I,"symbolSize"),fromSymbol:S.getItemVisual(I,"symbol"),toSymbolSize:A.getItemVisual(I,"symbolSize"),toSymbol:A.getItemVisual(I,"symbol")})}),x.updateData(T),w.line.eachItemGraphicEl(function(I,P){I.traverse(function(R){R.dataModel=u})});function L(I,P,R){var E=I.getItemModel(P);v(I,P,R,l,g),I.setItemVisual(P,{symbolSize:E.get("symbolSize")||C[R?0:1],symbol:E.get("symbol",!0)||M[R?0:1],color:E.get("itemStyle.color")||y.getVisual("color")})}x.__keep=!0,x.group.silent=u.get("silent")||l.get("silent")}});function s(l,u,p){var g;l?g=e.map(l&&l.dimensions,function(w){var S=u.getData().getDimensionInfo(u.getData().mapDimension(w))||{};return e.defaults({name:w},S)}):g=[{name:"value",type:"float"}];var m=new t(g,p),_=new t(g,p),y=new t([],p),b=e.map(p.get("data"),e.curry(h,u,l,p));l&&(b=e.filter(b,e.curry(f,l)));var x=l?a.dimValueGetter:function(w){return w.value};return m.initData(e.map(b,function(w){return w[0]}),null,x),_.initData(e.map(b,function(w){return w[1]}),null,x),y.initData(e.map(b,function(w){return w[2]})),y.hasItemOption=!0,{from:m,to:_,line:y}}return $h=c,$h}var ES;function e3(){if(ES)return IS;ES=1;var e=ve;return jq(),Jq(),e.registerPreprocessor(function(t){t.markLine=t.markLine||{}}),IS}var kS={},Uh,zS;function t3(){if(zS)return Uh;zS=1;var e=vd(),t=e.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});return Uh=t,Uh}var OS={},NS;function r3(){if(NS)return OS;NS=1;var e=F,t=ut,r=qt(),a=Ie(),i=le,n=hd(),h=cd(),d=function(u,p,g,m){var _=n.dataTransform(u,m[0]),y=n.dataTransform(u,m[1]),b=e.retrieve,x=_.coord,w=y.coord;x[0]=b(x[0],-1/0),x[1]=b(x[1],-1/0),w[0]=b(w[0],1/0),w[1]=b(w[1],1/0);var S=e.mergeAll([{},_,y]);return S.coord=[_.coord,y.coord],S.x0=_.x,S.y0=_.y,S.x1=y.x,S.y1=y.y,S};function o(u){return!isNaN(u)&&!isFinite(u)}function f(u,p,g,m){var _=1-u;return o(p[_])&&o(g[_])}function v(u,p){var g=p.coord[0],m=p.coord[1];return u.type==="cartesian2d"&&g&&m&&(f(1,g,m)||f(0,g,m))?!0:n.dataFilter(u,{coord:g,x:p.x0,y:p.y0})||n.dataFilter(u,{coord:m,x:p.x1,y:p.y1})}function c(u,p,g,m,_){var y=m.coordinateSystem,b=u.getItemModel(p),x,w=a.parsePercent(b.get(g[0]),_.getWidth()),S=a.parsePercent(b.get(g[1]),_.getHeight());if(!isNaN(w)&&!isNaN(S))x=[w,S];else{if(m.getMarkerPosition)x=m.getMarkerPosition(u.getValues(g,p));else{var A=u.get(g[0],p),T=u.get(g[1],p),M=[A,T];y.clampData&&y.clampData(M,M),x=y.dataToPoint(M,!0)}if(y.type==="cartesian2d"){var C=y.getAxis("x"),L=y.getAxis("y"),A=u.get(g[0],p),T=u.get(g[1],p);o(A)?x[0]=C.toGlobalCoord(C.getExtent()[g[0]==="x0"?0:1]):o(T)&&(x[1]=L.toGlobalCoord(L.getExtent()[g[1]==="y0"?0:1]))}isNaN(w)||(x[0]=w),isNaN(S)||(x[1]=S)}return x}var s=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];h.extend({type:"markArea",updateTransform:function(u,p,g){p.eachSeries(function(m){var _=m.markAreaModel;if(_){var y=_.getData();y.each(function(b){var x=e.map(s,function(S){return c(y,b,S,m,g)});y.setItemLayout(b,x);var w=y.getItemGraphicEl(b);w.setShape("points",x)})}},this)},renderSeries:function(u,p,g,m){var _=u.coordinateSystem,y=u.id,b=u.getData(),x=this.markerGroupMap,w=x.get(y)||x.set(y,{group:new i.Group});this.group.add(w.group),w.__keep=!0;var S=l(_,u,p);p.setData(S),S.each(function(A){S.setItemLayout(A,e.map(s,function(T){return c(S,A,T,u,m)})),S.setItemVisual(A,{color:b.getVisual("color")})}),S.diff(w.__data).add(function(A){var T=new i.Polygon({shape:{points:S.getItemLayout(A)}});S.setItemGraphicEl(A,T),w.group.add(T)}).update(function(A,T){var M=w.__data.getItemGraphicEl(T);i.updateProps(M,{shape:{points:S.getItemLayout(A)}},p,A),w.group.add(M),S.setItemGraphicEl(A,M)}).remove(function(A){var T=w.__data.getItemGraphicEl(A);w.group.remove(T)}).execute(),S.eachItemGraphicEl(function(A,T){var M=S.getItemModel(T),C=M.getModel("label"),L=M.getModel("emphasis.label"),I=S.getItemVisual(T,"color");A.useStyle(e.defaults(M.getModel("itemStyle").getItemStyle(),{fill:t.modifyAlpha(I,.4),stroke:I})),A.hoverStyle=M.getModel("emphasis.itemStyle").getItemStyle(),i.setLabelStyle(A.style,A.hoverStyle,C,L,{labelFetcher:p,labelDataIndex:T,defaultText:S.getName(T)||"",isRectText:!0,autoColor:I}),i.setHoverStyle(A,{}),A.dataModel=p}),w.__data=S,w.group.silent=p.get("silent")||u.get("silent")}});function l(u,p,g){var m,_,y=["x0","y0","x1","y1"];u?(m=e.map(u&&u.dimensions,function(w){var S=p.getData(),A=S.getDimensionInfo(S.mapDimension(w))||{};return e.defaults({name:w},A)}),_=new r(e.map(y,function(w,S){return{name:w,type:m[S%2].type}}),g)):(m=[{name:"value",type:"float"}],_=new r(m,g));var b=e.map(g.get("data"),e.curry(d,p,u,g));u&&(b=e.filter(b,e.curry(v,u)));var x=u?function(w,S,A,T){return w.coord[Math.floor(T/2)][T%2]}:function(w){return w.value};return _.initData(b,null,x),_.hasItemOption=!0,_}return OS}var VS;function a3(){if(VS)return kS;VS=1;var e=ve;return t3(),r3(),e.registerPreprocessor(function(t){t.markArea=t.markArea||{}}),kS}var BS={},Wh,qS;function i3(){if(qS)return Wh;qS=1;var e=F;function t(n){var h=n&&n.timeline;e.isArray(h)||(h=h?[h]:[]),e.each(h,function(d){d&&r(d)})}function r(n){var h=n.type,d={number:"value",time:"time"};if(d[h]&&(n.axisType=d[h],delete n.type),a(n),i(n,"controlPosition")){var o=n.controlStyle||(n.controlStyle={});i(o,"position")||(o.position=n.controlPosition),o.position==="none"&&!i(o,"show")&&(o.show=!1,delete o.position),delete n.controlPosition}e.each(n.data||[],function(f){e.isObject(f)&&!e.isArray(f)&&(!i(f,"value")&&i(f,"name")&&(f.value=f.name),a(f))})}function a(n){var h=n.itemStyle||(n.itemStyle={}),d=h.emphasis||(h.emphasis={}),o=n.label||n.label||{},f=o.normal||(o.normal={}),v={normal:1,emphasis:1};e.each(o,function(c,s){!v[s]&&!i(f,s)&&(f[s]=c)}),d.label&&!i(o,"emphasis")&&(o.emphasis=d.label,delete d.label)}function i(n,h){return n.hasOwnProperty(h)}return Wh=t,Wh}var HS={},GS;function n3(){if(GS)return HS;GS=1;var e=vt;return e.registerSubTypeDefaulter("timeline",function(){return"slider"}),HS}var FS={},$S;function o3(){if($S)return FS;$S=1;var e=ve,t=F;return e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(r,a){var i=a.getComponent("timeline");return i&&r.currentIndex!=null&&(i.setCurrentIndex(r.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),a.resetOption("timeline"),t.defaults({currentIndex:i.option.currentIndex},r)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(r,a){var i=a.getComponent("timeline");i&&r.playState!=null&&i.setPlayState(r.playState)}),FS}var Zh,US;function s3(){if(US)return Zh;US=1;var e=F,t=vt,r=qt(),a=Me,i=t.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(h,d,o){this._data,this._names,this.mergeDefaultAndTheme(h,o),this._initData()},mergeOption:function(h){i.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(h){h==null&&(h=this.option.currentIndex);var d=this._data.count();this.option.loop?h=(h%d+d)%d:(h>=d&&(h=d-1),h<0&&(h=0)),this.option.currentIndex=h},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(h){this.option.autoPlay=!!h},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var h=this.option,d=h.data||[],o=h.axisType,f=this._names=[];if(o==="category"){var v=[];e.each(d,function(l,u){var p=a.getDataItemValue(l),g;e.isObject(l)?(g=e.clone(l),g.value=u):g=u,v.push(g),!e.isString(p)&&(p==null||isNaN(p))&&(p=""),f.push(p+"")}),d=v}var c={category:"ordinal",time:"time"}[o]||"number",s=this._data=new r([{name:"value",type:c}],this);s.initData(d,f)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}}),n=i;return Zh=n,Zh}var Yh,WS;function l3(){if(WS)return Yh;WS=1;var e=F,t=s3(),r=Xf,a=t.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});e.mixin(a,r);var i=a;return Yh=i,Yh}var Xh,ZS;function u3(){if(ZS)return Xh;ZS=1;var e=Ro,t=e.extend({type:"timeline"});return Xh=t,Xh}var Kh,YS;function v3(){if(YS)return Kh;YS=1;var e=F,t=Yr(),r=function(i,n,h,d){t.call(this,i,n,h),this.type=d||"value",this.model=null};r.prototype={constructor:r,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return this.model.get("orient")==="horizontal"}},e.inherits(r,t);var a=r;return Kh=a,Kh}var Qh,XS;function h3(){if(XS)return Qh;XS=1;var e=F,t=Qe,r=We,a=le,i=ze,n=u3(),h=v3(),d=Ht(),o=d.createSymbol,f=jt(),v=Ie(),c=Oe,s=c.encodeHTML,l=e.bind,u=e.each,p=Math.PI,g=n.extend({type:"timeline.slider",init:function(x,w){this.api=w,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(x,w,S,A){if(this.model=x,this.api=S,this.ecModel=w,this.group.removeAll(),x.get("show",!0)){var T=this._layout(x,S),M=this._createGroup("mainGroup"),C=this._createGroup("labelGroup"),L=this._axis=this._createAxis(T,x);x.formatTooltip=function(I){return s(L.scale.getLabel(I))},u(["AxisLine","AxisTick","Control","CurrentPointer"],function(I){this["_render"+I](T,M,L,x)},this),this._renderAxisLabel(T,C,L,x),this._position(T,x)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(x,w){var S=x.get("label.position"),A=x.get("orient"),T=m(x,w);S==null||S==="auto"?S=A==="horizontal"?T.y+T.height/2<w.getHeight()/2?"-":"+":T.x+T.width/2<w.getWidth()/2?"+":"-":isNaN(S)&&(S={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[A][S]);var M={horizontal:"center",vertical:S>=0||S==="+"?"left":"right"},C={horizontal:S>=0||S==="+"?"top":"bottom",vertical:"middle"},L={horizontal:0,vertical:p/2},I=A==="vertical"?T.height:T.width,P=x.getModel("controlStyle"),R=P.get("show",!0),E=R?P.get("itemSize"):0,D=R?P.get("itemGap"):0,k=E+D,z=x.get("label.rotate")||0;z=z*p/180;var O,N,B,q,V=P.get("position",!0),G=R&&P.get("showPlayBtn",!0),$=R&&P.get("showPrevBtn",!0),Z=R&&P.get("showNextBtn",!0),Y=0,Q=I;return V==="left"||V==="bottom"?(G&&(O=[0,0],Y+=k),$&&(N=[Y,0],Y+=k),Z&&(B=[Q-E,0],Q-=k)):(G&&(O=[Q-E,0],Q-=k),$&&(N=[0,0],Y+=k),Z&&(B=[Q-E,0],Q-=k)),q=[Y,Q],x.get("inverse")&&q.reverse(),{viewRect:T,mainLength:I,orient:A,rotation:L[A],labelRotation:z,labelPosOpt:S,labelAlign:x.get("label.align")||M[A],labelBaseline:x.get("label.verticalAlign")||x.get("label.baseline")||C[A],playPosition:O,prevBtnPosition:N,nextBtnPosition:B,axisExtent:q,controlSize:E,controlGap:D}},_position:function(x,w){var S=this._mainGroup,A=this._labelGroup,T=x.viewRect;if(x.orient==="vertical"){var M=r.create(),C=T.x,L=T.y+T.height;r.translate(M,M,[-C,-L]),r.rotate(M,M,-p/2),r.translate(M,M,[C,L]),T=T.clone(),T.applyTransform(M)}var I=N(T),P=N(S.getBoundingRect()),R=N(A.getBoundingRect()),E=S.position,D=A.position;D[0]=E[0]=I[0][0];var k=x.labelPosOpt;if(isNaN(k)){var z=k==="+"?0:1;B(E,P,I,1,z),B(D,R,I,1,1-z)}else{var z=k>=0?0:1;B(E,P,I,1,z),D[1]=E[1]+k}S.attr("position",E),A.attr("position",D),S.rotation=A.rotation=x.rotation,O(S),O(A);function O(q){var V=q.position;q.origin=[I[0][0]-V[0],I[1][0]-V[1]]}function N(q){return[[q.x,q.x+q.width],[q.y,q.y+q.height]]}function B(q,V,G,$,Z){q[$]+=G[$][Z]-V[$][Z]}},_createAxis:function(x,w){var S=w.getData(),A=w.get("axisType"),T=f.createScaleByModel(w,A);T.getTicks=function(){return S.mapArray(["value"],function(L){return L})};var M=S.getDataExtent("value");T.setExtent(M[0],M[1]),T.niceTicks();var C=new h("value",T,x.axisExtent,A);return C.model=w,C},_createGroup:function(x){var w=this["_"+x]=new a.Group;return this.group.add(w),w},_renderAxisLine:function(x,w,S,A){var T=S.getExtent();A.get("lineStyle.show")&&w.add(new a.Line({shape:{x1:T[0],y1:0,x2:T[1],y2:0},style:e.extend({lineCap:"round"},A.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(x,w,S,A){var T=A.getData(),M=S.scale.getTicks();u(M,function(C){var L=S.dataToCoord(C),I=T.getItemModel(C),P=I.getModel("itemStyle"),R=I.getModel("emphasis.itemStyle"),E={position:[L,0],onclick:l(this._changeTimeline,this,C)},D=y(I,P,w,E);a.setHoverStyle(D,R.getItemStyle()),I.get("tooltip")?(D.dataIndex=C,D.dataModel=A):D.dataIndex=D.dataModel=null},this)},_renderAxisLabel:function(x,w,S,A){var T=S.getLabelModel();if(T.get("show")){var M=A.getData(),C=S.getViewLabels();u(C,function(L){var I=L.tickValue,P=M.getItemModel(I),R=P.getModel("label"),E=P.getModel("emphasis.label"),D=S.dataToCoord(L.tickValue),k=new a.Text({position:[D,0],rotation:x.labelRotation-x.rotation,onclick:l(this._changeTimeline,this,I),silent:!1});a.setTextStyle(k.style,R,{text:L.formattedLabel,textAlign:x.labelAlign,textVerticalAlign:x.labelBaseline}),w.add(k),a.setHoverStyle(k,a.setTextStyle({},E))},this)}},_renderControl:function(x,w,S,A){var T=x.controlSize,M=x.rotation,C=A.getModel("controlStyle").getItemStyle(),L=A.getModel("emphasis.controlStyle").getItemStyle(),I=[0,-T/2,T,T],P=A.getPlayState(),R=A.get("inverse",!0);E(x.nextBtnPosition,"controlStyle.nextIcon",l(this._changeTimeline,this,R?"-":"+")),E(x.prevBtnPosition,"controlStyle.prevIcon",l(this._changeTimeline,this,R?"+":"-")),E(x.playPosition,"controlStyle."+(P?"stopIcon":"playIcon"),l(this._handlePlayClick,this,!P),!0);function E(D,k,z,O){if(D){var N={position:D,origin:[T/2,0],rotation:O?-M:0,rectHover:!0,style:C,onclick:z},B=_(A,k,I,N);w.add(B),a.setHoverStyle(B,L)}}},_renderCurrentPointer:function(x,w,S,A){var T=A.getData(),M=A.getCurrentIndex(),C=T.getItemModel(M).getModel("checkpointStyle"),L=this,I={onCreate:function(P){P.draggable=!0,P.drift=l(L._handlePointerDrag,L),P.ondragend=l(L._handlePointerDragend,L),b(P,M,S,A,!0)},onUpdate:function(P){b(P,M,S,A)}};this._currentPointer=y(C,C,this._mainGroup,{},this._currentPointer,I)},_handlePlayClick:function(x){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:x,from:this.uid})},_handlePointerDrag:function(x,w,S){this._clearTimer(),this._pointerChangeTimeline([S.offsetX,S.offsetY])},_handlePointerDragend:function(x){this._pointerChangeTimeline([x.offsetX,x.offsetY],!0)},_pointerChangeTimeline:function(x,w){var S=this._toAxisCoord(x)[0],A=this._axis,T=v.asc(A.getExtent().slice());S>T[1]&&(S=T[1]),S<T[0]&&(S=T[0]),this._currentPointer.position[0]=S,this._currentPointer.dirty();var M=this._findNearestTick(S),C=this.model;(w||M!==C.getCurrentIndex()&&C.get("realtime"))&&this._changeTimeline(M)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(l(x,this),this.model.get("playInterval")));function x(){var w=this.model;this._changeTimeline(w.getCurrentIndex()+(w.get("rewind",!0)?-1:1))}},_toAxisCoord:function(x){var w=this._mainGroup.getLocalTransform();return a.applyTransform(x,w,!0)},_findNearestTick:function(x){var w=this.model.getData(),S=1/0,A,T=this._axis;return w.each(["value"],function(M,C){var L=T.dataToCoord(M),I=Math.abs(L-x);I<S&&(S=I,A=C)}),A},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(x){var w=this.model.getCurrentIndex();x==="+"?x=w+1:x==="-"&&(x=w-1),this.api.dispatchAction({type:"timelineChange",currentIndex:x,from:this.uid})}});function m(x,w){return i.getLayoutRect(x.getBoxLayoutParams(),{width:w.getWidth(),height:w.getHeight()},x.get("padding"))}function _(x,w,S,A){var T=a.makePath(x.get(w).replace(/^path:\/\//,""),e.clone(A||{}),new t(S[0],S[1],S[2],S[3]),"center");return T}function y(x,w,S,A,T,M){var C=w.get("color");if(T)T.setColor(C),S.add(T),M&&M.onUpdate(T);else{var L=x.get("symbol");T=o(L,-1,-1,2,2,C),T.setStyle("strokeNoScale",!0),S.add(T),M&&M.onCreate(T)}var I=w.getItemStyle(["color","symbol","symbolSize"]);T.setStyle(I),A=e.merge({rectHover:!0,z2:100},A,!0);var P=x.get("symbolSize");P=P instanceof Array?P.slice():[+P,+P],P[0]/=2,P[1]/=2,A.scale=P;var R=x.get("symbolOffset");if(R){var E=A.position=A.position||[0,0];E[0]+=v.parsePercent(R[0],P[0]),E[1]+=v.parsePercent(R[1],P[1])}var D=x.get("symbolRotate");return A.rotation=(D||0)*Math.PI/180||0,T.attr(A),T.updateTransform(),T}function b(x,w,S,A,T){if(!x.dragging){var M=A.getModel("checkpointStyle"),C=S.dataToCoord(A.getData().get(["value"],w));T||!M.get("animation",!0)?x.attr({position:[C,0]}):(x.stopAnimation(!0),x.animateTo({position:[C,0]},M.get("animationDuration",!0),M.get("animationEasing",!0)))}}return Qh=g,Qh}var KS;function c3(){if(KS)return BS;KS=1;var e=ve,t=i3();return n3(),o3(),l3(),h3(),e.registerPreprocessor(t),BS}var QS={},jh,jS;function f3(){if(jS)return jh;jS=1;var e=ve,t=F,r=Xr(),a=e.extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){a.superApply(this,"optionUpdated",arguments),t.each(this.option.feature,function(n,h){var d=r.get(h);d&&t.merge(n,d.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}}),i=a;return jh=i,jh}var Jh,JS;function d3(){if(JS)return Jh;JS=1;var e=ve,t=F,r=Ze,a=Xr(),i=le,n=mt,h=da(),d=HT(),o=e.extendComponentView({type:"toolbox",render:function(v,c,s,l){var u=this.group;if(u.removeAll(),!v.get("show"))return;var p=+v.get("itemSize"),g=v.get("feature")||{},m=this._features||(this._features={}),_=[];t.each(g,function(x,w){_.push(w)}),new h(this._featureNames||[],_).add(y).update(y).remove(t.curry(y,null)).execute(),this._featureNames=_;function y(x,w){var S=_[x],A=_[w],T=g[S],M=new n(T,v,v.ecModel),C;if(S&&!A){if(f(S))C={model:M,onclick:M.option.onclick,featureName:S};else{var L=a.get(S);if(!L)return;C=new L(M,c,s)}m[S]=C}else{if(C=m[A],!C)return;C.model=M,C.ecModel=c,C.api=s}if(!S&&A){C.dispose&&C.dispose(c,s);return}if(!M.get("show")||C.unusable){C.remove&&C.remove(c,s);return}b(M,C,S),M.setIconStatus=function(I,P){var R=this.option,E=this.iconPaths;R.iconStatus=R.iconStatus||{},R.iconStatus[I]=P,E[I]&&E[I].trigger(P)},C.render&&C.render(M,c,s,l)}function b(x,w,S){var A=x.getModel("iconStyle"),T=x.getModel("emphasis.iconStyle"),M=w.getIcons?w.getIcons():x.get("icon"),C=x.get("title")||{};if(typeof M=="string"){var L=M,I=C;M={},C={},M[S]=L,C[S]=I}var P=x.iconPaths={};t.each(M,function(R,E){var D=i.createIcon(R,{},{x:-p/2,y:-p/2,width:p,height:p});D.setStyle(A.getItemStyle()),D.hoverStyle=T.getItemStyle(),i.setHoverStyle(D),v.get("showTitle")&&(D.__title=C[E],D.on("mouseover",function(){var k=T.getItemStyle();D.setStyle({text:C[E],textPosition:k.textPosition||"bottom",textFill:k.fill||k.stroke||"#000",textAlign:k.textAlign||"center"})}).on("mouseout",function(){D.setStyle({textFill:null})})),D.trigger(x.get("iconStatus."+E)||"normal"),u.add(D),D.on("click",t.bind(w.onclick,w,c,s,E)),P[E]=D})}d.layout(u,v,s),u.add(d.makeBackground(u.getBoundingRect(),v)),u.eachChild(function(x){var w=x.__title,S=x.hoverStyle;if(S&&w){var A=r.getBoundingRect(w,r.makeFont(S)),T=x.position[0]+u.position[0],M=x.position[1]+u.position[1]+p,C=!1;M+A.height>s.getHeight()&&(S.textPosition="top",C=!0);var L=C?-5-A.height:p+8;T+A.width/2>s.getWidth()?(S.textPosition=["100%",L],S.textAlign="right"):T-A.width/2<0&&(S.textPosition=[0,L],S.textAlign="left")}})},updateView:function(v,c,s,l){t.each(this._features,function(u){u.updateView&&u.updateView(u.model,c,s,l)})},remove:function(v,c){t.each(this._features,function(s){s.remove&&s.remove(v,c)}),this.group.removeAll()},dispose:function(v,c){t.each(this._features,function(s){s.dispose&&s.dispose(v,c)})}});function f(v){return v.indexOf("my")===0}return Jh=o,Jh}var ec,eb;function g3(){if(eb)return ec;eb=1;var e=lt,t=fa,r=Xr(),a=t.toolbox.saveAsImage;function i(d){this.model=d}i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:a.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:a.lang.slice()},i.prototype.unusable=!e.canvasSupported;var n=i.prototype;n.onclick=function(d,o){var f=this.model,v=f.get("name")||d.get("title.0.text")||"echarts",c=document.createElement("a"),s=f.get("type",!0)||"png";c.download=v+"."+s,c.target="_blank";var l=o.getConnectedDataURL({type:s,backgroundColor:f.get("backgroundColor",!0)||d.get("backgroundColor")||"#fff",excludeComponents:f.get("excludeComponents"),pixelRatio:f.get("pixelRatio")});if(c.href=l,typeof MouseEvent=="function"&&!e.browser.ie&&!e.browser.edge){var u=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});c.dispatchEvent(u)}else if(window.navigator.msSaveOrOpenBlob){for(var p=atob(l.split(",")[1]),g=p.length,m=new Uint8Array(g);g--;)m[g]=p.charCodeAt(g);var _=new Blob([m]);window.navigator.msSaveOrOpenBlob(_,v+"."+s)}else{var y=f.get("lang"),b='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(y&&y[0]||"")+'" /></body>',x=window.open();x.document.write(b)}},r.register("saveAsImage",i);var h=i;return ec=h,ec}var tc,tb;function p3(){if(tb)return tc;tb=1;var e=ve,t=F,r=fa,a=Xr(),i=r.toolbox.magicType;function n(v){this.model=v}n.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:t.clone(i.title),option:{},seriesIndex:{}};var h=n.prototype;h.getIcons=function(){var v=this.model,c=v.get("icon"),s={};return t.each(v.get("type"),function(l){c[l]&&(s[l]=c[l])}),s};var d={line:function(v,c,s,l){if(v==="bar")return t.merge({id:c,type:"line",data:s.get("data"),stack:s.get("stack"),markPoint:s.get("markPoint"),markLine:s.get("markLine")},l.get("option.line")||{},!0)},bar:function(v,c,s,l){if(v==="line")return t.merge({id:c,type:"bar",data:s.get("data"),stack:s.get("stack"),markPoint:s.get("markPoint"),markLine:s.get("markLine")},l.get("option.bar")||{},!0)},stack:function(v,c,s,l){if(v==="line"||v==="bar")return t.merge({id:c,stack:"__ec_magicType_stack__"},l.get("option.stack")||{},!0)},tiled:function(v,c,s,l){if(v==="line"||v==="bar")return t.merge({id:c,stack:""},l.get("option.tiled")||{},!0)}},o=[["line","bar"],["stack","tiled"]];h.onclick=function(v,c,s){var l=this.model,u=l.get("seriesIndex."+s);if(d[s]){var p={series:[]},g=function(m){var _=m.subType,y=m.id,b=d[s](_,y,m,l);b&&(t.defaults(b,m.option),p.series.push(b));var x=m.coordinateSystem;if(x&&x.type==="cartesian2d"&&(s==="line"||s==="bar")){var w=x.getAxesByScale("ordinal")[0];if(w){var S=w.dim,A=S+"Axis",T=v.queryComponents({mainType:A,index:m.get(name+"Index"),id:m.get(name+"Id")})[0],M=T.componentIndex;p[A]=p[A]||[];for(var C=0;C<=M;C++)p[A][M]=p[A][M]||{};p[A][M].boundaryGap=s==="bar"}}};t.each(o,function(m){t.indexOf(m,s)>=0&&t.each(m,function(_){l.setIconStatus(_,"normal")})}),l.setIconStatus(s,"emphasis"),v.eachComponent({mainType:"series",query:u==null?null:{seriesIndex:u}},g),c.dispatchAction({type:"changeMagicType",currentType:s,newOption:p})}},e.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(v,c){c.mergeOption(v.newOption)}),a.register("magicType",n);var f=n;return tc=f,tc}var rc,rb;function m3(){if(rb)return rc;rb=1;var e=ve,t=F,r=wt,a=fa,i=Xr(),n=a.toolbox.dataView,h=new Array(60).join("-"),d="	";function o(x){var w={},S=[],A=[];return x.eachRawSeries(function(T){var M=T.coordinateSystem;if(M&&(M.type==="cartesian2d"||M.type==="polar")){var C=M.getBaseAxis();if(C.type==="category"){var L=C.dim+"_"+C.index;w[L]||(w[L]={categoryAxis:C,valueAxis:M.getOtherAxis(C),series:[]},A.push({axisDim:C.dim,axisIndex:C.index})),w[L].series.push(T)}else S.push(T)}else S.push(T)}),{seriesGroupByCategoryAxis:w,other:S,meta:A}}function f(x){var w=[];return t.each(x,function(S,A){var T=S.categoryAxis,M=S.valueAxis,C=M.dim,L=[" "].concat(t.map(S.series,function(k){return k.name})),I=[T.model.getCategories()];t.each(S.series,function(k){I.push(k.getRawData().mapArray(C,function(z){return z}))});for(var P=[L.join(d)],R=0;R<I[0].length;R++){for(var E=[],D=0;D<I.length;D++)E.push(I[D][R]);P.push(E.join(d))}w.push(P.join(`
`))}),w.join(`

`+h+`

`)}function v(x){return t.map(x,function(w){var S=w.getRawData(),A=[w.name],T=[];return S.each(S.dimensions,function(){for(var M=arguments.length,C=arguments[M-1],L=S.getName(C),I=0;I<M-1;I++)T[I]=arguments[I];A.push((L?L+d:"")+T.join(d))}),A.join(`
`)}).join(`

`+h+`

`)}function c(x){var w=o(x);return{value:t.filter([f(w.seriesGroupByCategoryAxis),v(w.other)],function(S){return S.replace(/[\n\t\s]/g,"")}).join(`

`+h+`

`),meta:w.meta}}function s(x){return x.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(x){var w=x.slice(0,x.indexOf(`
`));if(w.indexOf(d)>=0)return!0}var u=new RegExp("["+d+"]+","g");function p(x){for(var w=x.split(/\n+/g),S=s(w.shift()).split(u),A=[],T=t.map(S,function(I){return{name:I,data:[]}}),M=0;M<w.length;M++){var C=s(w[M]).split(u);A.push(C.shift());for(var L=0;L<C.length;L++)T[L]&&(T[L].data[M]=C[L])}return{series:T,categories:A}}function g(x){for(var w=x.split(/\n+/g),S=s(w.shift()),A=[],T=0;T<w.length;T++){var M=s(w[T]).split(u),C="",L,I=!1;isNaN(M[0])?(I=!0,C=M[0],M=M.slice(1),A[T]={name:C,value:[]},L=A[T].value):L=A[T]=[];for(var P=0;P<M.length;P++)L.push(+M[P]);L.length===1&&(I?A[T].value=L[0]:A[T]=L[0])}return{name:S,data:A}}function m(x,w){var S=x.split(new RegExp(`
*`+h+`
*`,"g")),A={series:[]};return t.each(S,function(T,M){if(l(T)){var C=p(T),L=w[M],I=L.axisDim+"Axis";L&&(A[I]=A[I]||[],A[I][L.axisIndex]={data:C.categories},A.series=A.series.concat(C.series))}else{var C=g(T);A.series.push(C)}}),A}function _(x){this._dom=null,this.model=x}_.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.clone(n.title),lang:t.clone(n.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},_.prototype.onclick=function(x,w){var S=w.getDom(),A=this.model;this._dom&&S.removeChild(this._dom);var T=document.createElement("div");T.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",T.style.backgroundColor=A.get("backgroundColor")||"#fff";var M=document.createElement("h4"),C=A.get("lang")||[];M.innerHTML=C[0]||A.get("title"),M.style.cssText="margin: 10px 20px;",M.style.color=A.get("textColor");var L=document.createElement("div"),I=document.createElement("textarea");L.style.cssText="display:block;width:100%;overflow:auto;";var P=A.get("optionToContent"),R=A.get("contentToOption"),E=c(x);if(typeof P=="function"){var D=P(w.getOption());typeof D=="string"?L.innerHTML=D:t.isDom(D)&&L.appendChild(D)}else L.appendChild(I),I.readOnly=A.get("readOnly"),I.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",I.style.color=A.get("textColor"),I.style.borderColor=A.get("textareaBorderColor"),I.style.backgroundColor=A.get("textareaColor"),I.value=E.value;var k=E.meta,z=document.createElement("div");z.style.cssText="position:absolute;bottom:0;left:0;right:0;";var O="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",N=document.createElement("div"),B=document.createElement("div");O+=";background-color:"+A.get("buttonColor"),O+=";color:"+A.get("buttonTextColor");var q=this;function V(){S.removeChild(T),q._dom=null}r.addEventListener(N,"click",V),r.addEventListener(B,"click",function(){var G;try{typeof R=="function"?G=R(L,w.getOption()):G=m(I.value,k)}catch($){throw V(),new Error("Data view format error "+$)}G&&w.dispatchAction({type:"changeDataView",newOption:G}),V()}),N.innerHTML=C[1],B.innerHTML=C[2],B.style.cssText=O,N.style.cssText=O,!A.get("readOnly")&&z.appendChild(B),z.appendChild(N),r.addEventListener(I,"keydown",function(G){if((G.keyCode||G.which)===9){var $=this.value,Z=this.selectionStart,Y=this.selectionEnd;this.value=$.substring(0,Z)+d+$.substring(Y),this.selectionStart=this.selectionEnd=Z+1,r.stop(G)}}),T.appendChild(M),T.appendChild(L),T.appendChild(z),L.style.height=S.clientHeight-80+"px",S.appendChild(T),this._dom=T},_.prototype.remove=function(x,w){this._dom&&w.getDom().removeChild(this._dom)},_.prototype.dispose=function(x,w){this.remove(x,w)};function y(x,w){return t.map(x,function(S,A){var T=w&&w[A];return t.isObject(T)&&!t.isArray(T)?(t.isObject(S)&&!t.isArray(S)&&(S=S.value),t.defaults({value:S},T)):S})}i.register("dataView",_),e.registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(x,w){var S=[];t.each(x.newOption.series,function(A){var T=w.getSeriesByName(A.name)[0];if(!T)S.push(t.extend({type:"scatter"},A));else{var M=T.get("data");S.push({name:A.name,data:y(A.data,M)})}}),w.mergeOption(t.defaults({series:S},x.newOption))});var b=_;return rc=b,rc}var ka={},ab;function tC(){if(ab)return ka;ab=1;var e=F,t=e.each,r="\0_ec_hist_store";function a(o,f){var v=d(o);t(f,function(c,s){for(var l=v.length-1;l>=0;l--){var u=v[l];if(u[s])break}if(l<0){var p=o.queryComponents({mainType:"dataZoom",subType:"select",id:s})[0];if(p){var g=p.getPercentRange();v[0][s]={dataZoomId:s,start:g[0],end:g[1]}}}}),v.push(f)}function i(o){var f=d(o),v=f[f.length-1];f.length>1&&f.pop();var c={};return t(v,function(s,l){for(var u=f.length-1;u>=0;u--){var s=f[u][l];if(s){c[l]=s;break}}}),c}function n(o){o[r]=null}function h(o){return d(o).length}function d(o){var f=o[r];return f||(f=o[r]=[{}]),f}return ka.push=a,ka.pop=i,ka.clear=n,ka.count=h,ka}var ib={},ac,nb;function y3(){if(nb)return ac;nb=1;var e=sn(),t=e.extend({type:"dataZoom.select"});return ac=t,ac}var ic,ob;function _3(){if(ob)return ic;ob=1;var e=ln(),t=e.extend({type:"dataZoom.select"});return ic=t,ic}var sb;function x3(){return sb||(sb=1,$T(),sn(),ln(),y3(),_3(),UT(),WT()),ib}var nc,lb;function S3(){if(lb)return nc;lb=1;var e=ve,t=F,r=od(),a=FT(),i=tC(),n=nn(),h=fa,d=Xr();x3();var o=h.toolbox.dataZoom,f=t.each,v="\0_ec_\0toolbox-dataZoom_";function c(_,y,b){(this._brushController=new r(b.getZr())).on("brush",t.bind(this._onBrush,this)).mount(),this._isZoomActive}c.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.clone(o.title)};var s=c.prototype;s.render=function(_,y,b,x){this.model=_,this.ecModel=y,this.api=b,g(_,y,this,x,b),p(_,y)},s.onclick=function(_,y,b){l[b].call(this)},s.remove=function(_,y){this._brushController.unmount()},s.dispose=function(_,y){this._brushController.dispose()};var l={zoom:function(){var _=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:_})},back:function(){this._dispatchZoomAction(i.pop(this.ecModel))}};s._onBrush=function(_,y){if(!y.isEnd||!_.length)return;var b={},x=this.ecModel;this._brushController.updateCovers([]);var w=new a(u(this.model.option),x,{include:["grid"]});w.matchOutputRanges(_,x,function(T,M,C){if(C.type==="cartesian2d"){var L=T.brushType;L==="rect"?(S("x",C,M[0]),S("y",C,M[1])):S({lineX:"x",lineY:"y"}[L],C,M)}}),i.push(x,b),this._dispatchZoomAction(b);function S(T,M,C){var L=M.getAxis(T),I=L.model,P=A(T,I,x),R=P.findRepresentativeAxisProxy(I).getMinMaxSpan();(R.minValueSpan!=null||R.maxValueSpan!=null)&&(C=n(0,C.slice(),L.scale.getExtent(),0,R.minValueSpan,R.maxValueSpan)),P&&(b[P.id]={dataZoomId:P.id,startValue:C[0],endValue:C[1]})}function A(T,M,C){var L;return C.eachComponent({mainType:"dataZoom",subType:"select"},function(I){var P=I.getAxisModel(T,M.componentIndex);P&&(L=I)}),L}},s._dispatchZoomAction=function(_){var y=[];f(_,function(b,x){y.push(t.clone(b))}),y.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:y})};function u(_){var y={};return t.each(["xAxisIndex","yAxisIndex"],function(b){y[b]=_[b],y[b]==null&&(y[b]="all"),(y[b]===!1||y[b]==="none")&&(y[b]=[])}),y}function p(_,y){_.setIconStatus("back",i.count(y)>1?"emphasis":"normal")}function g(_,y,b,x,w){var S=b._isZoomActive;x&&x.type==="takeGlobalCursor"&&(S=x.key==="dataZoomSelect"?x.dataZoomSelectActive:!1),b._isZoomActive=S,_.setIconStatus("zoom",S?"emphasis":"normal");var A=new a(u(_.option),y,{include:["grid"]});b._brushController.setPanels(A.makePanelOpts(w,function(T){return T.xAxisDeclared&&!T.yAxisDeclared?"lineX":!T.xAxisDeclared&&T.yAxisDeclared?"lineY":"rect"})).enableBrush(S?{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}d.register("dataZoom",c),e.registerPreprocessor(function(_){if(!_)return;var y=_.dataZoom||(_.dataZoom=[]);t.isArray(y)||(_.dataZoom=y=[y]);var b=_.toolbox;if(b&&(t.isArray(b)&&(b=b[0]),b&&b.feature)){var x=b.feature.dataZoom;w("xAxis",x),w("yAxis",x)}function w(A,T){if(T){var M=A+"Index",C=T[M];C!=null&&C!="all"&&!t.isArray(C)&&(C=C===!1||C==="none"?[]:[C]),S(A,function(L,I){if(!(C!=null&&C!="all"&&t.indexOf(C,I)===-1)){var P={type:"select",$fromToolbox:!0,id:v+A+I};P[M]=I,y.push(P)}})}}function S(A,T){var M=_[A];t.isArray(M)||(M=M?[M]:[]),f(M,T)}});var m=c;return nc=m,nc}var oc,ub;function b3(){if(ub)return oc;ub=1;var e=ve,t=tC(),r=fa,a=Xr(),i=r.toolbox.restore;function n(o){this.model=o}n.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:i.title};var h=n.prototype;h.onclick=function(o,f,v){t.clear(o),f.dispatchAction({type:"restore",from:this.uid})},a.register("restore",n),e.registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(o,f){f.resetOption("recreate")});var d=n;return oc=d,oc}var vb;function w3(){return vb||(vb=1,f3(),d3(),g3(),p3(),m3(),S3(),b3()),QS}var hb={},cb={},Ai={},fb;function rC(){if(fb)return Ai;fb=1;var e=lt,t="urn:schemas-microsoft-com:vml",r=typeof window>"u"?null:window,a=!1,i=r&&r.document;function n(o){return h(o)}var h;if(i&&!e.canvasSupported)try{!i.namespaces.zrvml&&i.namespaces.add("zrvml",t),h=function(o){return i.createElement("<zrvml:"+o+' class="zrvml">')}}catch{h=function(f){return i.createElement("<"+f+' xmlns="'+t+'" class="zrvml">')}}function d(){if(!(a||!i)){a=!0;var o=i.styleSheets;o.length<31?i.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):o[0].addRule(".zrvml","behavior:url(#default#VML)")}}return Ai.doc=i,Ai.createNode=n,Ai.initVML=d,Ai}var db;function A3(){if(db)return cb;db=1;var e=lt,t=Ce,r=t.applyTransform,a=Qe,i=ut,n=Ze,h=Tr,d=Lw(),o=Zi,f=Yi,v=Xi,c=it,s=ei,l=To,u=rC(),p=s.CMD,g=Math.round,m=Math.sqrt,_=Math.abs,y=Math.cos,b=Math.sin,x=Math.max;if(!e.canvasSupported){var w=",",S="progid:DXImageTransform.Microsoft",A=21600,T=A/2,M=1e5,C=1e3,L=function(H){H.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",H.coordsize=A+","+A,H.coordorigin="0,0"},I=function(H){return String(H).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},P=function(H,U,X){return"rgb("+[H,U,X].join(",")+")"},R=function(H,U){U&&H&&U.parentNode!==H&&H.appendChild(U)},E=function(H,U){U&&H&&U.parentNode===H&&H.removeChild(U)},D=function(H,U,X){return(parseFloat(H)||0)*M+(parseFloat(U)||0)*C+X},k=function(H,U){return typeof H=="string"?H.lastIndexOf("%")>=0?parseFloat(H)/100*U:parseFloat(H):H},z=function(H,U,X){var ne=i.parse(U);X=+X,isNaN(X)&&(X=1),ne&&(H.color=P(ne[0],ne[1],ne[2]),H.opacity=X*ne[3])},O=function(H){var U=i.parse(H);return[P(U[0],U[1],U[2]),U[3]]},N=function(H,U,X){var ne=U.fill;if(ne!=null)if(ne instanceof l){var te,oe=0,he=[0,0],_e=0,be=1,xe=X.getBoundingRect(),ye=xe.width,de=xe.height;if(ne.type==="linear"){te="gradient";var De=X.transform,Ee=[ne.x*ye,ne.y*de],Le=[ne.x2*ye,ne.y2*de];De&&(r(Ee,Ee,De),r(Le,Le,De));var Ye=Le[0]-Ee[0],ht=Le[1]-Ee[1];oe=Math.atan2(Ye,ht)*180/Math.PI,oe<0&&(oe+=360),oe<1e-6&&(oe=0)}else{te="gradientradial";var Ee=[ne.x*ye,ne.y*de],De=X.transform,$e=X.scale,qe=ye,nt=de;he=[(Ee[0]-xe.x)/qe,(Ee[1]-xe.y)/nt],De&&r(Ee,Ee,De),qe/=$e[0]*A,nt/=$e[1]*A;var tt=x(qe,nt);_e=2*0/tt,be=2*ne.r/tt-_e}var Pe=ne.colorStops.slice();Pe.sort(function(Xe,ft){return Xe.offset-ft.offset});for(var ke=Pe.length,Ne=[],je=[],Ve=0;Ve<ke;Ve++){var Ue=Pe[Ve],ot=O(Ue.color);je.push(Ue.offset*be+_e+" "+ot[0]),(Ve===0||Ve===ke-1)&&Ne.push(ot)}if(ke>=2){var Gt=Ne[0][0],Jt=Ne[1][0],Ft=Ne[0][1]*U.opacity,ct=Ne[1][1]*U.opacity;H.type=te,H.method="none",H.focus="100%",H.angle=oe,H.color=Gt,H.color2=Jt,H.colors=je.join(","),H.opacity=ct,H.opacity2=Ft}te==="radial"&&(H.focusposition=he.join(","))}else z(H,ne,U.opacity)},B=function(H,U){U.lineDash!=null&&(H.dashstyle=U.lineDash.join(" ")),U.stroke!=null&&!(U.stroke instanceof l)&&z(H,U.stroke,U.opacity)},q=function(H,U,X,ne){var te=U=="fill",oe=H.getElementsByTagName(U)[0];X[U]!=null&&X[U]!=="none"&&(te||!te&&X.lineWidth)?(H[te?"filled":"stroked"]="true",X[U]instanceof l&&E(H,oe),oe||(oe=u.createNode(U)),te?N(oe,X,ne):B(oe,X),R(H,oe)):(H[te?"filled":"stroked"]="false",E(H,oe))},V=[[],[],[]],G=function(H,U){var X=p.M,ne=p.C,te=p.L,oe=p.A,he=p.Q,_e=[],be,xe,ye,de,De,Ee,Le=H.data,Ye=H.len();for(de=0;de<Ye;){switch(ye=Le[de++],xe="",be=0,ye){case X:xe=" m ",be=1,De=Le[de++],Ee=Le[de++],V[0][0]=De,V[0][1]=Ee;break;case te:xe=" l ",be=1,De=Le[de++],Ee=Le[de++],V[0][0]=De,V[0][1]=Ee;break;case he:case ne:xe=" c ",be=3;var dt=Le[de++],_t=Le[de++],ht=Le[de++],$e=Le[de++],qe,nt;ye===he?(qe=ht,nt=$e,ht=(ht+2*dt)/3,$e=($e+2*_t)/3,dt=(De+2*dt)/3,_t=(Ee+2*_t)/3):(qe=Le[de++],nt=Le[de++]),V[0][0]=dt,V[0][1]=_t,V[1][0]=ht,V[1][1]=$e,V[2][0]=qe,V[2][1]=nt,De=qe,Ee=nt;break;case oe:var tt=0,Pe=0,ke=1,Ne=1,je=0;U&&(tt=U[4],Pe=U[5],ke=m(U[0]*U[0]+U[1]*U[1]),Ne=m(U[2]*U[2]+U[3]*U[3]),je=Math.atan2(-U[1]/Ne,U[0]/ke));var Ve=Le[de++],Ue=Le[de++],ot=Le[de++],Gt=Le[de++],Jt=Le[de++]+je,Ft=Le[de++]+Jt+je;de++;var ct=Le[de++],Xe=Ve+y(Jt)*ot,ft=Ue+b(Jt)*Gt,dt=Ve+y(Ft)*ot,_t=Ue+b(Ft)*Gt,Ir=ct?" wa ":" at ";Math.abs(Xe-dt)<1e-4&&(Math.abs(Ft-Jt)>.01?ct&&(Xe+=270/A):Math.abs(ft-Ue)<1e-4?ct&&Xe<Ve||!ct&&Xe>Ve?_t-=270/A:_t+=270/A:ct&&ft<Ue||!ct&&ft>Ue?dt+=270/A:dt-=270/A),_e.push(Ir,g(((Ve-ot)*ke+tt)*A-T),w,g(((Ue-Gt)*Ne+Pe)*A-T),w,g(((Ve+ot)*ke+tt)*A-T),w,g(((Ue+Gt)*Ne+Pe)*A-T),w,g((Xe*ke+tt)*A-T),w,g((ft*Ne+Pe)*A-T),w,g((dt*ke+tt)*A-T),w,g((_t*Ne+Pe)*A-T)),De=dt,Ee=_t;break;case p.R:var Je=V[0],xt=V[1];Je[0]=Le[de++],Je[1]=Le[de++],xt[0]=Je[0]+Le[de++],xt[1]=Je[1]+Le[de++],U&&(r(Je,Je,U),r(xt,xt,U)),Je[0]=g(Je[0]*A-T),xt[0]=g(xt[0]*A-T),Je[1]=g(Je[1]*A-T),xt[1]=g(xt[1]*A-T),_e.push(" m ",Je[0],w,Je[1]," l ",xt[0],w,Je[1]," l ",xt[0],w,xt[1]," l ",Je[0],w,xt[1]);break;case p.Z:_e.push(" x ")}if(be>0){_e.push(xe);for(var Pr=0;Pr<be;Pr++){var xa=V[Pr];U&&r(xa,xa,U),_e.push(g(xa[0]*A-T),w,g(xa[1]*A-T),Pr<be-1?w:"")}}}return _e.join("")};c.prototype.brushVML=function(H){var U=this.style,X=this._vmlEl;X||(X=u.createNode("shape"),L(X),this._vmlEl=X),q(X,"fill",U,this),q(X,"stroke",U,this);var ne=this.transform,te=ne!=null,oe=X.getElementsByTagName("stroke")[0];if(oe){var he=U.lineWidth;if(te&&!U.strokeNoScale){var _e=ne[0]*ne[3]-ne[1]*ne[2];he*=m(_(_e))}oe.weight=he+"px"}var be=this.path||(this.path=new s);this.__dirtyPath&&(be.beginPath(),this.buildPath(be,this.shape),be.toStatic(),this.__dirtyPath=!1),X.path=G(be,this.transform),X.style.zIndex=D(this.zlevel,this.z,this.z2),R(H,X),U.text!=null?this.drawRectText(H,this.getBoundingRect()):this.removeRectText(H)},c.prototype.onRemove=function(H){E(H,this._vmlEl),this.removeRectText(H)},c.prototype.onAdd=function(H){R(H,this._vmlEl),this.appendRectText(H)};var $=function(H){return typeof H=="object"&&H.tagName&&H.tagName.toUpperCase()==="IMG"};f.prototype.brushVML=function(H){var U=this.style,X=U.image,ne,te;if($(X)){var oe=X.src;if(oe===this._imageSrc)ne=this._imageWidth,te=this._imageHeight;else{var he=X.runtimeStyle,_e=he.width,be=he.height;he.width="auto",he.height="auto",ne=X.width,te=X.height,he.width=_e,he.height=be,this._imageSrc=oe,this._imageWidth=ne,this._imageHeight=te}X=oe}else X===this._imageSrc&&(ne=this._imageWidth,te=this._imageHeight);if(X){var xe=U.x||0,ye=U.y||0,de=U.width,De=U.height,Ee=U.sWidth,Le=U.sHeight,Ye=U.sx||0,ht=U.sy||0,$e=Ee&&Le,qe=this._vmlEl;qe||(qe=u.doc.createElement("div"),L(qe),this._vmlEl=qe);var nt=qe.style,tt=!1,Pe,ke=1,Ne=1;if(this.transform&&(Pe=this.transform,ke=m(Pe[0]*Pe[0]+Pe[1]*Pe[1]),Ne=m(Pe[2]*Pe[2]+Pe[3]*Pe[3]),tt=Pe[1]||Pe[2]),tt){var je=[xe,ye],Ve=[xe+de,ye],Ue=[xe,ye+De],ot=[xe+de,ye+De];r(je,je,Pe),r(Ve,Ve,Pe),r(Ue,Ue,Pe),r(ot,ot,Pe);var Gt=x(je[0],Ve[0],Ue[0],ot[0]),Jt=x(je[1],Ve[1],Ue[1],ot[1]),Ft=[];Ft.push("M11=",Pe[0]/ke,w,"M12=",Pe[2]/Ne,w,"M21=",Pe[1]/ke,w,"M22=",Pe[3]/Ne,w,"Dx=",g(xe*ke+Pe[4]),w,"Dy=",g(ye*Ne+Pe[5])),nt.padding="0 "+g(Gt)+"px "+g(Jt)+"px 0",nt.filter=S+".Matrix("+Ft.join("")+", SizingMethod=clip)"}else Pe&&(xe=xe*ke+Pe[4],ye=ye*Ne+Pe[5]),nt.filter="",nt.left=g(xe)+"px",nt.top=g(ye)+"px";var ct=this._imageEl,Xe=this._cropEl;ct||(ct=u.doc.createElement("div"),this._imageEl=ct);var ft=ct.style;if($e){if(ne&&te)ft.width=g(ke*ne*de/Ee)+"px",ft.height=g(Ne*te*De/Le)+"px";else{var dt=new Image,_t=this;dt.onload=function(){dt.onload=null,ne=dt.width,te=dt.height,ft.width=g(ke*ne*de/Ee)+"px",ft.height=g(Ne*te*De/Le)+"px",_t._imageWidth=ne,_t._imageHeight=te,_t._imageSrc=X},dt.src=X}Xe||(Xe=u.doc.createElement("div"),Xe.style.overflow="hidden",this._cropEl=Xe);var Ir=Xe.style;Ir.width=g((de+Ye*de/Ee)*ke),Ir.height=g((De+ht*De/Le)*Ne),Ir.filter=S+".Matrix(Dx="+-Ye*de/Ee*ke+",Dy="+-ht*De/Le*Ne+")",Xe.parentNode||qe.appendChild(Xe),ct.parentNode!=Xe&&Xe.appendChild(ct)}else ft.width=g(ke*de)+"px",ft.height=g(Ne*De)+"px",qe.appendChild(ct),Xe&&Xe.parentNode&&(qe.removeChild(Xe),this._cropEl=null);var Je="",xt=U.opacity;xt<1&&(Je+=".Alpha(opacity="+g(xt*100)+") "),Je+=S+".AlphaImageLoader(src="+X+", SizingMethod=scale)",ft.filter=Je,qe.style.zIndex=D(this.zlevel,this.z,this.z2),R(H,qe),U.text!=null&&this.drawRectText(H,this.getBoundingRect())}},f.prototype.onRemove=function(H){E(H,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(H)},f.prototype.onAdd=function(H){R(H,this._vmlEl),this.appendRectText(H)};var Z="normal",Y={},Q=0,ee=100,J=document.createElement("div"),ae=function(H){var U=Y[H];if(!U){Q>ee&&(Q=0,Y={});var X=J.style,ne;try{X.font=H,ne=X.fontFamily.split(",")[0]}catch{}U={style:X.fontStyle||Z,variant:X.fontVariant||Z,weight:X.fontWeight||Z,size:parseFloat(X.fontSize||12)|0,family:ne||"Microsoft YaHei"},Y[H]=U,Q++}return U},j;n.$override("measureText",function(H,U){var X=u.doc;j||(j=X.createElement("div"),j.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",u.doc.body.appendChild(j));try{j.style.font=U}catch{}return j.innerHTML="",j.appendChild(X.createTextNode(H)),{width:j.offsetWidth}});for(var ie=new a,re=function(H,U,X,ne){var te=this.style;this.__dirty&&h.normalizeTextStyle(te,!0);var oe=te.text;if(oe!=null&&(oe+=""),!!oe){if(te.rich){var he=n.parseRichText(oe,te);oe=[];for(var _e=0;_e<he.lines.length;_e++){for(var be=he.lines[_e].tokens,xe=[],ye=0;ye<be.length;ye++)xe.push(be[ye].text);oe.push(xe.join(""))}oe=oe.join(`
`)}var de,De,Ee=te.textAlign,Le=te.textVerticalAlign,Ye=ae(te.font),ht=Ye.style+" "+Ye.variant+" "+Ye.weight+" "+Ye.size+'px "'+Ye.family+'"';X=X||n.getBoundingRect(oe,ht,Ee,Le);var $e=this.transform;if($e&&!ne&&(ie.copy(U),ie.applyTransform($e),U=ie),ne)de=U.x,De=U.y;else{var qe=te.textPosition,nt=te.textDistance;if(qe instanceof Array)de=U.x+k(qe[0],U.width),De=U.y+k(qe[1],U.height),Ee=Ee||"left";else{var tt=n.adjustTextPositionOnRect(qe,U,nt);de=tt.x,De=tt.y,Ee=Ee||tt.textAlign,Le=Le||tt.textVerticalAlign}}de=n.adjustTextX(de,X.width,Ee),De=n.adjustTextY(De,X.height,Le),De+=X.height/2;var Pe=u.createNode,ke=this._textVmlEl,Ne,je,Ve;ke?(Ve=ke.firstChild,Ne=Ve.nextSibling,je=Ne.nextSibling):(ke=Pe("line"),Ne=Pe("path"),je=Pe("textpath"),Ve=Pe("skew"),je.style["v-text-align"]="left",L(ke),Ne.textpathok=!0,je.on=!0,ke.from="0 0",ke.to="1000 0.05",R(ke,Ve),R(ke,Ne),R(ke,je),this._textVmlEl=ke);var Ue=[de,De],ot=ke.style;$e&&ne?(r(Ue,Ue,$e),Ve.on=!0,Ve.matrix=$e[0].toFixed(3)+w+$e[2].toFixed(3)+w+$e[1].toFixed(3)+w+$e[3].toFixed(3)+",0,0",Ve.offset=(g(Ue[0])||0)+","+(g(Ue[1])||0),Ve.origin="0 0",ot.left="0px",ot.top="0px"):(Ve.on=!1,ot.left=g(de)+"px",ot.top=g(De)+"px"),je.string=I(oe);try{je.style.font=ht}catch{}q(ke,"fill",{fill:te.textFill,opacity:te.opacity},this),q(ke,"stroke",{stroke:te.textStroke,opacity:te.opacity,lineDash:te.lineDash},this),ke.style.zIndex=D(this.zlevel,this.z,this.z2),R(H,ke)}},me=function(H){E(H,this._textVmlEl),this._textVmlEl=null},we=function(H){R(H,this._textVmlEl)},pe=[d,o,f,c,v],ce=0;ce<pe.length;ce++){var Se=pe[ce].prototype;Se.drawRectText=re,Se.removeRectText=me,Se.appendRectText=we}v.prototype.brushVML=function(H){var U=this.style;U.text!=null?this.drawRectText(H,{x:U.x||0,y:U.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(H)},v.prototype.onRemove=function(H){this.removeRectText(H)},v.prototype.onAdd=function(H){this.appendRectText(H)}}return cb}var sc,gb;function T3(){if(gb)return sc;gb=1;var e=Fi,t=rC(),r=F,a=r.each;function i(o){return parseInt(o,10)}function n(o,f){t.initVML(),this.root=o,this.storage=f;var v=document.createElement("div"),c=document.createElement("div");v.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",c.style.cssText="position:absolute;left:0;top:0;",o.appendChild(v),this._vmlRoot=c,this._vmlViewport=v,this.resize();var s=f.delFromStorage,l=f.addToStorage;f.delFromStorage=function(u){s.call(f,u),u&&u.onRemove&&u.onRemove(c)},f.addToStorage=function(u){u.onAdd&&u.onAdd(c),l.call(f,u)},this._firstPaint=!0}n.prototype={constructor:n,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var o=this.getViewportRoot();if(o)return{offsetLeft:o.offsetLeft||0,offsetTop:o.offsetTop||0}},refresh:function(){var o=this.storage.getDisplayList(!0,!0);this._paintList(o)},_paintList:function(o){for(var f=this._vmlRoot,v=0;v<o.length;v++){var c=o[v];c.invisible||c.ignore?(c.__alreadyNotVisible||c.onRemove(f),c.__alreadyNotVisible=!0):(c.__alreadyNotVisible&&c.onAdd(f),c.__alreadyNotVisible=!1,c.__dirty&&(c.beforeBrush&&c.beforeBrush(),(c.brushVML||c.brush).call(c,f),c.afterBrush&&c.afterBrush())),c.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(f),this._firstPaint=!1)},resize:function(v,c){var v=v??this._getWidth(),c=c??this._getHeight();if(this._width!=v||this._height!=c){this._width=v,this._height=c;var s=this._vmlViewport.style;s.width=v+"px",s.height=c+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var o=this.root,f=o.currentStyle;return(o.clientWidth||i(f.width))-i(f.paddingLeft)-i(f.paddingRight)|0},_getHeight:function(){var o=this.root,f=o.currentStyle;return(o.clientHeight||i(f.height))-i(f.paddingTop)-i(f.paddingBottom)|0}};function h(o){return function(){e('In IE8.0 VML mode painter not support method "'+o+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(o){n.prototype[o]=h(o)});var d=n;return sc=d,sc}var pb;function C3(){if(pb)return hb;pb=1,A3();var e=Ar,t=e.registerPainter,r=T3();return t("vml",r),hb}var mb={},Ti={},lc={},yb;function fd(){if(yb)return lc;yb=1;var e="http://www.w3.org/2000/svg";function t(r){return document.createElementNS(e,r)}return lc.createElement=t,lc}var _b;function dd(){if(_b)return Ti;_b=1;var e=fd(),t=e.createElement,r=ei,a=Qe,i=We,n=Ze,h=Tr,d=Xi,o=r.CMD,f=Array.prototype.join,v="none",c=Math.round,s=Math.sin,l=Math.cos,u=Math.PI,p=Math.PI*2,g=180/u,m=1e-4;function _(D){return c(D*1e4)/1e4}function y(D){return D<m&&D>-m}function b(D,k){var z=k?D.textFill:D.fill;return z!=null&&z!==v}function x(D,k){var z=k?D.textStroke:D.stroke;return z!=null&&z!==v}function w(D,k){k&&S(D,"transform","matrix("+f.call(k,",")+")")}function S(D,k,z){(!z||z.type!=="linear"&&z.type!=="radial")&&(typeof z=="string"&&z.indexOf("NaN")>-1&&console.log(z),D.setAttribute(k,z))}function A(D,k,z){D.setAttributeNS("http://www.w3.org/1999/xlink",k,z)}function T(D,k,z){if(b(k,z)){var O=z?k.textFill:k.fill;O=O==="transparent"?v:O,D.getAttribute("clip-path")!=="none"&&O===v&&(O="rgba(0, 0, 0, 0.002)"),S(D,"fill",O),S(D,"fill-opacity",k.opacity)}else S(D,"fill",v);if(x(k,z)){var N=z?k.textStroke:k.stroke;N=N==="transparent"?v:N,S(D,"stroke",N);var B=z?k.textStrokeWidth:k.lineWidth,q=!z&&k.strokeNoScale?k.host.getLineScale():1;S(D,"stroke-width",B/q),S(D,"paint-order",z?"stroke":"fill"),S(D,"stroke-opacity",k.opacity);var V=k.lineDash;V?(S(D,"stroke-dasharray",k.lineDash.join(",")),S(D,"stroke-dashoffset",c(k.lineDashOffset||0))):S(D,"stroke-dasharray",""),k.lineCap&&S(D,"stroke-linecap",k.lineCap),k.lineJoin&&S(D,"stroke-linejoin",k.lineJoin),k.miterLimit&&S(D,"stroke-miterlimit",k.miterLimit)}else S(D,"stroke",v)}function M(D){for(var k=[],z=D.data,O=D.len(),N=0;N<O;){var B=z[N++],q="",V=0;switch(B){case o.M:q="M",V=2;break;case o.L:q="L",V=2;break;case o.Q:q="Q",V=4;break;case o.C:q="C",V=6;break;case o.A:var G=z[N++],$=z[N++],Z=z[N++],Y=z[N++],Q=z[N++],ee=z[N++],J=z[N++],ae=z[N++],j=Math.abs(ee),ie=y(j-p)&&!y(j),re=!1;j>=p?re=!0:y(j)?re=!1:re=(ee>-u&&ee<0||ee>u)==!!ae;var me=_(G+Z*l(Q)),we=_($+Y*s(Q));ie&&(ae?ee=p-1e-4:ee=-p+1e-4,re=!0,N===9&&k.push("M",me,we));var pe=_(G+Z*l(Q+ee)),ce=_($+Y*s(Q+ee));k.push("A",_(Z),_(Y),c(J*g),+re,+ae,pe,ce);break;case o.Z:q="Z";break;case o.R:var pe=_(z[N++]),ce=_(z[N++]),Se=_(z[N++]),H=_(z[N++]);k.push("M",pe,ce,"L",pe+Se,ce,"L",pe+Se,ce+H,"L",pe,ce+H,"L",pe,ce);break}q&&k.push(q);for(var U=0;U<V;U++)k.push(_(z[N++]))}return k.join(" ")}var C={};C.brush=function(D){var k=D.style,z=D.__svgEl;z||(z=t("path"),D.__svgEl=z),D.path||D.createPathProxy();var O=D.path;if(D.__dirtyPath){O.beginPath(),D.buildPath(O,D.shape),D.__dirtyPath=!1;var N=M(O);N.indexOf("NaN")<0&&S(z,"d",N)}T(z,k),w(z,D.transform),k.text!=null&&R(D,D.getBoundingRect())};var L={};L.brush=function(D){var k=D.style,z=k.image;if(z instanceof HTMLImageElement){var O=z.src;z=O}if(z){var N=k.x||0,B=k.y||0,q=k.width,V=k.height,G=D.__svgEl;G||(G=t("image"),D.__svgEl=G),z!==D.__imageSrc&&(A(G,"href",z),D.__imageSrc=z),S(G,"width",q),S(G,"height",V),S(G,"x",N),S(G,"y",B),w(G,D.transform),k.text!=null&&R(D,D.getBoundingRect())}};var I={},P=new a,R=function(D,k,z){var O=D.style;D.__dirty&&h.normalizeTextStyle(O,!0);var N=O.text;if(N!=null){N+="";var B=D.__textSvgEl;B||(B=t("text"),D.__textSvgEl=B);var q,V,G=O.textPosition,$=O.textDistance,Z=O.textAlign||"left";typeof O.fontSize=="number"&&(O.fontSize+="px");var Y=O.font||[O.fontStyle||"",O.fontWeight||"",O.fontSize||"",O.fontFamily||""].join(" ")||n.DEFAULT_FONT,Q=E(O.textVerticalAlign);z=n.getBoundingRect(N,Y,Z,Q);var ee=z.lineHeight;if(G instanceof Array)q=k.x+G[0],V=k.y+G[1];else{var J=n.adjustTextPositionOnRect(G,k,$);q=J.x,V=J.y,Q=E(J.textVerticalAlign),Z=J.textAlign}S(B,"alignment-baseline",Q),Y&&(B.style.font=Y);var ae=O.textPadding;if(S(B,"x",q),S(B,"y",V),T(B,O,!0),D instanceof d||D.style.transformText)w(B,D.transform);else{if(D.transform)P.copy(k),P.applyTransform(D.transform),k=P;else{var j=D.transformCoordToGlobal(k.x,k.y);k.x=j[0],k.y=j[1]}var ie=O.textOrigin;ie==="center"?(q=z.width/2+q,V=z.height/2+V):ie&&(q=ie[0]+q,V=ie[1]+V);var re=-O.textRotation||0,me=i.create();i.rotate(me,D.transform,re),w(B,me)}var we=N.split(`
`),pe=we.length,ce=Z;ce==="left"?(ce="start",ae&&(q+=ae[3])):ce==="right"?(ce="end",ae&&(q-=ae[1])):ce==="center"&&(ce="middle",ae&&(q+=(ae[3]-ae[1])/2));var Se=0;if(Q==="baseline"?(Se=-z.height+ee,ae&&(Se-=ae[2])):Q==="middle"?(Se=(-z.height+ee)/2,ae&&(V+=(ae[0]-ae[2])/2)):ae&&(Se+=ae[0]),D.__text!==N||D.__textFont!==Y){var H=D.__tspanList||[];D.__tspanList=H;for(var U=0;U<pe;U++){var X=H[U];X?X.innerHTML="":(X=H[U]=t("tspan"),B.appendChild(X),S(X,"alignment-baseline",Q),S(X,"text-anchor",ce)),S(X,"x",q),S(X,"y",V+U*ee+Se),X.appendChild(document.createTextNode(we[U]))}for(;U<H.length;U++)B.removeChild(H[U]);H.length=pe,D.__text=N,D.__textFont=Y}else if(D.__tspanList.length)for(var ne=D.__tspanList.length,U=0;U<ne;++U){var X=D.__tspanList[U];X&&(S(X,"x",q),S(X,"y",V+U*ee+Se))}}};function E(D){return D==="middle"?"middle":D==="bottom"?"baseline":"hanging"}return I.drawRectText=R,I.brush=function(D){var k=D.style;k.text!=null&&(k.textPosition=[0,0],R(D,{x:k.x||0,y:k.y||0,width:0,height:0},D.getBoundingRect()))},Ti.path=C,Ti.image=L,Ti.text=I,Ti}var uc,xb;function M3(){if(xb)return uc;xb=1;function e(){}e.prototype={diff:function(n,h,d){d||(d=function(y,b){return y===b}),this.equals=d;var o=this;n=n.slice(),h=h.slice();var f=h.length,v=n.length,c=1,s=f+v,l=[{newPos:-1,components:[]}],u=this.extractCommon(l[0],h,n,0);if(l[0].newPos+1>=f&&u+1>=v){for(var p=[],g=0;g<h.length;g++)p.push(g);return[{indices:p,count:h.length}]}function m(){for(var y=-1*c;y<=c;y+=2){var b,x=l[y-1],w=l[y+1],S=(w?w.newPos:0)-y;x&&(l[y-1]=void 0);var A=x&&x.newPos+1<f,T=w&&0<=S&&S<v;if(!A&&!T){l[y]=void 0;continue}if(!A||T&&x.newPos<w.newPos?(b=r(w),o.pushComponent(b.components,void 0,!0)):(b=x,b.newPos++,o.pushComponent(b.components,!0,void 0)),S=o.extractCommon(b,h,n,y),b.newPos+1>=f&&S+1>=v)return t(o,b.components);l[y]=b}c++}for(;c<=s;){var _=m();if(_)return _}},pushComponent:function(n,h,d){var o=n[n.length-1];o&&o.added===h&&o.removed===d?n[n.length-1]={count:o.count+1,added:h,removed:d}:n.push({count:1,added:h,removed:d})},extractCommon:function(n,h,d,o){for(var f=h.length,v=d.length,c=n.newPos,s=c-o,l=0;c+1<f&&s+1<v&&this.equals(h[c+1],d[s+1]);)c++,s++,l++;return l&&n.components.push({count:l}),n.newPos=c,s},tokenize:function(n){return n.slice()},join:function(n){return n.slice()}};function t(n,h,d,o){for(var f=0,v=h.length,c=0,s=0;f<v;f++){var l=h[f];if(l.removed){for(var u=[],p=s;p<s+l.count;p++)u.push(p);l.indices=u,s+=l.count}else{for(var u=[],p=c;p<c+l.count;p++)u.push(p);l.indices=u,c+=l.count,l.added||(s+=l.count)}}return h}function r(n){return{newPos:n.newPos,components:n.components.slice(0)}}var a=new e;function i(n,h,d){return a.diff(n,h,d)}return uc=i,uc}var vc,Sb;function gd(){if(Sb)return vc;Sb=1;var e=fd(),t=e.createElement,r=F,a=it,i=Yi,n=Xi,h=dd(),d=h.path,o=h.image,f=h.text,v="0",c="1";function s(u,p,g,m,_){this._zrId=u,this._svgRoot=p,this._tagNames=typeof g=="string"?[g]:g,this._markLabel=m,this._domName=_||"_dom",this.nextId=0}s.prototype.createElement=t,s.prototype.getDefs=function(u){var p=this._svgRoot,g=this._svgRoot.getElementsByTagName("defs");return g.length===0?u?(g=p.insertBefore(this.createElement("defs"),p.firstChild),g.contains||(g.contains=function(m){var _=g.children;if(!_)return!1;for(var y=_.length-1;y>=0;--y)if(_[y]===m)return!0;return!1}),g):null:g[0]},s.prototype.update=function(u,p){if(u){var g=this.getDefs(!1);if(u[this._domName]&&g.contains(u[this._domName]))typeof p=="function"&&p(u);else{var m=this.add(u);m&&(u[this._domName]=m)}}},s.prototype.addDom=function(u){var p=this.getDefs(!0);p.appendChild(u)},s.prototype.removeDom=function(u){var p=this.getDefs(!1);p&&u[this._domName]&&(p.removeChild(u[this._domName]),u[this._domName]=null)},s.prototype.getDoms=function(){var u=this.getDefs(!1);if(!u)return[];var p=[];return r.each(this._tagNames,function(g){var m=u.getElementsByTagName(g);p=p.concat([].slice.call(m))}),p},s.prototype.markAllUnused=function(){var u=this.getDoms(),p=this;r.each(u,function(g){g[p._markLabel]=v})},s.prototype.markUsed=function(u){u&&(u[this._markLabel]=c)},s.prototype.removeUnused=function(){var u=this.getDefs(!1);if(u){var p=this.getDoms(),g=this;r.each(p,function(m){m[g._markLabel]!==c&&u.removeChild(m)})}},s.prototype.getSvgProxy=function(u){return u instanceof a?d:u instanceof i?o:u instanceof n?f:d},s.prototype.getTextSvgElement=function(u){return u.__textSvgEl},s.prototype.getSvgElement=function(u){return u.__svgEl};var l=s;return vc=l,vc}var hc,bb;function D3(){if(bb)return hc;bb=1;var e=gd(),t=F,r=Fi;function a(n,h){e.call(this,n,h,["linearGradient","radialGradient"],"__gradient_in_use__")}t.inherits(a,e),a.prototype.addWithoutUpdate=function(n,h){if(h&&h.style){var d=this;t.each(["fill","stroke"],function(o){if(h.style[o]&&(h.style[o].type==="linear"||h.style[o].type==="radial")){var f=h.style[o],v=d.getDefs(!0),c;f._dom?(c=f._dom,v.contains(f._dom)||d.addDom(c)):c=d.add(f),d.markUsed(h);var s=c.getAttribute("id");n.setAttribute(o,"url(#"+s+")")}})}},a.prototype.add=function(n){var h;if(n.type==="linear")h=this.createElement("linearGradient");else if(n.type==="radial")h=this.createElement("radialGradient");else return r("Illegal gradient type."),null;return n.id=n.id||this.nextId++,h.setAttribute("id","zr"+this._zrId+"-gradient-"+n.id),this.updateDom(n,h),this.addDom(h),h},a.prototype.update=function(n){var h=this;e.prototype.update.call(this,n,function(){var d=n.type,o=n._dom.tagName;d==="linear"&&o==="linearGradient"||d==="radial"&&o==="radialGradient"?h.updateDom(n,n._dom):(h.removeDom(n),h.add(n))})},a.prototype.updateDom=function(n,h){if(n.type==="linear")h.setAttribute("x1",n.x),h.setAttribute("y1",n.y),h.setAttribute("x2",n.x2),h.setAttribute("y2",n.y2);else if(n.type==="radial")h.setAttribute("cx",n.x),h.setAttribute("cy",n.y),h.setAttribute("r",n.r);else{r("Illegal gradient type.");return}n.global?h.setAttribute("gradientUnits","userSpaceOnUse"):h.setAttribute("gradientUnits","objectBoundingBox"),h.innerHTML="";for(var d=n.colorStops,o=0,f=d.length;o<f;++o){var v=this.createElement("stop");v.setAttribute("offset",d[o].offset*100+"%"),v.setAttribute("stop-color",d[o].color),h.appendChild(v)}n._dom=h},a.prototype.markUsed=function(n){if(n.style){var h=n.style.fill;h&&h._dom&&e.prototype.markUsed.call(this,h._dom),h=n.style.stroke,h&&h._dom&&e.prototype.markUsed.call(this,h._dom)}};var i=a;return hc=i,hc}var cc,wb;function L3(){if(wb)return cc;wb=1;var e=gd(),t=F,r=We;function a(n,h){e.call(this,n,h,"clipPath","__clippath_in_use__")}t.inherits(a,e),a.prototype.update=function(n){var h=this.getSvgElement(n);h&&this.updateDom(h,n.__clipPaths,!1);var d=this.getTextSvgElement(n);d&&this.updateDom(d,n.__clipPaths,!0),this.markUsed(n)},a.prototype.updateDom=function(n,h,d){if(h&&h.length>0){var o=this.getDefs(!0),f=h[0],v,c,s=d?"_textDom":"_dom";f[s]?(c=f[s].getAttribute("id"),v=f[s],o.contains(v)||o.appendChild(v)):(c="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,v=this.createElement("clipPath"),v.setAttribute("id",c),o.appendChild(v),f[s]=v);var l=this.getSvgProxy(f);if(f.transform&&f.parent.invTransform&&!d){var u=Array.prototype.slice.call(f.transform);r.mul(f.transform,f.parent.invTransform,f.transform),l.brush(f),f.transform=u}else l.brush(f);var p=this.getSvgElement(f);v.innerHTML="",v.appendChild(p.cloneNode()),n.setAttribute("clip-path","url(#"+c+")"),h.length>1&&this.updateDom(v,h.slice(1),d)}else n&&n.setAttribute("clip-path","none")},a.prototype.markUsed=function(n){var h=this;n.__clipPaths&&n.__clipPaths.length>0&&t.each(n.__clipPaths,function(d){d._dom&&e.prototype.markUsed.call(h,d._dom),d._textDom&&e.prototype.markUsed.call(h,d._textDom)})};var i=a;return cc=i,cc}var fc,Ab;function I3(){if(Ab)return fc;Ab=1;var e=gd(),t=F;function r(n,h){e.call(this,n,h,["filter"],"__filter_in_use__","_shadowDom")}t.inherits(r,e),r.prototype.addWithoutUpdate=function(n,h){if(h&&a(h.style)){var d=h.style,o;if(d._shadowDom){o=d._shadowDom;var f=this.getDefs(!0);f.contains(d._shadowDom)||this.addDom(o)}else o=this.add(h);this.markUsed(h);var v=o.getAttribute("id");n.style.filter="url(#"+v+")"}},r.prototype.add=function(n){var h=this.createElement("filter"),d=n.style;return d._shadowDomId=d._shadowDomId||this.nextId++,h.setAttribute("id","zr"+this._zrId+"-shadow-"+d._shadowDomId),this.updateDom(n,h),this.addDom(h),h},r.prototype.update=function(n,h){var d=h.style;if(a(d)){var o=this;e.prototype.update.call(this,h,function(f){o.updateDom(h,f._shadowDom)})}else this.remove(n,d)},r.prototype.remove=function(n,h){h._shadowDomId!=null&&(this.removeDom(h),n.style.filter="")},r.prototype.updateDom=function(n,h){var d=h.getElementsByTagName("feDropShadow");d.length===0?d=this.createElement("feDropShadow"):d=d[0];var o=n.style,f=n.scale&&n.scale[0]||1,v=n.scale&&n.scale[1]||1,c,s,l,u;if(o.shadowBlur||o.shadowOffsetX||o.shadowOffsetY)c=o.shadowOffsetX||0,s=o.shadowOffsetY||0,l=o.shadowBlur,u=o.shadowColor;else if(o.textShadowBlur)c=o.textShadowOffsetX||0,s=o.textShadowOffsetY||0,l=o.textShadowBlur,u=o.textShadowColor;else{this.removeDom(h,o);return}d.setAttribute("dx",c/f),d.setAttribute("dy",s/v),d.setAttribute("flood-color",u);var p=l/2/f,g=l/2/v,m=p+" "+g;d.setAttribute("stdDeviation",m),h.setAttribute("x","-100%"),h.setAttribute("y","-100%"),h.setAttribute("width",Math.ceil(l/2*200)+"%"),h.setAttribute("height",Math.ceil(l/2*200)+"%"),h.appendChild(d),o._shadowDom=h},r.prototype.markUsed=function(n){var h=n.style;h&&h._shadowDom&&e.prototype.markUsed.call(this,h._shadowDom)};function a(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY||n.textShadowBlur||n.textShadowOffsetX||n.textShadowOffsetY)}var i=r;return fc=i,fc}var dc,Tb;function P3(){if(Tb)return dc;Tb=1;var e=fd(),t=e.createElement,r=F,a=r.each,i=Fi,n=it,h=Yi,d=Xi,o=M3(),f=D3(),v=L3(),c=I3(),s=dd(),l=s.path,u=s.image,p=s.text;function g(C){return parseInt(C,10)}function m(C){return C instanceof n?l:C instanceof h?u:C instanceof d?p:l}function _(C,L){return L&&C&&L.parentNode!==C}function y(C,L,I){if(_(C,L)&&I){var P=I.nextSibling;P?C.insertBefore(L,P):C.appendChild(L)}}function b(C,L){if(_(C,L)){var I=C.firstChild;I?C.insertBefore(L,I):C.appendChild(L)}}function x(C,L){L&&C&&L.parentNode===C&&C.removeChild(L)}function w(C){return C.__textSvgEl}function S(C){return C.__svgEl}var A=function(C,L,I,P){this.root=C,this.storage=L,this._opts=I=r.extend({},I||{});var R=t("svg");R.setAttribute("xmlns","http://www.w3.org/2000/svg"),R.setAttribute("version","1.1"),R.setAttribute("baseProfile","full"),R.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new f(P,R),this.clipPathManager=new v(P,R),this.shadowManager=new c(P,R);var E=document.createElement("div");E.style.cssText="overflow:hidden;position:relative",this._svgRoot=R,this._viewport=E,C.appendChild(E),E.appendChild(R),this.resize(I.width,I.height),this._visibleList=[]};A.prototype={constructor:A,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var C=this.getViewportRoot();if(C)return{offsetLeft:C.offsetLeft||0,offsetTop:C.offsetTop||0}},refresh:function(){var C=this.storage.getDisplayList(!0);this._paintList(C)},setBackgroundColor:function(C){this._viewport.style.background=C},_paintList:function(C){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var L=this._svgRoot,I=this._visibleList,P=C.length,R=[],E;for(E=0;E<P;E++){var D=C[E],k=m(D),z=S(D)||w(D);D.invisible||(D.__dirty&&(k&&k.brush(D),this.clipPathManager.update(D),D.style&&(this.gradientManager.update(D.style.fill),this.gradientManager.update(D.style.stroke),this.shadowManager.update(z,D)),D.__dirty=!1),R.push(D))}var O=o(I,R),N;for(E=0;E<O.length;E++){var B=O[E];if(B.removed)for(var q=0;q<B.count;q++){var D=I[B.indices[q]],z=S(D),V=w(D);x(L,z),x(L,V)}}for(E=0;E<O.length;E++){var B=O[E];if(B.added)for(var q=0;q<B.count;q++){var D=R[B.indices[q]],z=S(D),V=w(D);N?y(L,z,N):b(L,z),z?y(L,V,z):N?y(L,V,N):b(L,V),y(L,V,z),N=V||z||N,this.gradientManager.addWithoutUpdate(z,D),this.shadowManager.addWithoutUpdate(N,D),this.clipPathManager.markUsed(D)}else if(!B.removed)for(var q=0;q<B.count;q++){var D=R[B.indices[q]];N=z=w(D)||S(D)||N,this.gradientManager.markUsed(D),this.gradientManager.addWithoutUpdate(z,D),this.shadowManager.markUsed(D),this.shadowManager.addWithoutUpdate(z,D),this.clipPathManager.markUsed(D)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=R},_getDefs:function(C){var L=this._svgRoot,I=this._svgRoot.getElementsByTagName("defs");if(I.length===0)if(C){var I=L.insertBefore(t("defs"),L.firstChild);return I.contains||(I.contains=function(R){var E=I.children;if(!E)return!1;for(var D=E.length-1;D>=0;--D)if(E[D]===R)return!0;return!1}),I}else return null;else return I[0]},resize:function(C,L){var I=this._viewport;I.style.display="none";var P=this._opts;if(C!=null&&(P.width=C),L!=null&&(P.height=L),C=this._getSize(0),L=this._getSize(1),I.style.display="",this._width!==C||this._height!==L){this._width=C,this._height=L;var R=I.style;R.width=C+"px",R.height=L+"px";var E=this._svgRoot;E.setAttribute("width",C),E.setAttribute("height",L)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(C){var L=this._opts,I=["width","height"][C],P=["clientWidth","clientHeight"][C],R=["paddingLeft","paddingTop"][C],E=["paddingRight","paddingBottom"][C];if(L[I]!=null&&L[I]!=="auto")return parseFloat(L[I]);var D=this.root,k=document.defaultView.getComputedStyle(D);return(D[P]||g(k[I])||g(D.style[I]))-(g(k[R])||0)-(g(k[E])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){this.refresh();var C=this._svgRoot.outerHTML;return"data:image/svg+xml;charset=UTF-8,"+C}};function T(C){return function(){i('In SVG mode painter not support method "'+C+'"')}}a(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(C){A.prototype[C]=T(C)});var M=A;return dc=M,dc}var Cb;function R3(){if(Cb)return mb;Cb=1,dd();var e=Ar,t=e.registerPainter,r=P3();return t("svg",r),mb}(function(e){var t=ve;(function(){for(var a in t){if(t==null||!t.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=t[a]}})();var r=sT();(function(){for(var a in r){if(r==null||!r.hasOwnProperty(a)||a==="default"||a==="__esModule")return;e[a]=r[a]}})(),hV(),gV(),xV(),AV(),kV(),WV(),jV(),oB(),SB(),TB(),LB(),HB(),ZB(),jB(),i5(),l5(),d5(),y5(),S5(),z5(),H5(),Z5(),Y5(),X5(),rq(),oq(),on(),yq(),Sq(),LT(),BT(),Lq(),Eq(),kq(),Hq(),Yq(),Qq(),e3(),a3(),c3(),w3(),C3(),R3()})(jc);const E3=mC(jc),k3=SC({__proto__:null,default:E3},[jc]);function O3(){const e=yC(),t=_C(()=>e.state.map),r=xC();return{getImg:Db,weather:CC,echarts:k3,serve:OC,map:t,store:e,mTime:r,pieActive:(i,n)=>{let h=-1,d=n.series[0].data.length;r.value=setInterval(()=>{i.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:h}),h=(h+1)%d,i.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:h}),i.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:h}),h>d&&(h=0)},2e3)}}}export{O3 as u};
